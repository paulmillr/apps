var id=Object.defineProperty;var ad=(e,t,n)=>t in e?id(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ye=(e,t,n)=>ad(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ri(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ie={},Zn=[],Ot=()=>{},ld=()=>!1,wr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),oi=e=>e.startsWith("onUpdate:"),Ze=Object.assign,ii=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},cd=Object.prototype.hasOwnProperty,Pe=(e,t)=>cd.call(e,t),pe=Array.isArray,Yn=e=>br(e)==="[object Map]",Il=e=>br(e)==="[object Set]",ve=e=>typeof e=="function",He=e=>typeof e=="string",Yt=e=>typeof e=="symbol",Ne=e=>e!==null&&typeof e=="object",$l=e=>(Ne(e)||ve(e))&&ve(e.then)&&ve(e.catch),Ll=Object.prototype.toString,br=e=>Ll.call(e),ud=e=>br(e).slice(8,-1),Bl=e=>br(e)==="[object Object]",ai=e=>He(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Es=ri(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_r=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},fd=/-(\w)/g,mt=_r(e=>e.replace(fd,(t,n)=>n?n.toUpperCase():"")),dd=/\B([A-Z])/g,Hn=_r(e=>e.replace(dd,"-$1").toLowerCase()),Er=_r(e=>e.charAt(0).toUpperCase()+e.slice(1)),Qr=_r(e=>e?`on${Er(e)}`:""),vn=(e,t)=>!Object.is(e,t),nr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Nl=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},ko=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ta;const Rr=()=>ta||(ta=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function li(e){if(pe(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=He(s)?yd(s):li(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(He(e)||Ne(e))return e}const hd=/;(?![^(]*\))/g,pd=/:([^]+)/,gd=/\/\*[^]*?\*\//g;function yd(e){const t={};return e.replace(gd,"").split(hd).forEach(n=>{if(n){const s=n.split(pd);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function me(e){let t="";if(He(e))t=e;else if(pe(e))for(let n=0;n<e.length;n++){const s=me(e[n]);s&&(t+=s+" ")}else if(Ne(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const vd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",md=ri(vd);function Ml(e){return!!e||e===""}const Ul=e=>!!(e&&e.__v_isRef===!0),ae=e=>He(e)?e:e==null?"":pe(e)||Ne(e)&&(e.toString===Ll||!ve(e.toString))?Ul(e)?ae(e.value):JSON.stringify(e,Ol,2):String(e),Ol=(e,t)=>Ul(t)?Ol(e,t.value):Yn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[Xr(s,o)+" =>"]=r,n),{})}:Il(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Xr(n))}:Yt(t)?Xr(t):Ne(t)&&!pe(t)&&!Bl(t)?String(t):t,Xr=(e,t="")=>{var n;return Yt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qe;class Fl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Qe,!t&&Qe&&(this.index=(Qe.scopes||(Qe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Qe;try{return Qe=this,t()}finally{Qe=n}}}on(){Qe=this}off(){Qe=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Hl(e){return new Fl(e)}function Dl(){return Qe}function wd(e,t=!1){Qe&&Qe.cleanups.push(e)}let Le;const eo=new WeakSet;class Vl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Qe&&Qe.active&&Qe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,eo.has(this)&&(eo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Wl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,na(this),ql(this);const t=Le,n=Et;Le=this,Et=!0;try{return this.fn()}finally{Kl(this),Le=t,Et=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)fi(t);this.deps=this.depsTail=void 0,na(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?eo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Co(this)&&this.run()}get dirty(){return Co(this)}}let jl=0,Rs,xs;function Wl(e,t=!1){if(e.flags|=8,t){e.next=xs,xs=e;return}e.next=Rs,Rs=e}function ci(){jl++}function ui(){if(--jl>0)return;if(xs){let t=xs;for(xs=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Rs;){let t=Rs;for(Rs=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function ql(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Kl(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),fi(s),bd(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function Co(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(zl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function zl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===$s))return;e.globalVersion=$s;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Co(e)){e.flags&=-3;return}const n=Le,s=Et;Le=e,Et=!0;try{ql(e);const r=e.fn(e._value);(t.version===0||vn(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Le=n,Et=s,Kl(e),e.flags&=-3}}function fi(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)fi(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function bd(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Et=!0;const Gl=[];function En(){Gl.push(Et),Et=!1}function Rn(){const e=Gl.pop();Et=e===void 0?!0:e}function na(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Le;Le=void 0;try{t()}finally{Le=n}}}let $s=0;class _d{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class di{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Le||!Et||Le===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Le)n=this.activeLink=new _d(Le,this),Le.deps?(n.prevDep=Le.depsTail,Le.depsTail.nextDep=n,Le.depsTail=n):Le.deps=Le.depsTail=n,Jl(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Le.depsTail,n.nextDep=void 0,Le.depsTail.nextDep=n,Le.depsTail=n,Le.deps===n&&(Le.deps=s)}return n}trigger(t){this.version++,$s++,this.notify(t)}notify(t){ci();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ui()}}}function Jl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Jl(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ar=new WeakMap,Ln=Symbol(""),Po=Symbol(""),Ls=Symbol("");function ze(e,t,n){if(Et&&Le){let s=ar.get(e);s||ar.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new di),r.map=s,r.key=n),r.track()}}function qt(e,t,n,s,r,o){const i=ar.get(e);if(!i){$s++;return}const a=l=>{l&&l.trigger()};if(ci(),t==="clear")i.forEach(a);else{const l=pe(e),c=l&&ai(n);if(l&&n==="length"){const f=Number(s);i.forEach((u,d)=>{(d==="length"||d===Ls||!Yt(d)&&d>=f)&&a(u)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),c&&a(i.get(Ls)),t){case"add":l?c&&a(i.get("length")):(a(i.get(Ln)),Yn(e)&&a(i.get(Po)));break;case"delete":l||(a(i.get(Ln)),Yn(e)&&a(i.get(Po)));break;case"set":Yn(e)&&a(i.get(Ln));break}}ui()}function Ed(e,t){const n=ar.get(e);return n&&n.get(t)}function Vn(e){const t=Se(e);return t===e?t:(ze(t,"iterate",Ls),yt(e)?t:t.map(Ge))}function xr(e){return ze(e=Se(e),"iterate",Ls),e}const Rd={__proto__:null,[Symbol.iterator](){return to(this,Symbol.iterator,Ge)},concat(...e){return Vn(this).concat(...e.map(t=>pe(t)?Vn(t):t))},entries(){return to(this,"entries",e=>(e[1]=Ge(e[1]),e))},every(e,t){return Dt(this,"every",e,t,void 0,arguments)},filter(e,t){return Dt(this,"filter",e,t,n=>n.map(Ge),arguments)},find(e,t){return Dt(this,"find",e,t,Ge,arguments)},findIndex(e,t){return Dt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Dt(this,"findLast",e,t,Ge,arguments)},findLastIndex(e,t){return Dt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Dt(this,"forEach",e,t,void 0,arguments)},includes(...e){return no(this,"includes",e)},indexOf(...e){return no(this,"indexOf",e)},join(e){return Vn(this).join(e)},lastIndexOf(...e){return no(this,"lastIndexOf",e)},map(e,t){return Dt(this,"map",e,t,void 0,arguments)},pop(){return ys(this,"pop")},push(...e){return ys(this,"push",e)},reduce(e,...t){return sa(this,"reduce",e,t)},reduceRight(e,...t){return sa(this,"reduceRight",e,t)},shift(){return ys(this,"shift")},some(e,t){return Dt(this,"some",e,t,void 0,arguments)},splice(...e){return ys(this,"splice",e)},toReversed(){return Vn(this).toReversed()},toSorted(e){return Vn(this).toSorted(e)},toSpliced(...e){return Vn(this).toSpliced(...e)},unshift(...e){return ys(this,"unshift",e)},values(){return to(this,"values",Ge)}};function to(e,t,n){const s=xr(e),r=s[t]();return s!==e&&!yt(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=n(o.value)),o}),r}const xd=Array.prototype;function Dt(e,t,n,s,r,o){const i=xr(e),a=i!==e&&!yt(e),l=i[t];if(l!==xd[t]){const u=l.apply(e,o);return a?Ge(u):u}let c=n;i!==e&&(a?c=function(u,d){return n.call(this,Ge(u),d,e)}:n.length>2&&(c=function(u,d){return n.call(this,u,d,e)}));const f=l.call(i,c,s);return a&&r?r(f):f}function sa(e,t,n,s){const r=xr(e);let o=n;return r!==e&&(yt(e)?n.length>3&&(o=function(i,a,l){return n.call(this,i,a,l,e)}):o=function(i,a,l){return n.call(this,i,Ge(a),l,e)}),r[t](o,...s)}function no(e,t,n){const s=Se(e);ze(s,"iterate",Ls);const r=s[t](...n);return(r===-1||r===!1)&&gi(n[0])?(n[0]=Se(n[0]),s[t](...n)):r}function ys(e,t,n=[]){En(),ci();const s=Se(e)[t].apply(e,n);return ui(),Rn(),s}const Sd=ri("__proto__,__v_isRef,__isVue"),Zl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Yt));function kd(e){Yt(e)||(e=String(e));const t=Se(this);return ze(t,"has",e),t.hasOwnProperty(e)}class Yl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?Md:tc:o?ec:Xl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=pe(t);if(!r){let l;if(i&&(l=Rd[n]))return l;if(n==="hasOwnProperty")return kd}const a=Reflect.get(t,n,Ue(t)?t:s);return(Yt(n)?Zl.has(n):Sd(n))||(r||ze(t,"get",n),o)?a:Ue(a)?i&&ai(n)?a:a.value:Ne(a)?r?sc(a):us(a):a}}class Ql extends Yl{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._isShallow){const l=Nn(o);if(!yt(s)&&!Nn(s)&&(o=Se(o),s=Se(s)),!pe(t)&&Ue(o)&&!Ue(s))return l?!1:(o.value=s,!0)}const i=pe(t)&&ai(n)?Number(n)<t.length:Pe(t,n),a=Reflect.set(t,n,s,Ue(t)?t:r);return t===Se(r)&&(i?vn(s,o)&&qt(t,"set",n,s):qt(t,"add",n,s)),a}deleteProperty(t,n){const s=Pe(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&qt(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!Yt(n)||!Zl.has(n))&&ze(t,"has",n),s}ownKeys(t){return ze(t,"iterate",pe(t)?"length":Ln),Reflect.ownKeys(t)}}class Cd extends Yl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Pd=new Ql,Td=new Cd,Ad=new Ql(!0);const To=e=>e,Ys=e=>Reflect.getPrototypeOf(e);function Id(e,t,n){return function(...s){const r=this.__v_raw,o=Se(r),i=Yn(o),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,c=r[e](...s),f=n?To:t?Ao:Ge;return!t&&ze(o,"iterate",l?Po:Ln),{next(){const{value:u,done:d}=c.next();return d?{value:u,done:d}:{value:a?[f(u[0]),f(u[1])]:f(u),done:d}},[Symbol.iterator](){return this}}}}function Qs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function $d(e,t){const n={get(r){const o=this.__v_raw,i=Se(o),a=Se(r);e||(vn(r,a)&&ze(i,"get",r),ze(i,"get",a));const{has:l}=Ys(i),c=t?To:e?Ao:Ge;if(l.call(i,r))return c(o.get(r));if(l.call(i,a))return c(o.get(a));o!==i&&o.get(r)},get size(){const r=this.__v_raw;return!e&&ze(Se(r),"iterate",Ln),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,i=Se(o),a=Se(r);return e||(vn(r,a)&&ze(i,"has",r),ze(i,"has",a)),r===a?o.has(r):o.has(r)||o.has(a)},forEach(r,o){const i=this,a=i.__v_raw,l=Se(a),c=t?To:e?Ao:Ge;return!e&&ze(l,"iterate",Ln),a.forEach((f,u)=>r.call(o,c(f),c(u),i))}};return Ze(n,e?{add:Qs("add"),set:Qs("set"),delete:Qs("delete"),clear:Qs("clear")}:{add(r){!t&&!yt(r)&&!Nn(r)&&(r=Se(r));const o=Se(this);return Ys(o).has.call(o,r)||(o.add(r),qt(o,"add",r,r)),this},set(r,o){!t&&!yt(o)&&!Nn(o)&&(o=Se(o));const i=Se(this),{has:a,get:l}=Ys(i);let c=a.call(i,r);c||(r=Se(r),c=a.call(i,r));const f=l.call(i,r);return i.set(r,o),c?vn(o,f)&&qt(i,"set",r,o):qt(i,"add",r,o),this},delete(r){const o=Se(this),{has:i,get:a}=Ys(o);let l=i.call(o,r);l||(r=Se(r),l=i.call(o,r)),a&&a.call(o,r);const c=o.delete(r);return l&&qt(o,"delete",r,void 0),c},clear(){const r=Se(this),o=r.size!==0,i=r.clear();return o&&qt(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Id(r,e,t)}),n}function hi(e,t){const n=$d(e,t);return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(Pe(n,r)&&r in s?n:s,r,o)}const Ld={get:hi(!1,!1)},Bd={get:hi(!1,!0)},Nd={get:hi(!0,!1)};const Xl=new WeakMap,ec=new WeakMap,tc=new WeakMap,Md=new WeakMap;function Ud(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Od(e){return e.__v_skip||!Object.isExtensible(e)?0:Ud(ud(e))}function us(e){return Nn(e)?e:pi(e,!1,Pd,Ld,Xl)}function nc(e){return pi(e,!1,Ad,Bd,ec)}function sc(e){return pi(e,!0,Td,Nd,tc)}function pi(e,t,n,s,r){if(!Ne(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const i=Od(e);if(i===0)return e;const a=new Proxy(e,i===2?s:n);return r.set(e,a),a}function mn(e){return Nn(e)?mn(e.__v_raw):!!(e&&e.__v_isReactive)}function Nn(e){return!!(e&&e.__v_isReadonly)}function yt(e){return!!(e&&e.__v_isShallow)}function gi(e){return e?!!e.__v_raw:!1}function Se(e){const t=e&&e.__v_raw;return t?Se(t):e}function yi(e){return!Pe(e,"__v_skip")&&Object.isExtensible(e)&&Nl(e,"__v_skip",!0),e}const Ge=e=>Ne(e)?us(e):e,Ao=e=>Ne(e)?sc(e):e;function Ue(e){return e?e.__v_isRef===!0:!1}function $(e){return rc(e,!1)}function Fd(e){return rc(e,!0)}function rc(e,t){return Ue(e)?e:new Hd(e,t)}class Hd{constructor(t,n){this.dep=new di,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Se(t),this._value=n?t:Ge(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||yt(t)||Nn(t);t=s?t:Se(t),vn(t,n)&&(this._rawValue=t,this._value=s?t:Ge(t),this.dep.trigger())}}function te(e){return Ue(e)?e.value:e}const Dd={get:(e,t,n)=>t==="__v_raw"?e:te(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return Ue(r)&&!Ue(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function oc(e){return mn(e)?e:new Proxy(e,Dd)}function Vd(e){const t=pe(e)?new Array(e.length):{};for(const n in e)t[n]=Wd(e,n);return t}class jd{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Ed(Se(this._object),this._key)}}function Wd(e,t,n){const s=e[t];return Ue(s)?s:new jd(e,t,n)}class qd{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new di(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=$s-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Le!==this)return Wl(this,!0),!0}get value(){const t=this.dep.track();return zl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Kd(e,t,n=!1){let s,r;return ve(e)?s=e:(s=e.get,r=e.set),new qd(s,r,n)}const Xs={},lr=new WeakMap;let Tn;function zd(e,t=!1,n=Tn){if(n){let s=lr.get(n);s||lr.set(n,s=[]),s.push(e)}}function Gd(e,t,n=Ie){const{immediate:s,deep:r,once:o,scheduler:i,augmentJob:a,call:l}=n,c=k=>r?k:yt(k)||r===!1||r===0?Kt(k,1):Kt(k);let f,u,d,h,y=!1,p=!1;if(Ue(e)?(u=()=>e.value,y=yt(e)):mn(e)?(u=()=>c(e),y=!0):pe(e)?(p=!0,y=e.some(k=>mn(k)||yt(k)),u=()=>e.map(k=>{if(Ue(k))return k.value;if(mn(k))return c(k);if(ve(k))return l?l(k,2):k()})):ve(e)?t?u=l?()=>l(e,2):e:u=()=>{if(d){En();try{d()}finally{Rn()}}const k=Tn;Tn=f;try{return l?l(e,3,[h]):e(h)}finally{Tn=k}}:u=Ot,t&&r){const k=u,L=r===!0?1/0:r;u=()=>Kt(k(),L)}const m=Dl(),b=()=>{f.stop(),m&&ii(m.effects,f)};if(o&&t){const k=t;t=(...L)=>{k(...L),b()}}let E=p?new Array(e.length).fill(Xs):Xs;const S=k=>{if(!(!(f.flags&1)||!f.dirty&&!k))if(t){const L=f.run();if(r||y||(p?L.some((T,F)=>vn(T,E[F])):vn(L,E))){d&&d();const T=Tn;Tn=f;try{const F=[L,E===Xs?void 0:p&&E[0]===Xs?[]:E,h];l?l(t,3,F):t(...F),E=L}finally{Tn=T}}}else f.run()};return a&&a(S),f=new Vl(u),f.scheduler=i?()=>i(S,!1):S,h=k=>zd(k,!1,f),d=f.onStop=()=>{const k=lr.get(f);if(k){if(l)l(k,4);else for(const L of k)L();lr.delete(f)}},t?s?S(!0):E=f.run():i?i(S.bind(null,!0),!0):f.run(),b.pause=f.pause.bind(f),b.resume=f.resume.bind(f),b.stop=b,b}function Kt(e,t=1/0,n){if(t<=0||!Ne(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ue(e))Kt(e.value,t,n);else if(pe(e))for(let s=0;s<e.length;s++)Kt(e[s],t,n);else if(Il(e)||Yn(e))e.forEach(s=>{Kt(s,t,n)});else if(Bl(e)){for(const s in e)Kt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Kt(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vs(e,t,n,s){try{return s?e(...s):e()}catch(r){Sr(r,t,n)}}function Ft(e,t,n,s){if(ve(e)){const r=Vs(e,t,n,s);return r&&$l(r)&&r.catch(o=>{Sr(o,t,n)}),r}if(pe(e)){const r=[];for(let o=0;o<e.length;o++)r.push(Ft(e[o],t,n,s));return r}}function Sr(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Ie;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const f=a.ec;if(f){for(let u=0;u<f.length;u++)if(f[u](e,l,c)===!1)return}a=a.parent}if(o){En(),Vs(o,null,10,[e,l,c]),Rn();return}}Jd(e,n,r,s,i)}function Jd(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const Xe=[];let Lt=-1;const Qn=[];let hn=null,qn=0;const ic=Promise.resolve();let cr=null;function ns(e){const t=cr||ic;return e?t.then(this?e.bind(this):e):t}function Zd(e){let t=Lt+1,n=Xe.length;for(;t<n;){const s=t+n>>>1,r=Xe[s],o=Bs(r);o<e||o===e&&r.flags&2?t=s+1:n=s}return t}function vi(e){if(!(e.flags&1)){const t=Bs(e),n=Xe[Xe.length-1];!n||!(e.flags&2)&&t>=Bs(n)?Xe.push(e):Xe.splice(Zd(t),0,e),e.flags|=1,ac()}}function ac(){cr||(cr=ic.then(cc))}function Yd(e){pe(e)?Qn.push(...e):hn&&e.id===-1?hn.splice(qn+1,0,e):e.flags&1||(Qn.push(e),e.flags|=1),ac()}function ra(e,t,n=Lt+1){for(;n<Xe.length;n++){const s=Xe[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Xe.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function lc(e){if(Qn.length){const t=[...new Set(Qn)].sort((n,s)=>Bs(n)-Bs(s));if(Qn.length=0,hn){hn.push(...t);return}for(hn=t,qn=0;qn<hn.length;qn++){const n=hn[qn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}hn=null,qn=0}}const Bs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function cc(e){try{for(Lt=0;Lt<Xe.length;Lt++){const t=Xe[Lt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Vs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Lt<Xe.length;Lt++){const t=Xe[Lt];t&&(t.flags&=-2)}Lt=-1,Xe.length=0,lc(),cr=null,(Xe.length||Qn.length)&&cc()}}let De=null,uc=null;function ur(e){const t=De;return De=e,uc=e&&e.type.__scopeId||null,t}function ut(e,t=De,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&pa(-1);const o=ur(t);let i;try{i=e(...r)}finally{ur(o),s._d&&pa(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Mn(e,t){if(De===null)return e;const n=Tr(De),s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,a,l=Ie]=t[r];o&&(ve(o)&&(o={mounted:o,updated:o}),o.deep&&Kt(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function Cn(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let l=a.dir[s];l&&(En(),Ft(l,n,8,[e.el,a,e,t]),Rn())}}const Qd=Symbol("_vte"),Xd=e=>e.__isTeleport;function mi(e,t){e.shapeFlag&6&&e.component?(e.transition=t,mi(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function be(e,t){return ve(e)?Ze({name:e.name},t,{setup:e}):e}function fc(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Io(e,t,n,s,r=!1){if(pe(e)){e.forEach((y,p)=>Io(y,t&&(pe(t)?t[p]:t),n,s,r));return}if(Xn(s)&&!r)return;const o=s.shapeFlag&4?Tr(s.component):s.el,i=r?null:o,{i:a,r:l}=e,c=t&&t.r,f=a.refs===Ie?a.refs={}:a.refs,u=a.setupState,d=Se(u),h=u===Ie?()=>!1:y=>Pe(d,y);if(c!=null&&c!==l&&(He(c)?(f[c]=null,h(c)&&(u[c]=null)):Ue(c)&&(c.value=null)),ve(l))Vs(l,a,12,[i,f]);else{const y=He(l),p=Ue(l);if(y||p){const m=()=>{if(e.f){const b=y?h(l)?u[l]:f[l]:l.value;r?pe(b)&&ii(b,o):pe(b)?b.includes(o)||b.push(o):y?(f[l]=[o],h(l)&&(u[l]=f[l])):(l.value=[o],e.k&&(f[e.k]=l.value))}else y?(f[l]=i,h(l)&&(u[l]=i)):p&&(l.value=i,e.k&&(f[e.k]=i))};i?(m.id=-1,ct(m,n)):m()}}}Rr().requestIdleCallback;Rr().cancelIdleCallback;const Xn=e=>!!e.type.__asyncLoader,dc=e=>e.type.__isKeepAlive;function eh(e,t){hc(e,"a",t)}function th(e,t){hc(e,"da",t)}function hc(e,t,n=qe){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(kr(t,s,n),n){let r=n.parent;for(;r&&r.parent;)dc(r.parent.vnode)&&nh(s,t,n,r),r=r.parent}}function nh(e,t,n,s){const r=kr(t,e,s,!0);js(()=>{ii(s[t],r)},n)}function kr(e,t,n=qe,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{En();const a=qs(n),l=Ft(t,n,e,i);return a(),Rn(),l});return s?r.unshift(o):r.push(o),o}}const Qt=e=>(t,n=qe)=>{(!Us||e==="sp")&&kr(e,(...s)=>t(...s),n)},sh=Qt("bm"),wt=Qt("m"),pc=Qt("bu"),wi=Qt("u"),rh=Qt("bum"),js=Qt("um"),oh=Qt("sp"),ih=Qt("rtg"),ah=Qt("rtc");function lh(e,t=qe){kr("ec",e,t)}const ch="components";function Ws(e,t){return fh(ch,e,!0,t)||e}const uh=Symbol.for("v-ndc");function fh(e,t,n=!0,s=!1){const r=De||qe;if(r){const o=r.type;{const a=ep(o,!1);if(a&&(a===t||a===mt(t)||a===Er(mt(t))))return o}const i=oa(r[e]||o[e],t)||oa(r.appContext[e],t);return!i&&s?o:i}}function oa(e,t){return e&&(e[t]||e[mt(t)]||e[Er(mt(t))])}function dt(e,t,n,s){let r;const o=n,i=pe(e);if(i||He(e)){const a=i&&mn(e);let l=!1;a&&(l=!yt(e),e=xr(e)),r=new Array(e.length);for(let c=0,f=e.length;c<f;c++)r[c]=t(l?Ge(e[c]):e[c],c,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,o)}else if(Ne(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,o));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const f=a[l];r[l]=t(e[f],f,l,o)}}else r=[];return r}function dh(e,t,n={},s,r){if(De.ce||De.parent&&Xn(De.parent)&&De.parent.ce)return R(),xe(_e,null,[ue("slot",n,s&&s())],64);let o=e[t];o&&o._c&&(o._d=!1),R();const i=o&&gc(o(n)),a=n.key||i&&i.key,l=xe(_e,{key:(a&&!Yt(a)?a:`_${t}`)+(!i&&s?"_fb":"")},i||(s?s():[]),i&&e._===1?64:-2);return o&&o._c&&(o._d=!0),l}function gc(e){return e.some(t=>Ms(t)?!(t.type===bn||t.type===_e&&!gc(t.children)):!0)?e:null}const $o=e=>e?Nc(e)?Tr(e):$o(e.parent):null,Ss=Ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>$o(e.parent),$root:e=>$o(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>vc(e),$forceUpdate:e=>e.f||(e.f=()=>{vi(e.update)}),$nextTick:e=>e.n||(e.n=ns.bind(e.proxy)),$watch:e=>Nh.bind(e)}),so=(e,t)=>e!==Ie&&!e.__isScriptSetup&&Pe(e,t),hh={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(so(s,t))return i[t]=1,s[t];if(r!==Ie&&Pe(r,t))return i[t]=2,r[t];if((c=e.propsOptions[0])&&Pe(c,t))return i[t]=3,o[t];if(n!==Ie&&Pe(n,t))return i[t]=4,n[t];Lo&&(i[t]=0)}}const f=Ss[t];let u,d;if(f)return t==="$attrs"&&ze(e.attrs,"get",""),f(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(n!==Ie&&Pe(n,t))return i[t]=4,n[t];if(d=l.config.globalProperties,Pe(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return so(r,t)?(r[t]=n,!0):s!==Ie&&Pe(s,t)?(s[t]=n,!0):Pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o}},i){let a;return!!n[i]||e!==Ie&&Pe(e,i)||so(t,i)||(a=o[0])&&Pe(a,i)||Pe(s,i)||Pe(Ss,i)||Pe(r.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Pe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ia(e){return pe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Lo=!0;function ph(e){const t=vc(e),n=e.proxy,s=e.ctx;Lo=!1,t.beforeCreate&&aa(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:a,provide:l,inject:c,created:f,beforeMount:u,mounted:d,beforeUpdate:h,updated:y,activated:p,deactivated:m,beforeDestroy:b,beforeUnmount:E,destroyed:S,unmounted:k,render:L,renderTracked:T,renderTriggered:F,errorCaptured:H,serverPrefetch:V,expose:x,inheritAttrs:B,components:G,directives:ne,filters:oe}=t;if(c&&gh(c,s,null),i)for(const W in i){const J=i[W];ve(J)&&(s[W]=J.bind(n))}if(r){const W=r.call(n,n);Ne(W)&&(e.data=us(W))}if(Lo=!0,o)for(const W in o){const J=o[W],N=ve(J)?J.bind(n,n):ve(J.get)?J.get.bind(n,n):Ot,K=!ve(J)&&ve(J.set)?J.set.bind(n):Ot,Z=he({get:N,set:K});Object.defineProperty(s,W,{enumerable:!0,configurable:!0,get:()=>Z.value,set:Y=>Z.value=Y})}if(a)for(const W in a)yc(a[W],s,n,W);if(l){const W=ve(l)?l.call(n):l;Reflect.ownKeys(W).forEach(J=>{sr(J,W[J])})}f&&aa(f,e,"c");function D(W,J){pe(J)?J.forEach(N=>W(N.bind(n))):J&&W(J.bind(n))}if(D(sh,u),D(wt,d),D(pc,h),D(wi,y),D(eh,p),D(th,m),D(lh,H),D(ah,T),D(ih,F),D(rh,E),D(js,k),D(oh,V),pe(x))if(x.length){const W=e.exposed||(e.exposed={});x.forEach(J=>{Object.defineProperty(W,J,{get:()=>n[J],set:N=>n[J]=N})})}else e.exposed||(e.exposed={});L&&e.render===Ot&&(e.render=L),B!=null&&(e.inheritAttrs=B),G&&(e.components=G),ne&&(e.directives=ne),V&&fc(e)}function gh(e,t,n=Ot){pe(e)&&(e=Bo(e));for(const s in e){const r=e[s];let o;Ne(r)?"default"in r?o=vt(r.from||s,r.default,!0):o=vt(r.from||s):o=vt(r),Ue(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[s]=o}}function aa(e,t,n){Ft(pe(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function yc(e,t,n,s){let r=s.includes(".")?Ac(n,s):()=>n[s];if(He(e)){const o=t[e];ve(o)&&Ve(r,o)}else if(ve(e))Ve(r,e.bind(n));else if(Ne(e))if(pe(e))e.forEach(o=>yc(o,t,n,s));else{const o=ve(e.handler)?e.handler.bind(n):t[e.handler];ve(o)&&Ve(r,o,e)}}function vc(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let l;return a?l=a:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(c=>fr(l,c,i,!0)),fr(l,t,i)),Ne(t)&&o.set(t,l),l}function fr(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&fr(e,o,n,!0),r&&r.forEach(i=>fr(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const a=yh[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const yh={data:la,props:ca,emits:ca,methods:_s,computed:_s,beforeCreate:Ye,created:Ye,beforeMount:Ye,mounted:Ye,beforeUpdate:Ye,updated:Ye,beforeDestroy:Ye,beforeUnmount:Ye,destroyed:Ye,unmounted:Ye,activated:Ye,deactivated:Ye,errorCaptured:Ye,serverPrefetch:Ye,components:_s,directives:_s,watch:mh,provide:la,inject:vh};function la(e,t){return t?e?function(){return Ze(ve(e)?e.call(this,this):e,ve(t)?t.call(this,this):t)}:t:e}function vh(e,t){return _s(Bo(e),Bo(t))}function Bo(e){if(pe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ye(e,t){return e?[...new Set([].concat(e,t))]:t}function _s(e,t){return e?Ze(Object.create(null),e,t):t}function ca(e,t){return e?pe(e)&&pe(t)?[...new Set([...e,...t])]:Ze(Object.create(null),ia(e),ia(t??{})):t}function mh(e,t){if(!e)return t;if(!t)return e;const n=Ze(Object.create(null),e);for(const s in t)n[s]=Ye(e[s],t[s]);return n}function mc(){return{app:null,config:{isNativeTag:ld,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wh=0;function bh(e,t){return function(s,r=null){ve(s)||(s=Ze({},s)),r!=null&&!Ne(r)&&(r=null);const o=mc(),i=new WeakSet,a=[];let l=!1;const c=o.app={_uid:wh++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:np,get config(){return o.config},set config(f){},use(f,...u){return i.has(f)||(f&&ve(f.install)?(i.add(f),f.install(c,...u)):ve(f)&&(i.add(f),f(c,...u))),c},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),c},component(f,u){return u?(o.components[f]=u,c):o.components[f]},directive(f,u){return u?(o.directives[f]=u,c):o.directives[f]},mount(f,u,d){if(!l){const h=c._ceVNode||ue(s,r);return h.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),e(h,f,d),l=!0,c._container=f,f.__vue_app__=c,Tr(h.component)}},onUnmount(f){a.push(f)},unmount(){l&&(Ft(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(f,u){return o.provides[f]=u,c},runWithContext(f){const u=Bn;Bn=c;try{return f()}finally{Bn=u}}};return c}}let Bn=null;function sr(e,t){if(qe){let n=qe.provides;const s=qe.parent&&qe.parent.provides;s===n&&(n=qe.provides=Object.create(s)),n[e]=t}}function vt(e,t,n=!1){const s=qe||De;if(s||Bn){const r=Bn?Bn._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&ve(t)?t.call(s&&s.proxy):t}}function _h(){return!!(qe||De||Bn)}const wc={},bc=()=>Object.create(wc),_c=e=>Object.getPrototypeOf(e)===wc;function Eh(e,t,n,s=!1){const r={},o=bc();e.propsDefaults=Object.create(null),Ec(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=s?r:nc(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function Rh(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,a=Se(r),[l]=e.propsOptions;let c=!1;if((s||i>0)&&!(i&16)){if(i&8){const f=e.vnode.dynamicProps;for(let u=0;u<f.length;u++){let d=f[u];if(Cr(e.emitsOptions,d))continue;const h=t[d];if(l)if(Pe(o,d))h!==o[d]&&(o[d]=h,c=!0);else{const y=mt(d);r[y]=No(l,a,y,h,e,!1)}else h!==o[d]&&(o[d]=h,c=!0)}}}else{Ec(e,t,r,o)&&(c=!0);let f;for(const u in a)(!t||!Pe(t,u)&&((f=Hn(u))===u||!Pe(t,f)))&&(l?n&&(n[u]!==void 0||n[f]!==void 0)&&(r[u]=No(l,a,u,void 0,e,!0)):delete r[u]);if(o!==a)for(const u in o)(!t||!Pe(t,u))&&(delete o[u],c=!0)}c&&qt(e.attrs,"set","")}function Ec(e,t,n,s){const[r,o]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(Es(l))continue;const c=t[l];let f;r&&Pe(r,f=mt(l))?!o||!o.includes(f)?n[f]=c:(a||(a={}))[f]=c:Cr(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,i=!0)}if(o){const l=Se(n),c=a||Ie;for(let f=0;f<o.length;f++){const u=o[f];n[u]=No(r,l,u,c[u],e,!Pe(c,u))}}return i}function No(e,t,n,s,r,o){const i=e[n];if(i!=null){const a=Pe(i,"default");if(a&&s===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&ve(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const f=qs(r);s=c[n]=l.call(null,t),f()}}else s=l;r.ce&&r.ce._setProp(n,s)}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===Hn(n))&&(s=!0))}return s}const xh=new WeakMap;function Rc(e,t,n=!1){const s=n?xh:t.propsCache,r=s.get(e);if(r)return r;const o=e.props,i={},a=[];let l=!1;if(!ve(e)){const f=u=>{l=!0;const[d,h]=Rc(u,t,!0);Ze(i,d),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!l)return Ne(e)&&s.set(e,Zn),Zn;if(pe(o))for(let f=0;f<o.length;f++){const u=mt(o[f]);ua(u)&&(i[u]=Ie)}else if(o)for(const f in o){const u=mt(f);if(ua(u)){const d=o[f],h=i[u]=pe(d)||ve(d)?{type:d}:Ze({},d),y=h.type;let p=!1,m=!0;if(pe(y))for(let b=0;b<y.length;++b){const E=y[b],S=ve(E)&&E.name;if(S==="Boolean"){p=!0;break}else S==="String"&&(m=!1)}else p=ve(y)&&y.name==="Boolean";h[0]=p,h[1]=m,(p||Pe(h,"default"))&&a.push(u)}}const c=[i,a];return Ne(e)&&s.set(e,c),c}function ua(e){return e[0]!=="$"&&!Es(e)}const xc=e=>e[0]==="_"||e==="$stable",bi=e=>pe(e)?e.map(Bt):[Bt(e)],Sh=(e,t,n)=>{if(t._n)return t;const s=ut((...r)=>bi(t(...r)),n);return s._c=!1,s},Sc=(e,t,n)=>{const s=e._ctx;for(const r in e){if(xc(r))continue;const o=e[r];if(ve(o))t[r]=Sh(r,o,s);else if(o!=null){const i=bi(o);t[r]=()=>i}}},kc=(e,t)=>{const n=bi(t);e.slots.default=()=>n},Cc=(e,t,n)=>{for(const s in t)(n||s!=="_")&&(e[s]=t[s])},kh=(e,t,n)=>{const s=e.slots=bc();if(e.vnode.shapeFlag&32){const r=t._;r?(Cc(s,t,n),n&&Nl(s,"_",r,!0)):Sc(t,s)}else t&&kc(e,t)},Ch=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,i=Ie;if(s.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:Cc(r,t,n):(o=!t.$stable,Sc(t,r)),i=t}else t&&(kc(e,t),i={default:1});if(o)for(const a in r)!xc(a)&&i[a]==null&&delete r[a]},ct=Vh;function Ph(e){return Th(e)}function Th(e,t){const n=Rr();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:c,setElementText:f,parentNode:u,nextSibling:d,setScopeId:h=Ot,insertStaticContent:y}=e,p=(v,g,_,P=null,O=null,I=null,q=void 0,X=null,ee=!!g.dynamicChildren)=>{if(v===g)return;v&&!vs(v,g)&&(P=M(v),Y(v,O,I,!0),v=null),g.patchFlag===-2&&(ee=!1,g.dynamicChildren=null);const{type:z,ref:fe,shapeFlag:ie}=g;switch(z){case Pr:m(v,g,_,P);break;case bn:b(v,g,_,P);break;case rr:v==null&&E(g,_,P,q);break;case _e:G(v,g,_,P,O,I,q,X,ee);break;default:ie&1?L(v,g,_,P,O,I,q,X,ee):ie&6?ne(v,g,_,P,O,I,q,X,ee):(ie&64||ie&128)&&z.process(v,g,_,P,O,I,q,X,ee,j)}fe!=null&&O&&Io(fe,v&&v.ref,I,g||v,!g)},m=(v,g,_,P)=>{if(v==null)s(g.el=a(g.children),_,P);else{const O=g.el=v.el;g.children!==v.children&&c(O,g.children)}},b=(v,g,_,P)=>{v==null?s(g.el=l(g.children||""),_,P):g.el=v.el},E=(v,g,_,P)=>{[v.el,v.anchor]=y(v.children,g,_,P,v.el,v.anchor)},S=({el:v,anchor:g},_,P)=>{let O;for(;v&&v!==g;)O=d(v),s(v,_,P),v=O;s(g,_,P)},k=({el:v,anchor:g})=>{let _;for(;v&&v!==g;)_=d(v),r(v),v=_;r(g)},L=(v,g,_,P,O,I,q,X,ee)=>{g.type==="svg"?q="svg":g.type==="math"&&(q="mathml"),v==null?T(g,_,P,O,I,q,X,ee):V(v,g,O,I,q,X,ee)},T=(v,g,_,P,O,I,q,X)=>{let ee,z;const{props:fe,shapeFlag:ie,transition:le,dirs:ce}=v;if(ee=v.el=i(v.type,I,fe&&fe.is,fe),ie&8?f(ee,v.children):ie&16&&H(v.children,ee,null,P,O,ro(v,I),q,X),ce&&Cn(v,null,P,"created"),F(ee,v,v.scopeId,q,P),fe){for(const $e in fe)$e!=="value"&&!Es($e)&&o(ee,$e,null,fe[$e],I,P);"value"in fe&&o(ee,"value",null,fe.value,I),(z=fe.onVnodeBeforeMount)&&Tt(z,P,v)}ce&&Cn(v,null,P,"beforeMount");const Re=Ah(O,le);Re&&le.beforeEnter(ee),s(ee,g,_),((z=fe&&fe.onVnodeMounted)||Re||ce)&&ct(()=>{z&&Tt(z,P,v),Re&&le.enter(ee),ce&&Cn(v,null,P,"mounted")},O)},F=(v,g,_,P,O)=>{if(_&&h(v,_),P)for(let I=0;I<P.length;I++)h(v,P[I]);if(O){let I=O.subTree;if(g===I||$c(I.type)&&(I.ssContent===g||I.ssFallback===g)){const q=O.vnode;F(v,q,q.scopeId,q.slotScopeIds,O.parent)}}},H=(v,g,_,P,O,I,q,X,ee=0)=>{for(let z=ee;z<v.length;z++){const fe=v[z]=X?pn(v[z]):Bt(v[z]);p(null,fe,g,_,P,O,I,q,X)}},V=(v,g,_,P,O,I,q)=>{const X=g.el=v.el;let{patchFlag:ee,dynamicChildren:z,dirs:fe}=g;ee|=v.patchFlag&16;const ie=v.props||Ie,le=g.props||Ie;let ce;if(_&&Pn(_,!1),(ce=le.onVnodeBeforeUpdate)&&Tt(ce,_,g,v),fe&&Cn(g,v,_,"beforeUpdate"),_&&Pn(_,!0),(ie.innerHTML&&le.innerHTML==null||ie.textContent&&le.textContent==null)&&f(X,""),z?x(v.dynamicChildren,z,X,_,P,ro(g,O),I):q||J(v,g,X,null,_,P,ro(g,O),I,!1),ee>0){if(ee&16)B(X,ie,le,_,O);else if(ee&2&&ie.class!==le.class&&o(X,"class",null,le.class,O),ee&4&&o(X,"style",ie.style,le.style,O),ee&8){const Re=g.dynamicProps;for(let $e=0;$e<Re.length;$e++){const Te=Re[$e],at=ie[Te],tt=le[Te];(tt!==at||Te==="value")&&o(X,Te,at,tt,O,_)}}ee&1&&v.children!==g.children&&f(X,g.children)}else!q&&z==null&&B(X,ie,le,_,O);((ce=le.onVnodeUpdated)||fe)&&ct(()=>{ce&&Tt(ce,_,g,v),fe&&Cn(g,v,_,"updated")},P)},x=(v,g,_,P,O,I,q)=>{for(let X=0;X<g.length;X++){const ee=v[X],z=g[X],fe=ee.el&&(ee.type===_e||!vs(ee,z)||ee.shapeFlag&70)?u(ee.el):_;p(ee,z,fe,null,P,O,I,q,!0)}},B=(v,g,_,P,O)=>{if(g!==_){if(g!==Ie)for(const I in g)!Es(I)&&!(I in _)&&o(v,I,g[I],null,O,P);for(const I in _){if(Es(I))continue;const q=_[I],X=g[I];q!==X&&I!=="value"&&o(v,I,X,q,O,P)}"value"in _&&o(v,"value",g.value,_.value,O)}},G=(v,g,_,P,O,I,q,X,ee)=>{const z=g.el=v?v.el:a(""),fe=g.anchor=v?v.anchor:a("");let{patchFlag:ie,dynamicChildren:le,slotScopeIds:ce}=g;ce&&(X=X?X.concat(ce):ce),v==null?(s(z,_,P),s(fe,_,P),H(g.children||[],_,fe,O,I,q,X,ee)):ie>0&&ie&64&&le&&v.dynamicChildren?(x(v.dynamicChildren,le,_,O,I,q,X),(g.key!=null||O&&g===O.subTree)&&Pc(v,g,!0)):J(v,g,_,fe,O,I,q,X,ee)},ne=(v,g,_,P,O,I,q,X,ee)=>{g.slotScopeIds=X,v==null?g.shapeFlag&512?O.ctx.activate(g,_,P,q,ee):oe(g,_,P,O,I,q,ee):U(v,g,ee)},oe=(v,g,_,P,O,I,q)=>{const X=v.component=Jh(v,P,O);if(dc(v)&&(X.ctx.renderer=j),Zh(X,!1,q),X.asyncDep){if(O&&O.registerDep(X,D,q),!v.el){const ee=X.subTree=ue(bn);b(null,ee,g,_)}}else D(X,v,g,_,O,I,q)},U=(v,g,_)=>{const P=g.component=v.component;if(Hh(v,g,_))if(P.asyncDep&&!P.asyncResolved){W(P,g,_);return}else P.next=g,P.update();else g.el=v.el,P.vnode=g},D=(v,g,_,P,O,I,q)=>{const X=()=>{if(v.isMounted){let{next:ie,bu:le,u:ce,parent:Re,vnode:$e}=v;{const Ct=Tc(v);if(Ct){ie&&(ie.el=$e.el,W(v,ie,q)),Ct.asyncDep.then(()=>{v.isUnmounted||X()});return}}let Te=ie,at;Pn(v,!1),ie?(ie.el=$e.el,W(v,ie,q)):ie=$e,le&&nr(le),(at=ie.props&&ie.props.onVnodeBeforeUpdate)&&Tt(at,Re,ie,$e),Pn(v,!0);const tt=da(v),kt=v.subTree;v.subTree=tt,p(kt,tt,u(kt.el),M(kt),v,O,I),ie.el=tt.el,Te===null&&Dh(v,tt.el),ce&&ct(ce,O),(at=ie.props&&ie.props.onVnodeUpdated)&&ct(()=>Tt(at,Re,ie,$e),O)}else{let ie;const{el:le,props:ce}=g,{bm:Re,m:$e,parent:Te,root:at,type:tt}=v,kt=Xn(g);Pn(v,!1),Re&&nr(Re),!kt&&(ie=ce&&ce.onVnodeBeforeMount)&&Tt(ie,Te,g),Pn(v,!0);{at.ce&&at.ce._injectChildStyle(tt);const Ct=v.subTree=da(v);p(null,Ct,_,P,v,O,I),g.el=Ct.el}if($e&&ct($e,O),!kt&&(ie=ce&&ce.onVnodeMounted)){const Ct=g;ct(()=>Tt(ie,Te,Ct),O)}(g.shapeFlag&256||Te&&Xn(Te.vnode)&&Te.vnode.shapeFlag&256)&&v.a&&ct(v.a,O),v.isMounted=!0,g=_=P=null}};v.scope.on();const ee=v.effect=new Vl(X);v.scope.off();const z=v.update=ee.run.bind(ee),fe=v.job=ee.runIfDirty.bind(ee);fe.i=v,fe.id=v.uid,ee.scheduler=()=>vi(fe),Pn(v,!0),z()},W=(v,g,_)=>{g.component=v;const P=v.vnode.props;v.vnode=g,v.next=null,Rh(v,g.props,P,_),Ch(v,g.children,_),En(),ra(v),Rn()},J=(v,g,_,P,O,I,q,X,ee=!1)=>{const z=v&&v.children,fe=v?v.shapeFlag:0,ie=g.children,{patchFlag:le,shapeFlag:ce}=g;if(le>0){if(le&128){K(z,ie,_,P,O,I,q,X,ee);return}else if(le&256){N(z,ie,_,P,O,I,q,X,ee);return}}ce&8?(fe&16&&se(z,O,I),ie!==z&&f(_,ie)):fe&16?ce&16?K(z,ie,_,P,O,I,q,X,ee):se(z,O,I,!0):(fe&8&&f(_,""),ce&16&&H(ie,_,P,O,I,q,X,ee))},N=(v,g,_,P,O,I,q,X,ee)=>{v=v||Zn,g=g||Zn;const z=v.length,fe=g.length,ie=Math.min(z,fe);let le;for(le=0;le<ie;le++){const ce=g[le]=ee?pn(g[le]):Bt(g[le]);p(v[le],ce,_,null,O,I,q,X,ee)}z>fe?se(v,O,I,!0,!1,ie):H(g,_,P,O,I,q,X,ee,ie)},K=(v,g,_,P,O,I,q,X,ee)=>{let z=0;const fe=g.length;let ie=v.length-1,le=fe-1;for(;z<=ie&&z<=le;){const ce=v[z],Re=g[z]=ee?pn(g[z]):Bt(g[z]);if(vs(ce,Re))p(ce,Re,_,null,O,I,q,X,ee);else break;z++}for(;z<=ie&&z<=le;){const ce=v[ie],Re=g[le]=ee?pn(g[le]):Bt(g[le]);if(vs(ce,Re))p(ce,Re,_,null,O,I,q,X,ee);else break;ie--,le--}if(z>ie){if(z<=le){const ce=le+1,Re=ce<fe?g[ce].el:P;for(;z<=le;)p(null,g[z]=ee?pn(g[z]):Bt(g[z]),_,Re,O,I,q,X,ee),z++}}else if(z>le)for(;z<=ie;)Y(v[z],O,I,!0),z++;else{const ce=z,Re=z,$e=new Map;for(z=Re;z<=le;z++){const lt=g[z]=ee?pn(g[z]):Bt(g[z]);lt.key!=null&&$e.set(lt.key,z)}let Te,at=0;const tt=le-Re+1;let kt=!1,Ct=0;const gs=new Array(tt);for(z=0;z<tt;z++)gs[z]=0;for(z=ce;z<=ie;z++){const lt=v[z];if(at>=tt){Y(lt,O,I,!0);continue}let Pt;if(lt.key!=null)Pt=$e.get(lt.key);else for(Te=Re;Te<=le;Te++)if(gs[Te-Re]===0&&vs(lt,g[Te])){Pt=Te;break}Pt===void 0?Y(lt,O,I,!0):(gs[Pt-Re]=z+1,Pt>=Ct?Ct=Pt:kt=!0,p(lt,g[Pt],_,null,O,I,q,X,ee),at++)}const Xi=kt?Ih(gs):Zn;for(Te=Xi.length-1,z=tt-1;z>=0;z--){const lt=Re+z,Pt=g[lt],ea=lt+1<fe?g[lt+1].el:P;gs[z]===0?p(null,Pt,_,ea,O,I,q,X,ee):kt&&(Te<0||z!==Xi[Te]?Z(Pt,_,ea,2):Te--)}}},Z=(v,g,_,P,O=null)=>{const{el:I,type:q,transition:X,children:ee,shapeFlag:z}=v;if(z&6){Z(v.component.subTree,g,_,P);return}if(z&128){v.suspense.move(g,_,P);return}if(z&64){q.move(v,g,_,j);return}if(q===_e){s(I,g,_);for(let ie=0;ie<ee.length;ie++)Z(ee[ie],g,_,P);s(v.anchor,g,_);return}if(q===rr){S(v,g,_);return}if(P!==2&&z&1&&X)if(P===0)X.beforeEnter(I),s(I,g,_),ct(()=>X.enter(I),O);else{const{leave:ie,delayLeave:le,afterLeave:ce}=X,Re=()=>s(I,g,_),$e=()=>{ie(I,()=>{Re(),ce&&ce()})};le?le(I,Re,$e):$e()}else s(I,g,_)},Y=(v,g,_,P=!1,O=!1)=>{const{type:I,props:q,ref:X,children:ee,dynamicChildren:z,shapeFlag:fe,patchFlag:ie,dirs:le,cacheIndex:ce}=v;if(ie===-2&&(O=!1),X!=null&&Io(X,null,_,v,!0),ce!=null&&(g.renderCache[ce]=void 0),fe&256){g.ctx.deactivate(v);return}const Re=fe&1&&le,$e=!Xn(v);let Te;if($e&&(Te=q&&q.onVnodeBeforeUnmount)&&Tt(Te,g,v),fe&6)Be(v.component,_,P);else{if(fe&128){v.suspense.unmount(_,P);return}Re&&Cn(v,null,g,"beforeUnmount"),fe&64?v.type.remove(v,g,_,j,P):z&&!z.hasOnce&&(I!==_e||ie>0&&ie&64)?se(z,g,_,!1,!0):(I===_e&&ie&384||!O&&fe&16)&&se(ee,g,_),P&&de(v)}($e&&(Te=q&&q.onVnodeUnmounted)||Re)&&ct(()=>{Te&&Tt(Te,g,v),Re&&Cn(v,null,g,"unmounted")},_)},de=v=>{const{type:g,el:_,anchor:P,transition:O}=v;if(g===_e){ke(_,P);return}if(g===rr){k(v);return}const I=()=>{r(_),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(v.shapeFlag&1&&O&&!O.persisted){const{leave:q,delayLeave:X}=O,ee=()=>q(_,I);X?X(v.el,I,ee):ee()}else I()},ke=(v,g)=>{let _;for(;v!==g;)_=d(v),r(v),v=_;r(g)},Be=(v,g,_)=>{const{bum:P,scope:O,job:I,subTree:q,um:X,m:ee,a:z}=v;fa(ee),fa(z),P&&nr(P),O.stop(),I&&(I.flags|=8,Y(q,v,g,_)),X&&ct(X,g),ct(()=>{v.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},se=(v,g,_,P=!1,O=!1,I=0)=>{for(let q=I;q<v.length;q++)Y(v[q],g,_,P,O)},M=v=>{if(v.shapeFlag&6)return M(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const g=d(v.anchor||v.el),_=g&&g[Qd];return _?d(_):g};let Q=!1;const C=(v,g,_)=>{v==null?g._vnode&&Y(g._vnode,null,null,!0):p(g._vnode||null,v,g,null,null,null,_),g._vnode=v,Q||(Q=!0,ra(),lc(),Q=!1)},j={p,um:Y,m:Z,r:de,mt:oe,mc:H,pc:J,pbc:x,n:M,o:e};return{render:C,hydrate:void 0,createApp:bh(C)}}function ro({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Pn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ah(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Pc(e,t,n=!1){const s=e.children,r=t.children;if(pe(s)&&pe(r))for(let o=0;o<s.length;o++){const i=s[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=pn(r[o]),a.el=i.el),!n&&a.patchFlag!==-2&&Pc(i,a)),a.type===Pr&&(a.el=i.el)}}function Ih(e){const t=e.slice(),n=[0];let s,r,o,i,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<c?o=a+1:i=a;c<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function Tc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Tc(t)}function fa(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const $h=Symbol.for("v-scx"),Lh=()=>vt($h);function Bh(e,t){return _i(e,null,t)}function Ve(e,t,n){return _i(e,t,n)}function _i(e,t,n=Ie){const{immediate:s,deep:r,flush:o,once:i}=n,a=Ze({},n),l=t&&s||!t&&o!=="post";let c;if(Us){if(o==="sync"){const h=Lh();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Ot,h.resume=Ot,h.pause=Ot,h}}const f=qe;a.call=(h,y,p)=>Ft(h,f,y,p);let u=!1;o==="post"?a.scheduler=h=>{ct(h,f&&f.suspense)}:o!=="sync"&&(u=!0,a.scheduler=(h,y)=>{y?h():vi(h)}),a.augmentJob=h=>{t&&(h.flags|=4),u&&(h.flags|=2,f&&(h.id=f.uid,h.i=f))};const d=Gd(e,t,a);return Us&&(c?c.push(d):l&&d()),d}function Nh(e,t,n){const s=this.proxy,r=He(e)?e.includes(".")?Ac(s,e):()=>s[e]:e.bind(s,s);let o;ve(t)?o=t:(o=t.handler,n=t);const i=qs(this),a=_i(r,o.bind(s),n);return i(),a}function Ac(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Mh=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${mt(t)}Modifiers`]||e[`${Hn(t)}Modifiers`];function Uh(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Ie;let r=n;const o=t.startsWith("update:"),i=o&&Mh(s,t.slice(7));i&&(i.trim&&(r=n.map(f=>He(f)?f.trim():f)),i.number&&(r=n.map(ko)));let a,l=s[a=Qr(t)]||s[a=Qr(mt(t))];!l&&o&&(l=s[a=Qr(Hn(t))]),l&&Ft(l,e,6,r);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ft(c,e,6,r)}}function Ic(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let i={},a=!1;if(!ve(e)){const l=c=>{const f=Ic(c,t,!0);f&&(a=!0,Ze(i,f))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Ne(e)&&s.set(e,null),null):(pe(o)?o.forEach(l=>i[l]=null):Ze(i,o),Ne(e)&&s.set(e,i),i)}function Cr(e,t){return!e||!wr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pe(e,t[0].toLowerCase()+t.slice(1))||Pe(e,Hn(t))||Pe(e,t))}function da(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[o],slots:i,attrs:a,emit:l,render:c,renderCache:f,props:u,data:d,setupState:h,ctx:y,inheritAttrs:p}=e,m=ur(e);let b,E;try{if(n.shapeFlag&4){const k=r||s,L=k;b=Bt(c.call(L,k,f,u,h,d,y)),E=a}else{const k=t;b=Bt(k.length>1?k(u,{attrs:a,slots:i,emit:l}):k(u,null)),E=t.props?a:Oh(a)}}catch(k){ks.length=0,Sr(k,e,1),b=ue(bn)}let S=b;if(E&&p!==!1){const k=Object.keys(E),{shapeFlag:L}=S;k.length&&L&7&&(o&&k.some(oi)&&(E=Fh(E,o)),S=ss(S,E,!1,!0))}return n.dirs&&(S=ss(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&mi(S,n.transition),b=S,ur(m),b}const Oh=e=>{let t;for(const n in e)(n==="class"||n==="style"||wr(n))&&((t||(t={}))[n]=e[n]);return t},Fh=(e,t)=>{const n={};for(const s in e)(!oi(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Hh(e,t,n){const{props:s,children:r,component:o}=e,{props:i,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?ha(s,i,c):!!i;if(l&8){const f=t.dynamicProps;for(let u=0;u<f.length;u++){const d=f[u];if(i[d]!==s[d]&&!Cr(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?ha(s,i,c):!0:!!i;return!1}function ha(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!Cr(n,o))return!0}return!1}function Dh({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const $c=e=>e.__isSuspense;function Vh(e,t){t&&t.pendingBranch?pe(e)?t.effects.push(...e):t.effects.push(e):Yd(e)}const _e=Symbol.for("v-fgt"),Pr=Symbol.for("v-txt"),bn=Symbol.for("v-cmt"),rr=Symbol.for("v-stc"),ks=[];let ft=null;function R(e=!1){ks.push(ft=e?null:[])}function jh(){ks.pop(),ft=ks[ks.length-1]||null}let Ns=1;function pa(e){Ns+=e,e<0&&ft&&(ft.hasOnce=!0)}function Lc(e){return e.dynamicChildren=Ns>0?ft||Zn:null,jh(),Ns>0&&ft&&ft.push(e),e}function A(e,t,n,s,r,o){return Lc(w(e,t,n,s,r,o,!0))}function xe(e,t,n,s,r){return Lc(ue(e,t,n,s,r,!0))}function Ms(e){return e?e.__v_isVNode===!0:!1}function vs(e,t){return e.type===t.type&&e.key===t.key}const Bc=({key:e})=>e??null,or=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?He(e)||Ue(e)||ve(e)?{i:De,r:e,k:t,f:!!n}:e:null);function w(e,t=null,n=null,s=0,r=null,o=e===_e?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Bc(t),ref:t&&or(t),scopeId:uc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:De};return a?(Ei(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=He(n)?8:16),Ns>0&&!i&&ft&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&ft.push(l),l}const ue=Wh;function Wh(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===uh)&&(e=bn),Ms(e)){const a=ss(e,t,!0);return n&&Ei(a,n),Ns>0&&!o&&ft&&(a.shapeFlag&6?ft[ft.indexOf(e)]=a:ft.push(a)),a.patchFlag=-2,a}if(tp(e)&&(e=e.__vccOpts),t){t=qh(t);let{class:a,style:l}=t;a&&!He(a)&&(t.class=me(a)),Ne(l)&&(gi(l)&&!pe(l)&&(l=Ze({},l)),t.style=li(l))}const i=He(e)?1:$c(e)?128:Xd(e)?64:Ne(e)?4:ve(e)?2:0;return w(e,t,n,s,r,i,o,!0)}function qh(e){return e?gi(e)||_c(e)?Ze({},e):e:null}function ss(e,t,n=!1,s=!1){const{props:r,ref:o,patchFlag:i,children:a,transition:l}=e,c=t?Kh(r||{},t):r,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Bc(c),ref:t&&t.ref?n&&o?pe(o)?o.concat(or(t)):[o,or(t)]:or(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==_e?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ss(e.ssContent),ssFallback:e.ssFallback&&ss(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&mi(f,l.clone(f)),f}function Ee(e=" ",t=0){return ue(Pr,null,e,t)}function oo(e,t){const n=ue(rr,null,e);return n.staticCount=t,n}function re(e="",t=!1){return t?(R(),xe(bn,null,e)):ue(bn,null,e)}function Bt(e){return e==null||typeof e=="boolean"?ue(bn):pe(e)?ue(_e,null,e.slice()):Ms(e)?pn(e):ue(Pr,null,String(e))}function pn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ss(e)}function Ei(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(pe(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Ei(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!_c(t)?t._ctx=De:r===3&&De&&(De.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ve(t)?(t={default:t,_ctx:De},n=32):(t=String(t),s&64?(n=16,t=[Ee(t)]):n=8);e.children=t,e.shapeFlag|=n}function Kh(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=me([t.class,s.class]));else if(r==="style")t.style=li([t.style,s.style]);else if(wr(r)){const o=t[r],i=s[r];i&&o!==i&&!(pe(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=s[r])}return t}function Tt(e,t,n,s=null){Ft(e,t,7,[n,s])}const zh=mc();let Gh=0;function Jh(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||zh,o={uid:Gh++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Fl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Rc(s,r),emitsOptions:Ic(s,r),emit:null,emitted:null,propsDefaults:Ie,inheritAttrs:s.inheritAttrs,ctx:Ie,data:Ie,props:Ie,attrs:Ie,slots:Ie,refs:Ie,setupState:Ie,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Uh.bind(null,o),e.ce&&e.ce(o),o}let qe=null,dr,Mo;{const e=Rr(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};dr=t("__VUE_INSTANCE_SETTERS__",n=>qe=n),Mo=t("__VUE_SSR_SETTERS__",n=>Us=n)}const qs=e=>{const t=qe;return dr(e),e.scope.on(),()=>{e.scope.off(),dr(t)}},ga=()=>{qe&&qe.scope.off(),dr(null)};function Nc(e){return e.vnode.shapeFlag&4}let Us=!1;function Zh(e,t=!1,n=!1){t&&Mo(t);const{props:s,children:r}=e.vnode,o=Nc(e);Eh(e,s,o,t),kh(e,r,n);const i=o?Yh(e,t):void 0;return t&&Mo(!1),i}function Yh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,hh);const{setup:s}=n;if(s){En();const r=e.setupContext=s.length>1?Xh(e):null,o=qs(e),i=Vs(s,e,0,[e.props,r]),a=$l(i);if(Rn(),o(),(a||e.sp)&&!Xn(e)&&fc(e),a){if(i.then(ga,ga),t)return i.then(l=>{ya(e,l)}).catch(l=>{Sr(l,e,0)});e.asyncDep=i}else ya(e,i)}else Mc(e)}function ya(e,t,n){ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ne(t)&&(e.setupState=oc(t)),Mc(e)}function Mc(e,t,n){const s=e.type;e.render||(e.render=s.render||Ot);{const r=qs(e);En();try{ph(e)}finally{Rn(),r()}}}const Qh={get(e,t){return ze(e,"get",""),e[t]}};function Xh(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Qh),slots:e.slots,emit:e.emit,expose:t}}function Tr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(oc(yi(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ss)return Ss[n](e)},has(t,n){return n in t||n in Ss}})):e.proxy}function ep(e,t=!0){return ve(e)?e.displayName||e.name:e.name||t&&e.__name}function tp(e){return ve(e)&&"__vccOpts"in e}const he=(e,t)=>Kd(e,t,Us);function Uc(e,t,n){const s=arguments.length;return s===2?Ne(t)&&!pe(t)?Ms(t)?ue(e,null,[t]):ue(e,t):ue(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ms(n)&&(n=[n]),ue(e,t,n))}const np="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Uo;const va=typeof window<"u"&&window.trustedTypes;if(va)try{Uo=va.createPolicy("vue",{createHTML:e=>e})}catch{}const Oc=Uo?e=>Uo.createHTML(e):e=>e,sp="http://www.w3.org/2000/svg",rp="http://www.w3.org/1998/Math/MathML",Wt=typeof document<"u"?document:null,ma=Wt&&Wt.createElement("template"),op={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?Wt.createElementNS(sp,e):t==="mathml"?Wt.createElementNS(rp,e):n?Wt.createElement(e,{is:n}):Wt.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Wt.createTextNode(e),createComment:e=>Wt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Wt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const i=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{ma.innerHTML=Oc(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=ma.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ip=Symbol("_vtc");function ap(e,t,n){const s=e[ip];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const wa=Symbol("_vod"),lp=Symbol("_vsh"),cp=Symbol(""),up=/(^|;)\s*display\s*:/;function fp(e,t,n){const s=e.style,r=He(n);let o=!1;if(n&&!r){if(t)if(He(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&ir(s,a,"")}else for(const i in t)n[i]==null&&ir(s,i,"");for(const i in n)i==="display"&&(o=!0),ir(s,i,n[i])}else if(r){if(t!==n){const i=s[cp];i&&(n+=";"+i),s.cssText=n,o=up.test(n)}}else t&&e.removeAttribute("style");wa in e&&(e[wa]=o?s.display:"",e[lp]&&(s.display="none"))}const ba=/\s*!important$/;function ir(e,t,n){if(pe(n))n.forEach(s=>ir(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=dp(e,t);ba.test(n)?e.setProperty(Hn(s),n.replace(ba,""),"important"):e[s]=n}}const _a=["Webkit","Moz","ms"],io={};function dp(e,t){const n=io[t];if(n)return n;let s=mt(t);if(s!=="filter"&&s in e)return io[t]=s;s=Er(s);for(let r=0;r<_a.length;r++){const o=_a[r]+s;if(o in e)return io[t]=o}return t}const Ea="http://www.w3.org/1999/xlink";function Ra(e,t,n,s,r,o=md(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ea,t.slice(6,t.length)):e.setAttributeNS(Ea,t,n):n==null||o&&!Ml(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Yt(n)?String(n):n)}function xa(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Oc(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Ml(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(r||t)}function Kn(e,t,n,s){e.addEventListener(t,n,s)}function hp(e,t,n,s){e.removeEventListener(t,n,s)}const Sa=Symbol("_vei");function pp(e,t,n,s,r=null){const o=e[Sa]||(e[Sa]={}),i=o[t];if(s&&i)i.value=s;else{const[a,l]=gp(t);if(s){const c=o[t]=mp(s,r);Kn(e,a,c,l)}else i&&(hp(e,a,i,l),o[t]=void 0)}}const ka=/(?:Once|Passive|Capture)$/;function gp(e){let t;if(ka.test(e)){t={};let s;for(;s=e.match(ka);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Hn(e.slice(2)),t]}let ao=0;const yp=Promise.resolve(),vp=()=>ao||(yp.then(()=>ao=0),ao=Date.now());function mp(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ft(wp(s,n.value),t,5,[s])};return n.value=e,n.attached=vp(),n}function wp(e,t){if(pe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Ca=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,bp=(e,t,n,s,r,o)=>{const i=r==="svg";t==="class"?ap(e,s,i):t==="style"?fp(e,n,s):wr(t)?oi(t)||pp(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):_p(e,t,s,i))?(xa(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ra(e,t,s,i,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!He(s))?xa(e,mt(t),s,o,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Ra(e,t,s,i))};function _p(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ca(t)&&ve(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ca(t)&&He(n)?!1:t in e}const Pa=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pe(t)?n=>nr(t,n):t};function Ep(e){e.target.composing=!0}function Ta(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const lo=Symbol("_assign"),Un={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[lo]=Pa(r);const o=s||r.props&&r.props.type==="number";Kn(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=ko(a)),e[lo](a)}),n&&Kn(e,"change",()=>{e.value=e.value.trim()}),t||(Kn(e,"compositionstart",Ep),Kn(e,"compositionend",Ta),Kn(e,"change",Ta))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:r,number:o}},i){if(e[lo]=Pa(i),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?ko(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||r&&e.value.trim()===l)||(e.value=l))}},Rp=["ctrl","shift","alt","meta"],xp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Rp.some(n=>e[`${n}Key`]&&!t.includes(n))},On=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...o)=>{for(let i=0;i<t.length;i++){const a=xp[t[i]];if(a&&a(r,t))return}return e(r,...o)})},Sp=Ze({patchProp:bp},op);let Aa;function kp(){return Aa||(Aa=Ph(Sp))}const Cp=(...e)=>{const t=kp().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=Tp(s);if(!r)return;const o=t._component;!ve(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,Pp(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function Pp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Tp(e){return He(e)?document.querySelector(e):e}/*!
 * pinia v2.2.6
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Fc;const Ar=e=>Fc=e,Hc=Symbol();function Oo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Cs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Cs||(Cs={}));function Ap(){const e=Hl(!0),t=e.run(()=>$({}));let n=[],s=[];const r=yi({install(o){Ar(r),r._a=o,o.provide(Hc,r),o.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(o){return this._a?n.push(o):s.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const Dc=()=>{};function Ia(e,t,n,s=Dc){e.push(t);const r=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),s())};return!n&&Dl()&&wd(r),r}function jn(e,...t){e.slice().forEach(n=>{n(...t)})}const Ip=e=>e(),$a=Symbol(),co=Symbol();function Fo(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,s)=>e.set(s,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],r=e[n];Oo(r)&&Oo(s)&&e.hasOwnProperty(n)&&!Ue(s)&&!mn(s)?e[n]=Fo(r,s):e[n]=s}return e}const $p=Symbol();function Lp(e){return!Oo(e)||!e.hasOwnProperty($p)}const{assign:dn}=Object;function Bp(e){return!!(Ue(e)&&e.effect)}function Np(e,t,n,s){const{state:r,actions:o,getters:i}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=r?r():{});const f=Vd(n.state.value[e]);return dn(f,o,Object.keys(i||{}).reduce((u,d)=>(u[d]=yi(he(()=>{Ar(n);const h=n._s.get(e);return i[d].call(h,h)})),u),{}))}return l=Vc(e,c,t,n,s,!0),l}function Vc(e,t,n={},s,r,o){let i;const a=dn({actions:{}},n),l={deep:!0};let c,f,u=[],d=[],h;const y=s.state.value[e];!o&&!y&&(s.state.value[e]={}),$({});let p;function m(H){let V;c=f=!1,typeof H=="function"?(H(s.state.value[e]),V={type:Cs.patchFunction,storeId:e,events:h}):(Fo(s.state.value[e],H),V={type:Cs.patchObject,payload:H,storeId:e,events:h});const x=p=Symbol();ns().then(()=>{p===x&&(c=!0)}),f=!0,jn(u,V,s.state.value[e])}const b=o?function(){const{state:V}=n,x=V?V():{};this.$patch(B=>{dn(B,x)})}:Dc;function E(){i.stop(),u=[],d=[],s._s.delete(e)}const S=(H,V="")=>{if($a in H)return H[co]=V,H;const x=function(){Ar(s);const B=Array.from(arguments),G=[],ne=[];function oe(W){G.push(W)}function U(W){ne.push(W)}jn(d,{args:B,name:x[co],store:L,after:oe,onError:U});let D;try{D=H.apply(this&&this.$id===e?this:L,B)}catch(W){throw jn(ne,W),W}return D instanceof Promise?D.then(W=>(jn(G,W),W)).catch(W=>(jn(ne,W),Promise.reject(W))):(jn(G,D),D)};return x[$a]=!0,x[co]=V,x},k={_p:s,$id:e,$onAction:Ia.bind(null,d),$patch:m,$reset:b,$subscribe(H,V={}){const x=Ia(u,H,V.detached,()=>B()),B=i.run(()=>Ve(()=>s.state.value[e],G=>{(V.flush==="sync"?f:c)&&H({storeId:e,type:Cs.direct,events:h},G)},dn({},l,V)));return x},$dispose:E},L=us(k);s._s.set(e,L);const F=(s._a&&s._a.runWithContext||Ip)(()=>s._e.run(()=>(i=Hl()).run(()=>t({action:S}))));for(const H in F){const V=F[H];if(Ue(V)&&!Bp(V)||mn(V))o||(y&&Lp(V)&&(Ue(V)?V.value=y[H]:Fo(V,y[H])),s.state.value[e][H]=V);else if(typeof V=="function"){const x=S(V,H);F[H]=x,a.actions[H]=V}}return dn(L,F),dn(Se(L),F),Object.defineProperty(L,"$state",{get:()=>s.state.value[e],set:H=>{m(V=>{dn(V,H)})}}),s._p.forEach(H=>{dn(L,i.run(()=>H({store:L,app:s._a,pinia:s,options:a})))}),y&&o&&n.hydrate&&n.hydrate(L.$state,y),c=!0,f=!0,L}/*! #__NO_SIDE_EFFECTS__ */function bt(e,t,n){let s,r;const o=typeof t=="function";typeof e=="string"?(s=e,r=o?n:t):(r=e,s=e.id);function i(a,l){const c=_h();return a=a||(c?vt(Hc,null):null),a&&Ar(a),a=Fc,a._s.has(s)||(o?Vc(s,t,r,a):Np(s,r,a)),a._s.get(s)}return i.$id=s,i}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const zn=typeof document<"u";function jc(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Mp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&jc(e.default)}const Ae=Object.assign;function uo(e,t){const n={};for(const s in t){const r=t[s];n[s]=Rt(r)?r.map(e):e(r)}return n}const Ps=()=>{},Rt=Array.isArray,Wc=/#/g,Up=/&/g,Op=/\//g,Fp=/=/g,Hp=/\?/g,qc=/\+/g,Dp=/%5B/g,Vp=/%5D/g,Kc=/%5E/g,jp=/%60/g,zc=/%7B/g,Wp=/%7C/g,Gc=/%7D/g,qp=/%20/g;function Ri(e){return encodeURI(""+e).replace(Wp,"|").replace(Dp,"[").replace(Vp,"]")}function Kp(e){return Ri(e).replace(zc,"{").replace(Gc,"}").replace(Kc,"^")}function Ho(e){return Ri(e).replace(qc,"%2B").replace(qp,"+").replace(Wc,"%23").replace(Up,"%26").replace(jp,"`").replace(zc,"{").replace(Gc,"}").replace(Kc,"^")}function zp(e){return Ho(e).replace(Fp,"%3D")}function Gp(e){return Ri(e).replace(Wc,"%23").replace(Hp,"%3F")}function Jp(e){return e==null?"":Gp(e).replace(Op,"%2F")}function Os(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Zp=/\/$/,Yp=e=>e.replace(Zp,"");function fo(e,t,n="/"){let s,r={},o="",i="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),r=e(o)),a>-1&&(s=s||t.slice(0,a),i=t.slice(a,t.length)),s=tg(s??t,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:Os(i)}}function Qp(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function La(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Xp(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&rs(t.matched[s],n.matched[r])&&Jc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function rs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Jc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!eg(e[n],t[n]))return!1;return!0}function eg(e,t){return Rt(e)?Ba(e,t):Rt(t)?Ba(t,e):e===t}function Ba(e,t){return Rt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function tg(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i).join("/")}const sn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Fs;(function(e){e.pop="pop",e.push="push"})(Fs||(Fs={}));var Ts;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ts||(Ts={}));function ng(e){if(!e)if(zn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Yp(e)}const sg=/^[^#]+#/;function rg(e,t){return e.replace(sg,"#")+t}function og(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Ir=()=>({left:window.scrollX,top:window.scrollY});function ig(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=og(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Na(e,t){return(history.state?history.state.position-t:-1)+e}const Do=new Map;function ag(e,t){Do.set(e,t)}function lg(e){const t=Do.get(e);return Do.delete(e),t}let cg=()=>location.protocol+"//"+location.host;function Zc(e,t){const{pathname:n,search:s,hash:r}=t,o=e.indexOf("#");if(o>-1){let a=r.includes(e.slice(o))?e.slice(o).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),La(l,"")}return La(n,e)+s+r}function ug(e,t,n,s){let r=[],o=[],i=null;const a=({state:d})=>{const h=Zc(e,location),y=n.value,p=t.value;let m=0;if(d){if(n.value=h,t.value=d,i&&i===y){i=null;return}m=p?d.position-p.position:0}else s(h);r.forEach(b=>{b(n.value,y,{delta:m,type:Fs.pop,direction:m?m>0?Ts.forward:Ts.back:Ts.unknown})})};function l(){i=n.value}function c(d){r.push(d);const h=()=>{const y=r.indexOf(d);y>-1&&r.splice(y,1)};return o.push(h),h}function f(){const{history:d}=window;d.state&&d.replaceState(Ae({},d.state,{scroll:Ir()}),"")}function u(){for(const d of o)d();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:l,listen:c,destroy:u}}function Ma(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?Ir():null}}function fg(e){const{history:t,location:n}=window,s={value:Zc(e,n)},r={value:t.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,c,f){const u=e.indexOf("#"),d=u>-1?(n.host&&document.querySelector("base")?e:e.slice(u))+l:cg()+e+l;try{t[f?"replaceState":"pushState"](c,"",d),r.value=c}catch(h){console.error(h),n[f?"replace":"assign"](d)}}function i(l,c){const f=Ae({},t.state,Ma(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});o(l,f,!0),s.value=l}function a(l,c){const f=Ae({},r.value,t.state,{forward:l,scroll:Ir()});o(f.current,f,!0);const u=Ae({},Ma(s.value,l,null),{position:f.position+1},c);o(l,u,!1),s.value=l}return{location:s,state:r,push:a,replace:i}}function dg(e){e=ng(e);const t=fg(e),n=ug(e,t.state,t.location,t.replace);function s(o,i=!0){i||n.pauseListeners(),history.go(o)}const r=Ae({location:"",base:e,go:s,createHref:rg.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function hg(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),dg(e)}function pg(e){return typeof e=="string"||e&&typeof e=="object"}function Yc(e){return typeof e=="string"||typeof e=="symbol"}const Qc=Symbol("");var Ua;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ua||(Ua={}));function os(e,t){return Ae(new Error,{type:e,[Qc]:!0},t)}function Vt(e,t){return e instanceof Error&&Qc in e&&(t==null||!!(e.type&t))}const Oa="[^/]+?",gg={sensitive:!1,strict:!1,start:!0,end:!0},yg=/[.+*?^${}()[\]/\\]/g;function vg(e,t){const n=Ae({},gg,t),s=[];let r=n.start?"^":"";const o=[];for(const c of e){const f=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let u=0;u<c.length;u++){const d=c[u];let h=40+(n.sensitive?.25:0);if(d.type===0)u||(r+="/"),r+=d.value.replace(yg,"\\$&"),h+=40;else if(d.type===1){const{value:y,repeatable:p,optional:m,regexp:b}=d;o.push({name:y,repeatable:p,optional:m});const E=b||Oa;if(E!==Oa){h+=10;try{new RegExp(`(${E})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${y}" (${E}): `+k.message)}}let S=p?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;u||(S=m&&c.length<2?`(?:/${S})`:"/"+S),m&&(S+="?"),r+=S,h+=20,m&&(h+=-8),p&&(h+=-20),E===".*"&&(h+=-50)}f.push(h)}s.push(f)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(c){const f=c.match(i),u={};if(!f)return null;for(let d=1;d<f.length;d++){const h=f[d]||"",y=o[d-1];u[y.name]=h&&y.repeatable?h.split("/"):h}return u}function l(c){let f="",u=!1;for(const d of e){(!u||!f.endsWith("/"))&&(f+="/"),u=!1;for(const h of d)if(h.type===0)f+=h.value;else if(h.type===1){const{value:y,repeatable:p,optional:m}=h,b=y in c?c[y]:"";if(Rt(b)&&!p)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const E=Rt(b)?b.join("/"):b;if(!E)if(m)d.length<2&&(f.endsWith("/")?f=f.slice(0,-1):u=!0);else throw new Error(`Missing required param "${y}"`);f+=E}}return f||"/"}return{re:i,score:s,keys:o,parse:a,stringify:l}}function mg(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Xc(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const o=mg(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(Fa(s))return 1;if(Fa(r))return-1}return r.length-s.length}function Fa(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const wg={type:0,value:""},bg=/[a-zA-Z0-9_]/;function _g(e){if(!e)return[[]];if(e==="/")return[[wg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,l,c="",f="";function u(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:f,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&u(),i()):l===":"?(u(),n=1):d();break;case 4:d(),n=s;break;case 1:l==="("?n=2:bg.test(l)?d():(u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+l:n=3:f+=l;break;case 3:u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),u(),i(),r}function Eg(e,t,n){const s=vg(_g(e.path),n),r=Ae(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Rg(e,t){const n=[],s=new Map;t=ja({strict:!1,end:!0,sensitive:!1},t);function r(u){return s.get(u)}function o(u,d,h){const y=!h,p=Da(u);p.aliasOf=h&&h.record;const m=ja(t,u),b=[p];if("alias"in u){const k=typeof u.alias=="string"?[u.alias]:u.alias;for(const L of k)b.push(Da(Ae({},p,{components:h?h.record.components:p.components,path:L,aliasOf:h?h.record:p})))}let E,S;for(const k of b){const{path:L}=k;if(d&&L[0]!=="/"){const T=d.record.path,F=T[T.length-1]==="/"?"":"/";k.path=d.record.path+(L&&F+L)}if(E=Eg(k,d,m),h?h.alias.push(E):(S=S||E,S!==E&&S.alias.push(E),y&&u.name&&!Va(E)&&i(u.name)),eu(E)&&l(E),p.children){const T=p.children;for(let F=0;F<T.length;F++)o(T[F],E,h&&h.children[F])}h=h||E}return S?()=>{i(S)}:Ps}function i(u){if(Yc(u)){const d=s.get(u);d&&(s.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(i),d.alias.forEach(i))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function a(){return n}function l(u){const d=kg(u,n);n.splice(d,0,u),u.record.name&&!Va(u)&&s.set(u.record.name,u)}function c(u,d){let h,y={},p,m;if("name"in u&&u.name){if(h=s.get(u.name),!h)throw os(1,{location:u});m=h.record.name,y=Ae(Ha(d.params,h.keys.filter(S=>!S.optional).concat(h.parent?h.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),u.params&&Ha(u.params,h.keys.map(S=>S.name))),p=h.stringify(y)}else if(u.path!=null)p=u.path,h=n.find(S=>S.re.test(p)),h&&(y=h.parse(p),m=h.record.name);else{if(h=d.name?s.get(d.name):n.find(S=>S.re.test(d.path)),!h)throw os(1,{location:u,currentLocation:d});m=h.record.name,y=Ae({},d.params,u.params),p=h.stringify(y)}const b=[];let E=h;for(;E;)b.unshift(E.record),E=E.parent;return{name:m,path:p,params:y,matched:b,meta:Sg(b)}}e.forEach(u=>o(u));function f(){n.length=0,s.clear()}return{addRoute:o,resolve:c,removeRoute:i,clearRoutes:f,getRoutes:a,getRecordMatcher:r}}function Ha(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Da(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:xg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function xg(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Va(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Sg(e){return e.reduce((t,n)=>Ae(t,n.meta),{})}function ja(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function kg(e,t){let n=0,s=t.length;for(;n!==s;){const o=n+s>>1;Xc(e,t[o])<0?s=o:n=o+1}const r=Cg(e);return r&&(s=t.lastIndexOf(r,s-1)),s}function Cg(e){let t=e;for(;t=t.parent;)if(eu(t)&&Xc(e,t)===0)return t}function eu({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Pg(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(qc," "),i=o.indexOf("="),a=Os(i<0?o:o.slice(0,i)),l=i<0?null:Os(o.slice(i+1));if(a in t){let c=t[a];Rt(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Wa(e){let t="";for(let n in e){const s=e[n];if(n=zp(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Rt(s)?s.map(o=>o&&Ho(o)):[s&&Ho(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Tg(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Rt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const Ag=Symbol(""),qa=Symbol(""),$r=Symbol(""),xi=Symbol(""),Vo=Symbol("");function ms(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function gn(e,t,n,s,r,o=i=>i()){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(os(4,{from:n,to:t})):d instanceof Error?l(d):pg(d)?l(os(2,{from:t,to:d})):(i&&s.enterCallbacks[r]===i&&typeof d=="function"&&i.push(d),a())},f=o(()=>e.call(s&&s.instances[r],t,n,c));let u=Promise.resolve(f);e.length<3&&(u=u.then(c)),u.catch(d=>l(d))})}function ho(e,t,n,s,r=o=>o()){const o=[];for(const i of e)for(const a in i.components){let l=i.components[a];if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(jc(l)){const f=(l.__vccOpts||l)[t];f&&o.push(gn(f,n,s,i,a,r))}else{let c=l();o.push(()=>c.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const u=Mp(f)?f.default:f;i.mods[a]=f,i.components[a]=u;const h=(u.__vccOpts||u)[t];return h&&gn(h,n,s,i,a,r)()}))}}return o}function Ka(e){const t=vt($r),n=vt(xi),s=he(()=>{const l=te(e.to);return t.resolve(l)}),r=he(()=>{const{matched:l}=s.value,{length:c}=l,f=l[c-1],u=n.matched;if(!f||!u.length)return-1;const d=u.findIndex(rs.bind(null,f));if(d>-1)return d;const h=za(l[c-2]);return c>1&&za(f)===h&&u[u.length-1].path!==h?u.findIndex(rs.bind(null,l[c-2])):d}),o=he(()=>r.value>-1&&Bg(n.params,s.value.params)),i=he(()=>r.value>-1&&r.value===n.matched.length-1&&Jc(n.params,s.value.params));function a(l={}){return Lg(l)?t[te(e.replace)?"replace":"push"](te(e.to)).catch(Ps):Promise.resolve()}return{route:s,href:he(()=>s.value.href),isActive:o,isExactActive:i,navigate:a}}const Ig=be({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ka,setup(e,{slots:t}){const n=us(Ka(e)),{options:s}=vt($r),r=he(()=>({[Ga(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ga(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:Uc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),$g=Ig;function Lg(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Bg(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Rt(r)||r.length!==s.length||s.some((o,i)=>o!==r[i]))return!1}return!0}function za(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ga=(e,t,n)=>e??t??n,Ng=be({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=vt(Vo),r=he(()=>e.route||s.value),o=vt(qa,0),i=he(()=>{let c=te(o);const{matched:f}=r.value;let u;for(;(u=f[c])&&!u.components;)c++;return c}),a=he(()=>r.value.matched[i.value]);sr(qa,he(()=>i.value+1)),sr(Ag,a),sr(Vo,r);const l=$();return Ve(()=>[l.value,a.value,e.name],([c,f,u],[d,h,y])=>{f&&(f.instances[u]=c,h&&h!==f&&c&&c===d&&(f.leaveGuards.size||(f.leaveGuards=h.leaveGuards),f.updateGuards.size||(f.updateGuards=h.updateGuards))),c&&f&&(!h||!rs(f,h)||!d)&&(f.enterCallbacks[u]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=r.value,f=e.name,u=a.value,d=u&&u.components[f];if(!d)return Ja(n.default,{Component:d,route:c});const h=u.props[f],y=h?h===!0?c.params:typeof h=="function"?h(c):h:null,m=Uc(d,Ae({},y,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(u.instances[f]=null)},ref:l}));return Ja(n.default,{Component:m,route:c})||m}}});function Ja(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Mg=Ng;function Ug(e){const t=Rg(e.routes,e),n=e.parseQuery||Pg,s=e.stringifyQuery||Wa,r=e.history,o=ms(),i=ms(),a=ms(),l=Fd(sn);let c=sn;zn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=uo.bind(null,M=>""+M),u=uo.bind(null,Jp),d=uo.bind(null,Os);function h(M,Q){let C,j;return Yc(M)?(C=t.getRecordMatcher(M),j=Q):j=M,t.addRoute(j,C)}function y(M){const Q=t.getRecordMatcher(M);Q&&t.removeRoute(Q)}function p(){return t.getRoutes().map(M=>M.record)}function m(M){return!!t.getRecordMatcher(M)}function b(M,Q){if(Q=Ae({},Q||l.value),typeof M=="string"){const _=fo(n,M,Q.path),P=t.resolve({path:_.path},Q),O=r.createHref(_.fullPath);return Ae(_,P,{params:d(P.params),hash:Os(_.hash),redirectedFrom:void 0,href:O})}let C;if(M.path!=null)C=Ae({},M,{path:fo(n,M.path,Q.path).path});else{const _=Ae({},M.params);for(const P in _)_[P]==null&&delete _[P];C=Ae({},M,{params:u(_)}),Q.params=u(Q.params)}const j=t.resolve(C,Q),we=M.hash||"";j.params=f(d(j.params));const v=Qp(s,Ae({},M,{hash:Kp(we),path:j.path})),g=r.createHref(v);return Ae({fullPath:v,hash:we,query:s===Wa?Tg(M.query):M.query||{}},j,{redirectedFrom:void 0,href:g})}function E(M){return typeof M=="string"?fo(n,M,l.value.path):Ae({},M)}function S(M,Q){if(c!==M)return os(8,{from:Q,to:M})}function k(M){return F(M)}function L(M){return k(Ae(E(M),{replace:!0}))}function T(M){const Q=M.matched[M.matched.length-1];if(Q&&Q.redirect){const{redirect:C}=Q;let j=typeof C=="function"?C(M):C;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=E(j):{path:j},j.params={}),Ae({query:M.query,hash:M.hash,params:j.path!=null?{}:M.params},j)}}function F(M,Q){const C=c=b(M),j=l.value,we=M.state,v=M.force,g=M.replace===!0,_=T(C);if(_)return F(Ae(E(_),{state:typeof _=="object"?Ae({},we,_.state):we,force:v,replace:g}),Q||C);const P=C;P.redirectedFrom=Q;let O;return!v&&Xp(s,j,C)&&(O=os(16,{to:P,from:j}),Z(j,j,!0,!1)),(O?Promise.resolve(O):x(P,j)).catch(I=>Vt(I)?Vt(I,2)?I:K(I):J(I,P,j)).then(I=>{if(I){if(Vt(I,2))return F(Ae({replace:g},E(I.to),{state:typeof I.to=="object"?Ae({},we,I.to.state):we,force:v}),Q||P)}else I=G(P,j,!0,g,we);return B(P,j,I),I})}function H(M,Q){const C=S(M,Q);return C?Promise.reject(C):Promise.resolve()}function V(M){const Q=ke.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(M):M()}function x(M,Q){let C;const[j,we,v]=Og(M,Q);C=ho(j.reverse(),"beforeRouteLeave",M,Q);for(const _ of j)_.leaveGuards.forEach(P=>{C.push(gn(P,M,Q))});const g=H.bind(null,M,Q);return C.push(g),se(C).then(()=>{C=[];for(const _ of o.list())C.push(gn(_,M,Q));return C.push(g),se(C)}).then(()=>{C=ho(we,"beforeRouteUpdate",M,Q);for(const _ of we)_.updateGuards.forEach(P=>{C.push(gn(P,M,Q))});return C.push(g),se(C)}).then(()=>{C=[];for(const _ of v)if(_.beforeEnter)if(Rt(_.beforeEnter))for(const P of _.beforeEnter)C.push(gn(P,M,Q));else C.push(gn(_.beforeEnter,M,Q));return C.push(g),se(C)}).then(()=>(M.matched.forEach(_=>_.enterCallbacks={}),C=ho(v,"beforeRouteEnter",M,Q,V),C.push(g),se(C))).then(()=>{C=[];for(const _ of i.list())C.push(gn(_,M,Q));return C.push(g),se(C)}).catch(_=>Vt(_,8)?_:Promise.reject(_))}function B(M,Q,C){a.list().forEach(j=>V(()=>j(M,Q,C)))}function G(M,Q,C,j,we){const v=S(M,Q);if(v)return v;const g=Q===sn,_=zn?history.state:{};C&&(j||g?r.replace(M.fullPath,Ae({scroll:g&&_&&_.scroll},we)):r.push(M.fullPath,we)),l.value=M,Z(M,Q,C,g),K()}let ne;function oe(){ne||(ne=r.listen((M,Q,C)=>{if(!Be.listening)return;const j=b(M),we=T(j);if(we){F(Ae(we,{replace:!0}),j).catch(Ps);return}c=j;const v=l.value;zn&&ag(Na(v.fullPath,C.delta),Ir()),x(j,v).catch(g=>Vt(g,12)?g:Vt(g,2)?(F(g.to,j).then(_=>{Vt(_,20)&&!C.delta&&C.type===Fs.pop&&r.go(-1,!1)}).catch(Ps),Promise.reject()):(C.delta&&r.go(-C.delta,!1),J(g,j,v))).then(g=>{g=g||G(j,v,!1),g&&(C.delta&&!Vt(g,8)?r.go(-C.delta,!1):C.type===Fs.pop&&Vt(g,20)&&r.go(-1,!1)),B(j,v,g)}).catch(Ps)}))}let U=ms(),D=ms(),W;function J(M,Q,C){K(M);const j=D.list();return j.length?j.forEach(we=>we(M,Q,C)):console.error(M),Promise.reject(M)}function N(){return W&&l.value!==sn?Promise.resolve():new Promise((M,Q)=>{U.add([M,Q])})}function K(M){return W||(W=!M,oe(),U.list().forEach(([Q,C])=>M?C(M):Q()),U.reset()),M}function Z(M,Q,C,j){const{scrollBehavior:we}=e;if(!zn||!we)return Promise.resolve();const v=!C&&lg(Na(M.fullPath,0))||(j||!C)&&history.state&&history.state.scroll||null;return ns().then(()=>we(M,Q,v)).then(g=>g&&ig(g)).catch(g=>J(g,M,Q))}const Y=M=>r.go(M);let de;const ke=new Set,Be={currentRoute:l,listening:!0,addRoute:h,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:m,getRoutes:p,resolve:b,options:e,push:k,replace:L,go:Y,back:()=>Y(-1),forward:()=>Y(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:D.add,isReady:N,install(M){const Q=this;M.component("RouterLink",$g),M.component("RouterView",Mg),M.config.globalProperties.$router=Q,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>te(l)}),zn&&!de&&l.value===sn&&(de=!0,k(r.location).catch(we=>{}));const C={};for(const we in sn)Object.defineProperty(C,we,{get:()=>l.value[we],enumerable:!0});M.provide($r,Q),M.provide(xi,nc(C)),M.provide(Vo,l);const j=M.unmount;ke.add(M),M.unmount=function(){ke.delete(M),ke.size<1&&(c=sn,ne&&ne(),ne=null,l.value=sn,de=!1,W=!1),j()}}};function se(M){return M.reduce((Q,C)=>Q.then(()=>V(C)),Promise.resolve())}return Be}function Og(e,t){const n=[],s=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let i=0;i<o;i++){const a=t.matched[i];a&&(e.matched.find(c=>rs(c,a))?s.push(a):n.push(a));const l=e.matched[i];l&&(t.matched.find(c=>rs(c,l))||r.push(l))}return[n,s,r]}function xn(){return vt($r)}function Lr(e){return vt(xi)}function Za(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function tu(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Fg(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Za(e.outputLen),Za(e.blockLen)}function hr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Hg(e,t){tu(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const po=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nu=e=>e instanceof Uint8Array,go=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),At=(e,t)=>e<<32-t|e>>>t,Dg=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Dg)throw new Error("Non little-endian hardware is not supported");function Vg(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Si(e){if(typeof e=="string"&&(e=Vg(e)),!nu(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function jg(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!nu(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}let su=class{clone(){return this._cloneInto()}};function Wg(e){const t=s=>e().update(Si(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ru(e=32){if(po&&typeof po.getRandomValues=="function")return po.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function qg(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),a=Number(n&o),l=s?4:0,c=s?0:4;e.setUint32(t+l,i,s),e.setUint32(t+c,a,s)}let Kg=class extends su{constructor(t,n,s,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=go(this.buffer)}update(t){hr(this);const{view:n,buffer:s,blockLen:r}=this;t=Si(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(r-this.pos,o-i);if(a===r){const l=go(t);for(;r<=o-i;i+=r)this.process(l,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){hr(this),Hg(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let u=i;u<r;u++)n[u]=0;qg(s,r-8,BigInt(this.length*8),o),this.process(s,0);const a=go(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,f=this.get();if(c>f.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,f[u],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:a}=this;return t.length=r,t.pos=a,t.finished=o,t.destroyed=i,r%n&&t.buffer.set(s),t}};const zg=(e,t,n)=>e&t^~e&n,Gg=(e,t,n)=>e&t^e&n^t&n,Jg=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),on=new Uint32Array(64);let Zg=class extends Kg{constructor(){super(64,32,8,!1),this.A=rn[0]|0,this.B=rn[1]|0,this.C=rn[2]|0,this.D=rn[3]|0,this.E=rn[4]|0,this.F=rn[5]|0,this.G=rn[6]|0,this.H=rn[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:a,H:l}=this;return[t,n,s,r,o,i,a,l]}set(t,n,s,r,o,i,a,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let u=0;u<16;u++,n+=4)on[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const d=on[u-15],h=on[u-2],y=At(d,7)^At(d,18)^d>>>3,p=At(h,17)^At(h,19)^h>>>10;on[u]=p+on[u-7]+y+on[u-16]|0}let{A:s,B:r,C:o,D:i,E:a,F:l,G:c,H:f}=this;for(let u=0;u<64;u++){const d=At(a,6)^At(a,11)^At(a,25),h=f+d+zg(a,l,c)+Jg[u]+on[u]|0,p=(At(s,2)^At(s,13)^At(s,22))+Gg(s,r,o)|0;f=c,c=l,l=a,a=i+h|0,i=o,o=r,r=s,s=h+p|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,f=f+this.H|0,this.set(s,r,o,i,a,l,c,f)}roundClean(){on.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const jo=Wg(()=>new Zg);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ou=BigInt(0),Br=BigInt(1),Yg=BigInt(2),Nr=e=>e instanceof Uint8Array,Qg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function is(e){if(!Nr(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Qg[e[n]];return t}function iu(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function ki(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function as(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const r=s*2,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function st(e){return ki(is(e))}function Ci(e){if(!Nr(e))throw new Error("Uint8Array expected");return ki(is(Uint8Array.from(e).reverse()))}function _n(e,t){return as(e.toString(16).padStart(t*2,"0"))}function Pi(e,t){return _n(e,t).reverse()}function Xg(e){return as(iu(e))}function Ke(e,t,n){let s;if(typeof t=="string")try{s=as(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(Nr(t))s=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const r=s.length;if(typeof n=="number"&&r!==n)throw new Error(`${e} expected ${n} bytes, got ${r}`);return s}function Fn(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!Nr(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}function ey(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ty(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ny(e){let t;for(t=0;e>ou;e>>=Br,t+=1);return t}function sy(e,t){return e>>BigInt(t)&Br}const ry=(e,t,n)=>e|(n?Br:ou)<<BigInt(t),Ti=e=>(Yg<<BigInt(e-1))-Br,yo=e=>new Uint8Array(e),Ya=e=>Uint8Array.from(e);function au(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let s=yo(e),r=yo(e),o=0;const i=()=>{s.fill(1),r.fill(0),o=0},a=(...u)=>n(r,s,...u),l=(u=yo())=>{r=a(Ya([0]),u),s=a(),u.length!==0&&(r=a(Ya([1]),u),s=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const d=[];for(;u<t;){s=a();const h=s.slice();d.push(h),u+=s.length}return Fn(...d)};return(u,d)=>{i(),l(u);let h;for(;!(h=d(c()));)l();return i(),h}}const oy={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Ks(e,t,n={}){const s=(r,o,i)=>{const a=oy[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=e[r];if(!(i&&l===void 0)&&!a(l,e))throw new Error(`Invalid param ${String(r)}=${l} (${typeof l}), expected ${o}`)};for(const[r,o]of Object.entries(t))s(r,o,!1);for(const[r,o]of Object.entries(n))s(r,o,!0);return e}const iy=Object.freeze(Object.defineProperty({__proto__:null,bitGet:sy,bitLen:ny,bitMask:Ti,bitSet:ry,bytesToHex:is,bytesToNumberBE:st,bytesToNumberLE:Ci,concatBytes:Fn,createHmacDrbg:au,ensureBytes:Ke,equalBytes:ey,hexToBytes:as,hexToNumber:ki,numberToBytesBE:_n,numberToBytesLE:Pi,numberToHexUnpadded:iu,numberToVarBytesBE:Xg,utf8ToBytes:ty,validateObject:Ks},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const je=BigInt(0),Me=BigInt(1),In=BigInt(2),ay=BigInt(3),Wo=BigInt(4),Qa=BigInt(5),Xa=BigInt(8);BigInt(9);BigInt(16);function We(e,t){const n=e%t;return n>=je?n:t+n}function ly(e,t,n){if(n<=je||t<je)throw new Error("Expected power/modulo > 0");if(n===Me)return je;let s=Me;for(;t>je;)t&Me&&(s=s*e%n),e=e*e%n,t>>=Me;return s}function ht(e,t,n){let s=e;for(;t-- >je;)s*=s,s%=n;return s}function qo(e,t){if(e===je||t<=je)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=We(e,t),s=t,r=je,o=Me;for(;n!==je;){const a=s/n,l=s%n,c=r-o*a;s=n,n=l,r=o,o=c}if(s!==Me)throw new Error("invert: does not exist");return We(r,t)}function cy(e){const t=(e-Me)/In;let n,s,r;for(n=e-Me,s=0;n%In===je;n/=In,s++);for(r=In;r<e&&ly(r,t,e)!==e-Me;r++);if(s===1){const i=(e+Me)/Wo;return function(l,c){const f=l.pow(c,i);if(!l.eql(l.sqr(f),c))throw new Error("Cannot find square root");return f}}const o=(n+Me)/In;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=s,f=a.pow(a.mul(a.ONE,r),n),u=a.pow(l,o),d=a.pow(l,n);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let h=1;for(let p=a.sqr(d);h<c&&!a.eql(p,a.ONE);h++)p=a.sqr(p);const y=a.pow(f,Me<<BigInt(c-h-1));f=a.sqr(y),u=a.mul(u,y),d=a.mul(d,f),c=h}return u}}function uy(e){if(e%Wo===ay){const t=(e+Me)/Wo;return function(s,r){const o=s.pow(r,t);if(!s.eql(s.sqr(o),r))throw new Error("Cannot find square root");return o}}if(e%Xa===Qa){const t=(e-Qa)/Xa;return function(s,r){const o=s.mul(r,In),i=s.pow(o,t),a=s.mul(r,i),l=s.mul(s.mul(a,In),i),c=s.mul(a,s.sub(l,s.ONE));if(!s.eql(s.sqr(c),r))throw new Error("Cannot find square root");return c}}return cy(e)}const fy=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function dy(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=fy.reduce((s,r)=>(s[r]="function",s),t);return Ks(e,n)}function hy(e,t,n){if(n<je)throw new Error("Expected power > 0");if(n===je)return e.ONE;if(n===Me)return t;let s=e.ONE,r=t;for(;n>je;)n&Me&&(s=e.mul(s,r)),r=e.sqr(r),n>>=Me;return s}function py(e,t){const n=new Array(t.length),s=t.reduce((o,i,a)=>e.is0(i)?o:(n[a]=o,e.mul(o,i)),e.ONE),r=e.inv(s);return t.reduceRight((o,i,a)=>e.is0(i)?o:(n[a]=e.mul(o,n[a]),e.mul(o,i)),r),n}function lu(e,t){const n=t!==void 0?t:e.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function gy(e,t,n=!1,s={}){if(e<=je)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:r,nByteLength:o}=lu(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=uy(e),a=Object.freeze({ORDER:e,BITS:r,BYTES:o,MASK:Ti(r),ZERO:je,ONE:Me,create:l=>We(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return je<=l&&l<e},is0:l=>l===je,isOdd:l=>(l&Me)===Me,neg:l=>We(-l,e),eql:(l,c)=>l===c,sqr:l=>We(l*l,e),add:(l,c)=>We(l+c,e),sub:(l,c)=>We(l-c,e),mul:(l,c)=>We(l*c,e),pow:(l,c)=>hy(a,l,c),div:(l,c)=>We(l*qo(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>qo(l,e),sqrt:s.sqrt||(l=>i(a,l)),invertBatch:l=>py(a,l),cmov:(l,c,f)=>f?c:l,toBytes:l=>n?Pi(l,o):_n(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?Ci(l):st(l)}});return Object.freeze(a)}function cu(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function uu(e){const t=cu(e);return t+Math.ceil(t/2)}function yy(e,t,n=!1){const s=e.length,r=cu(t),o=uu(t);if(s<16||s<o||s>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${s}`);const i=n?st(e):Ci(e),a=We(i,t-Me)+Me;return n?Pi(a,r):_n(a,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vy=BigInt(0),vo=BigInt(1);function my(e,t){const n=(r,o)=>{const i=o.negate();return r?i:o},s=r=>{const o=Math.ceil(t/r)+1,i=2**(r-1);return{windows:o,windowSize:i}};return{constTimeNegate:n,unsafeLadder(r,o){let i=e.ZERO,a=r;for(;o>vy;)o&vo&&(i=i.add(a)),a=a.double(),o>>=vo;return i},precomputeWindow(r,o){const{windows:i,windowSize:a}=s(o),l=[];let c=r,f=c;for(let u=0;u<i;u++){f=c,l.push(f);for(let d=1;d<a;d++)f=f.add(c),l.push(f);c=f.double()}return l},wNAF(r,o,i){const{windows:a,windowSize:l}=s(r);let c=e.ZERO,f=e.BASE;const u=BigInt(2**r-1),d=2**r,h=BigInt(r);for(let y=0;y<a;y++){const p=y*l;let m=Number(i&u);i>>=h,m>l&&(m-=d,i+=vo);const b=p,E=p+Math.abs(m)-1,S=y%2!==0,k=m<0;m===0?f=f.add(n(S,o[b])):c=c.add(n(k,o[E]))}return{p:c,f}},wNAFCached(r,o,i,a){const l=r._WINDOW_SIZE||1;let c=o.get(r);return c||(c=this.precomputeWindow(r,l),l!==1&&o.set(r,a(c))),this.wNAF(l,c,i)}}}function fu(e){return dy(e.Fp),Ks(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...lu(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wy(e){const t=fu(e);Ks(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:s,a:r}=t;if(n){if(!s.eql(r,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:by,hexToBytes:_y}=iy,$n={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=$n;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],s=e.subarray(2,n+2);if(!n||s.length!==n)throw new t("Invalid signature integer: wrong length");if(s[0]&128)throw new t("Invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:by(s),l:e.subarray(n+2)}},toSig(e){const{Err:t}=$n,n=typeof e=="string"?_y(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let s=n.length;if(s<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==s-2)throw new t("Invalid signature: incorrect length");const{d:r,l:o}=$n._parseInt(n.subarray(2)),{d:i,l:a}=$n._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r,s:i}},hexFromSig(e){const t=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const f=c.toString(16);return f.length&1?`0${f}`:f},s=t(n(e.s)),r=t(n(e.r)),o=s.length/2,i=r.length/2,a=n(o),l=n(i);return`30${n(i+o+4)}02${l}${r}02${a}${s}`}},zt=BigInt(0),gt=BigInt(1);BigInt(2);const el=BigInt(3);BigInt(4);function Ey(e){const t=wy(e),{Fp:n}=t,s=t.toBytes||((y,p,m)=>{const b=p.toAffine();return Fn(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),r=t.fromBytes||(y=>{const p=y.subarray(1),m=n.fromBytes(p.subarray(0,n.BYTES)),b=n.fromBytes(p.subarray(n.BYTES,2*n.BYTES));return{x:m,y:b}});function o(y){const{a:p,b:m}=t,b=n.sqr(y),E=n.mul(b,y);return n.add(n.add(E,n.mul(y,p)),m)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function i(y){return typeof y=="bigint"&&zt<y&&y<t.n}function a(y){if(!i(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(y){const{allowedPrivateKeyLengths:p,nByteLength:m,wrapPrivateKey:b,n:E}=t;if(p&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=is(y)),typeof y!="string"||!p.includes(y.length))throw new Error("Invalid key");y=y.padStart(m*2,"0")}let S;try{S=typeof y=="bigint"?y:st(Ke("private key",y,m))}catch{throw new Error(`private key must be ${m} bytes, hex or bigint, not ${typeof y}`)}return b&&(S=We(S,E)),a(S),S}const c=new Map;function f(y){if(!(y instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(p,m,b){if(this.px=p,this.py=m,this.pz=b,p==null||!n.isValid(p))throw new Error("x required");if(m==null||!n.isValid(m))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required")}static fromAffine(p){const{x:m,y:b}=p||{};if(!p||!n.isValid(m)||!n.isValid(b))throw new Error("invalid affine point");if(p instanceof u)throw new Error("projective point not allowed");const E=S=>n.eql(S,n.ZERO);return E(m)&&E(b)?u.ZERO:new u(m,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const m=n.invertBatch(p.map(b=>b.pz));return p.map((b,E)=>b.toAffine(m[E])).map(u.fromAffine)}static fromHex(p){const m=u.fromAffine(r(Ke("pointHex",p)));return m.assertValidity(),m}static fromPrivateKey(p){return u.BASE.multiply(l(p))}_setWindowSize(p){this._WINDOW_SIZE=p,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:p,y:m}=this.toAffine();if(!n.isValid(p)||!n.isValid(m))throw new Error("bad point: x or y not FE");const b=n.sqr(m),E=o(p);if(!n.eql(b,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){f(p);const{px:m,py:b,pz:E}=this,{px:S,py:k,pz:L}=p,T=n.eql(n.mul(m,L),n.mul(S,E)),F=n.eql(n.mul(b,L),n.mul(k,E));return T&&F}negate(){return new u(this.px,n.neg(this.py),this.pz)}double(){const{a:p,b:m}=t,b=n.mul(m,el),{px:E,py:S,pz:k}=this;let L=n.ZERO,T=n.ZERO,F=n.ZERO,H=n.mul(E,E),V=n.mul(S,S),x=n.mul(k,k),B=n.mul(E,S);return B=n.add(B,B),F=n.mul(E,k),F=n.add(F,F),L=n.mul(p,F),T=n.mul(b,x),T=n.add(L,T),L=n.sub(V,T),T=n.add(V,T),T=n.mul(L,T),L=n.mul(B,L),F=n.mul(b,F),x=n.mul(p,x),B=n.sub(H,x),B=n.mul(p,B),B=n.add(B,F),F=n.add(H,H),H=n.add(F,H),H=n.add(H,x),H=n.mul(H,B),T=n.add(T,H),x=n.mul(S,k),x=n.add(x,x),H=n.mul(x,B),L=n.sub(L,H),F=n.mul(x,V),F=n.add(F,F),F=n.add(F,F),new u(L,T,F)}add(p){f(p);const{px:m,py:b,pz:E}=this,{px:S,py:k,pz:L}=p;let T=n.ZERO,F=n.ZERO,H=n.ZERO;const V=t.a,x=n.mul(t.b,el);let B=n.mul(m,S),G=n.mul(b,k),ne=n.mul(E,L),oe=n.add(m,b),U=n.add(S,k);oe=n.mul(oe,U),U=n.add(B,G),oe=n.sub(oe,U),U=n.add(m,E);let D=n.add(S,L);return U=n.mul(U,D),D=n.add(B,ne),U=n.sub(U,D),D=n.add(b,E),T=n.add(k,L),D=n.mul(D,T),T=n.add(G,ne),D=n.sub(D,T),H=n.mul(V,U),T=n.mul(x,ne),H=n.add(T,H),T=n.sub(G,H),H=n.add(G,H),F=n.mul(T,H),G=n.add(B,B),G=n.add(G,B),ne=n.mul(V,ne),U=n.mul(x,U),G=n.add(G,ne),ne=n.sub(B,ne),ne=n.mul(V,ne),U=n.add(U,ne),B=n.mul(G,U),F=n.add(F,B),B=n.mul(D,U),T=n.mul(oe,T),T=n.sub(T,B),B=n.mul(oe,G),H=n.mul(D,H),H=n.add(H,B),new u(T,F,H)}subtract(p){return this.add(p.negate())}is0(){return this.equals(u.ZERO)}wNAF(p){return h.wNAFCached(this,c,p,m=>{const b=n.invertBatch(m.map(E=>E.pz));return m.map((E,S)=>E.toAffine(b[S])).map(u.fromAffine)})}multiplyUnsafe(p){const m=u.ZERO;if(p===zt)return m;if(a(p),p===gt)return this;const{endo:b}=t;if(!b)return h.unsafeLadder(this,p);let{k1neg:E,k1:S,k2neg:k,k2:L}=b.splitScalar(p),T=m,F=m,H=this;for(;S>zt||L>zt;)S&gt&&(T=T.add(H)),L&gt&&(F=F.add(H)),H=H.double(),S>>=gt,L>>=gt;return E&&(T=T.negate()),k&&(F=F.negate()),F=new u(n.mul(F.px,b.beta),F.py,F.pz),T.add(F)}multiply(p){a(p);let m=p,b,E;const{endo:S}=t;if(S){const{k1neg:k,k1:L,k2neg:T,k2:F}=S.splitScalar(m);let{p:H,f:V}=this.wNAF(L),{p:x,f:B}=this.wNAF(F);H=h.constTimeNegate(k,H),x=h.constTimeNegate(T,x),x=new u(n.mul(x.px,S.beta),x.py,x.pz),b=H.add(x),E=V.add(B)}else{const{p:k,f:L}=this.wNAF(m);b=k,E=L}return u.normalizeZ([b,E])[0]}multiplyAndAddUnsafe(p,m,b){const E=u.BASE,S=(L,T)=>T===zt||T===gt||!L.equals(E)?L.multiplyUnsafe(T):L.multiply(T),k=S(this,m).add(S(p,b));return k.is0()?void 0:k}toAffine(p){const{px:m,py:b,pz:E}=this,S=this.is0();p==null&&(p=S?n.ONE:n.inv(E));const k=n.mul(m,p),L=n.mul(b,p),T=n.mul(E,p);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:k,y:L}}isTorsionFree(){const{h:p,isTorsionFree:m}=t;if(p===gt)return!0;if(m)return m(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:m}=t;return p===gt?this:m?m(u,this):this.multiplyUnsafe(t.h)}toRawBytes(p=!0){return this.assertValidity(),s(u,this,p)}toHex(p=!0){return is(this.toRawBytes(p))}}u.BASE=new u(t.Gx,t.Gy,n.ONE),u.ZERO=new u(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,h=my(u,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:i}}function Ry(e){const t=fu(e);return Ks(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function xy(e){const t=Ry(e),{Fp:n,n:s}=t,r=n.BYTES+1,o=2*n.BYTES+1;function i(U){return zt<U&&U<n.ORDER}function a(U){return We(U,s)}function l(U){return qo(U,s)}const{ProjectivePoint:c,normPrivateKeyToScalar:f,weierstrassEquation:u,isWithinCurveOrder:d}=Ey({...t,toBytes(U,D,W){const J=D.toAffine(),N=n.toBytes(J.x),K=Fn;return W?K(Uint8Array.from([D.hasEvenY()?2:3]),N):K(Uint8Array.from([4]),N,n.toBytes(J.y))},fromBytes(U){const D=U.length,W=U[0],J=U.subarray(1);if(D===r&&(W===2||W===3)){const N=st(J);if(!i(N))throw new Error("Point is not on curve");const K=u(N);let Z=n.sqrt(K);const Y=(Z&gt)===gt;return(W&1)===1!==Y&&(Z=n.neg(Z)),{x:N,y:Z}}else if(D===o&&W===4){const N=n.fromBytes(J.subarray(0,n.BYTES)),K=n.fromBytes(J.subarray(n.BYTES,2*n.BYTES));return{x:N,y:K}}else throw new Error(`Point of length ${D} was invalid. Expected ${r} compressed bytes or ${o} uncompressed bytes`)}}),h=U=>is(_n(U,t.nByteLength));function y(U){const D=s>>gt;return U>D}function p(U){return y(U)?a(-U):U}const m=(U,D,W)=>st(U.slice(D,W));class b{constructor(D,W,J){this.r=D,this.s=W,this.recovery=J,this.assertValidity()}static fromCompact(D){const W=t.nByteLength;return D=Ke("compactSignature",D,W*2),new b(m(D,0,W),m(D,W,2*W))}static fromDER(D){const{r:W,s:J}=$n.toSig(Ke("DER",D));return new b(W,J)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(D){return new b(this.r,this.s,D)}recoverPublicKey(D){const{r:W,s:J,recovery:N}=this,K=F(Ke("msgHash",D));if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const Z=N===2||N===3?W+t.n:W;if(Z>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Y=(N&1)===0?"02":"03",de=c.fromHex(Y+h(Z)),ke=l(Z),Be=a(-K*ke),se=a(J*ke),M=c.BASE.multiplyAndAddUnsafe(de,Be,se);if(!M)throw new Error("point at infinify");return M.assertValidity(),M}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return as(this.toDERHex())}toDERHex(){return $n.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return as(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const E={isValidPrivateKey(U){try{return f(U),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const U=uu(t.n);return yy(t.randomBytes(U),t.n)},precompute(U=8,D=c.BASE){return D._setWindowSize(U),D.multiply(BigInt(3)),D}};function S(U,D=!0){return c.fromPrivateKey(U).toRawBytes(D)}function k(U){const D=U instanceof Uint8Array,W=typeof U=="string",J=(D||W)&&U.length;return D?J===r||J===o:W?J===2*r||J===2*o:U instanceof c}function L(U,D,W=!0){if(k(U))throw new Error("first arg must be private key");if(!k(D))throw new Error("second arg must be public key");return c.fromHex(D).multiply(f(U)).toRawBytes(W)}const T=t.bits2int||function(U){const D=st(U),W=U.length*8-t.nBitLength;return W>0?D>>BigInt(W):D},F=t.bits2int_modN||function(U){return a(T(U))},H=Ti(t.nBitLength);function V(U){if(typeof U!="bigint")throw new Error("bigint expected");if(!(zt<=U&&U<H))throw new Error(`bigint expected < 2^${t.nBitLength}`);return _n(U,t.nByteLength)}function x(U,D,W=B){if(["recovered","canonical"].some(C=>C in W))throw new Error("sign() legacy options not supported");const{hash:J,randomBytes:N}=t;let{lowS:K,prehash:Z,extraEntropy:Y}=W;K==null&&(K=!0),U=Ke("msgHash",U),Z&&(U=Ke("prehashed msgHash",J(U)));const de=F(U),ke=f(D),Be=[V(ke),V(de)];if(Y!=null){const C=Y===!0?N(n.BYTES):Y;Be.push(Ke("extraEntropy",C))}const se=Fn(...Be),M=de;function Q(C){const j=T(C);if(!d(j))return;const we=l(j),v=c.BASE.multiply(j).toAffine(),g=a(v.x);if(g===zt)return;const _=a(we*a(M+g*ke));if(_===zt)return;let P=(v.x===g?0:2)|Number(v.y&gt),O=_;return K&&y(_)&&(O=p(_),P^=1),new b(g,O,P)}return{seed:se,k2sig:Q}}const B={lowS:t.lowS,prehash:!1},G={lowS:t.lowS,prehash:!1};function ne(U,D,W=B){const{seed:J,k2sig:N}=x(U,D,W),K=t;return au(K.hash.outputLen,K.nByteLength,K.hmac)(J,N)}c.BASE._setWindowSize(8);function oe(U,D,W,J=G){var v;const N=U;if(D=Ke("msgHash",D),W=Ke("publicKey",W),"strict"in J)throw new Error("options.strict was renamed to lowS");const{lowS:K,prehash:Z}=J;let Y,de;try{if(typeof N=="string"||N instanceof Uint8Array)try{Y=b.fromDER(N)}catch(g){if(!(g instanceof $n.Err))throw g;Y=b.fromCompact(N)}else if(typeof N=="object"&&typeof N.r=="bigint"&&typeof N.s=="bigint"){const{r:g,s:_}=N;Y=new b(g,_)}else throw new Error("PARSE");de=c.fromHex(W)}catch(g){if(g.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(K&&Y.hasHighS())return!1;Z&&(D=t.hash(D));const{r:ke,s:Be}=Y,se=F(D),M=l(Be),Q=a(se*M),C=a(ke*M),j=(v=c.BASE.multiplyAndAddUnsafe(de,Q,C))==null?void 0:v.toAffine();return j?a(j.x)===ke:!1}return{CURVE:t,getPublicKey:S,getSharedSecret:L,sign:ne,verify:oe,ProjectivePoint:c,Signature:b,utils:E}}let du=class extends su{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Fg(t);const s=Si(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return hr(this),this.iHash.update(t),this}digestInto(t){hr(this),tu(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const hu=(e,t,n)=>new du(e,t).update(n).digest();hu.create=(e,t)=>new du(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Sy(e){return{hash:e,hmac:(t,...n)=>hu(e,t,jg(...n)),randomBytes:ru}}function ky(e,t){const n=s=>xy({...e,...Sy(s)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),pr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),pu=BigInt(1),gr=BigInt(2),tl=(e,t)=>(e+t/gr)/t;function gu(e){const t=Mr,n=BigInt(3),s=BigInt(6),r=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,f=c*c*e%t,u=ht(f,n,t)*f%t,d=ht(u,n,t)*f%t,h=ht(d,gr,t)*c%t,y=ht(h,r,t)*h%t,p=ht(y,o,t)*y%t,m=ht(p,a,t)*p%t,b=ht(m,l,t)*m%t,E=ht(b,a,t)*p%t,S=ht(E,n,t)*f%t,k=ht(S,i,t)*y%t,L=ht(k,s,t)*c%t,T=ht(L,gr,t);if(!Ko.eql(Ko.sqr(T),e))throw new Error("Cannot find square root");return T}const Ko=gy(Mr,void 0,void 0,{sqrt:gu}),fs=ky({a:BigInt(0),b:BigInt(7),Fp:Ko,n:pr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=pr,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-pu*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=tl(o*e,t),l=tl(-s*e,t);let c=We(e-a*n-l*r,t),f=We(-a*s-l*o,t);const u=c>i,d=f>i;if(u&&(c=t-c),d&&(f=t-f),c>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:c,k2neg:d,k2:f}}}},jo),Ur=BigInt(0),yu=e=>typeof e=="bigint"&&Ur<e&&e<Mr,Cy=e=>typeof e=="bigint"&&Ur<e&&e<pr,nl={};function yr(e,...t){let n=nl[e];if(n===void 0){const s=jo(Uint8Array.from(e,r=>r.charCodeAt(0)));n=Fn(s,s),nl[e]=n}return jo(Fn(n,...t))}const Ai=e=>e.toRawBytes(!0).slice(1),zo=e=>_n(e,32),mo=e=>We(e,Mr),Hs=e=>We(e,pr),Ii=fs.ProjectivePoint,Py=(e,t,n)=>Ii.BASE.multiplyAndAddUnsafe(e,t,n);function Go(e){let t=fs.utils.normPrivateKeyToScalar(e),n=Ii.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Hs(-t),bytes:Ai(n)}}function vu(e){if(!yu(e))throw new Error("bad x: need 0 < x < p");const t=mo(e*e),n=mo(t*e+BigInt(7));let s=gu(n);s%gr!==Ur&&(s=mo(-s));const r=new Ii(e,s,pu);return r.assertValidity(),r}function mu(...e){return Hs(st(yr("BIP0340/challenge",...e)))}function Ty(e){return Go(e).bytes}function Ay(e,t,n=ru(32)){const s=Ke("message",e),{bytes:r,scalar:o}=Go(t),i=Ke("auxRand",n,32),a=zo(o^st(yr("BIP0340/aux",i))),l=yr("BIP0340/nonce",a,r,s),c=Hs(st(l));if(c===Ur)throw new Error("sign failed: k is zero");const{bytes:f,scalar:u}=Go(c),d=mu(f,r,s),h=new Uint8Array(64);if(h.set(f,0),h.set(zo(Hs(u+d*o)),32),!wu(h,s,r))throw new Error("sign: Invalid signature produced");return h}function wu(e,t,n){const s=Ke("signature",e,64),r=Ke("message",t),o=Ke("publicKey",n,32);try{const i=vu(st(o)),a=st(s.subarray(0,32));if(!yu(a))return!1;const l=st(s.subarray(32,64));if(!Cy(l))return!1;const c=mu(zo(a),Ai(i),r),f=Py(i,l,Hs(-c));return!(!f||!f.hasEvenY()||f.toAffine().x!==a)}catch{return!1}}const ws={getPublicKey:Ty,sign:Ay,verify:wu,utils:{randomPrivateKey:fs.utils.randomPrivateKey,lift_x:vu,pointToBytes:Ai,numberToBytesBE:_n,bytesToNumberBE:st,taggedHash:yr,mod:We}},wo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $i=e=>e instanceof Uint8Array,bo=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),It=(e,t)=>e<<32-t|e>>>t,Iy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Iy)throw new Error("Non little-endian hardware is not supported");const $y=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function nt(e){if(!$i(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=$y[e[n]];return t}function ls(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const r=s*2,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function Ly(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ds(e){if(typeof e=="string"&&(e=Ly(e)),!$i(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Or(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!$i(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}let bu=class{clone(){return this._cloneInto()}};function _u(e){const t=s=>e().update(Ds(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Eu(e=32){if(wo&&typeof wo.getRandomValues=="function")return wo.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Jo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function By(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function Ru(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Ny(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Jo(e.outputLen),Jo(e.blockLen)}function My(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Uy(e,t){Ru(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Mt={number:Jo,bool:By,bytes:Ru,hash:Ny,exists:My,output:Uy};function Oy(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),a=Number(n&o),l=s?4:0,c=s?0:4;e.setUint32(t+l,i,s),e.setUint32(t+c,a,s)}class Fy extends bu{constructor(t,n,s,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=bo(this.buffer)}update(t){Mt.exists(this);const{view:n,buffer:s,blockLen:r}=this;t=Ds(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(r-this.pos,o-i);if(a===r){const l=bo(t);for(;r<=o-i;i+=r)this.process(l,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Mt.exists(this),Mt.output(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let u=i;u<r;u++)n[u]=0;Oy(s,r-8,BigInt(this.length*8),o),this.process(s,0);const a=bo(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,f=this.get();if(c>f.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,f[u],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:a}=this;return t.length=r,t.pos=a,t.finished=o,t.destroyed=i,r%n&&t.buffer.set(s),t}}const Hy=(e,t,n)=>e&t^~e&n,Dy=(e,t,n)=>e&t^e&n^t&n,Vy=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),an=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ln=new Uint32Array(64);let xu=class extends Fy{constructor(){super(64,32,8,!1),this.A=an[0]|0,this.B=an[1]|0,this.C=an[2]|0,this.D=an[3]|0,this.E=an[4]|0,this.F=an[5]|0,this.G=an[6]|0,this.H=an[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:a,H:l}=this;return[t,n,s,r,o,i,a,l]}set(t,n,s,r,o,i,a,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let u=0;u<16;u++,n+=4)ln[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const d=ln[u-15],h=ln[u-2],y=It(d,7)^It(d,18)^d>>>3,p=It(h,17)^It(h,19)^h>>>10;ln[u]=p+ln[u-7]+y+ln[u-16]|0}let{A:s,B:r,C:o,D:i,E:a,F:l,G:c,H:f}=this;for(let u=0;u<64;u++){const d=It(a,6)^It(a,11)^It(a,25),h=f+d+Hy(a,l,c)+Vy[u]+ln[u]|0,p=(It(s,2)^It(s,13)^It(s,22))+Dy(s,r,o)|0;f=c,c=l,l=a,a=i+h|0,i=o,o=r,r=s,s=h+p|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,f=f+this.H|0,this.set(s,r,o,i,a,l,c,f)}roundClean(){ln.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};class jy extends xu{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const zs=_u(()=>new xu);_u(()=>new jy);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ds(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Xt(...e){const t=(r,o)=>i=>r(o(i)),n=Array.from(e).reverse().reduce((r,o)=>r?t(r,o.encode):o.encode,void 0),s=e.reduce((r,o)=>r?t(r,o.decode):o.decode,void 0);return{encode:n,decode:s}}function en(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(ds(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const s=e.indexOf(n);if(s===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return s})}}}function tn(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Fr(e,t="="){if(ds(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.encode: non-string input=${s}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.decode: non-string input=${r}`);let s=n.length;if(s*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;s>0&&n[s-1]===t;s--)if(!((s-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,s)}}}function Su(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function sl(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let s=0;const r=[],o=Array.from(e);for(o.forEach(i=>{if(ds(i),i<0||i>=t)throw new Error(`Wrong integer: ${i}`)});;){let i=0,a=!0;for(let l=s;l<o.length;l++){const c=o[l],f=t*i+c;if(!Number.isSafeInteger(f)||t*i/t!==i||f-c!==t*i)throw new Error("convertRadix: carry overflow");if(i=f%n,o[l]=Math.floor(f/n),!Number.isSafeInteger(o[l])||o[l]*n+i!==f)throw new Error("convertRadix: carry overflow");if(a)o[l]?a=!1:s=l;else continue}if(r.push(i),a)break}for(let i=0;i<e.length-1&&e[i]===0;i++)r.push(0);return r.reverse()}const ku=(e,t)=>t?ku(t,e%t):e,vr=(e,t)=>e+(t-ku(e,t));function Zo(e,t,n,s){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(vr(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${vr(t,n)}`);let r=0,o=0;const i=2**n-1,a=[];for(const l of e){if(ds(l),l>=2**t)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(r=r<<t|l,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)a.push((r>>o-n&i)>>>0);r&=2**o-1}if(r=r<<n-o&i,!s&&o>=t)throw new Error("Excess padding");if(!s&&r)throw new Error(`Non-zero padding: ${r}`);return s&&o>0&&a.push(r>>>0),a}function Wy(e){return ds(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return sl(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(sl(t,e,2**8))}}}function Sn(e,t=!1){if(ds(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(vr(8,e)>32||vr(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Zo(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Zo(n,e,8,t))}}}function rl(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const qy=Xt(Sn(4),en("0123456789ABCDEF"),tn("")),Ky=Xt(Sn(5),en("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Fr(5),tn(""));Xt(Sn(5),en("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Fr(5),tn(""));Xt(Sn(5),en("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),tn(""),Su(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Zt=Xt(Sn(6),en("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Fr(6),tn("")),zy=Xt(Sn(6),en("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Fr(6),tn("")),Li=e=>Xt(Wy(58),en(e),tn("")),Yo=Li("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Li("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Li("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const ol=[0,2,3,5,6,7,9,10,11],Gy={encode(e){let t="";for(let n=0;n<e.length;n+=8){const s=e.subarray(n,n+8);t+=Yo.encode(s).padStart(ol[s.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const s=e.slice(n,n+11),r=ol.indexOf(s.length),o=Yo.decode(s);for(let i=0;i<o.length-r;i++)if(o[i]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-r)))}return Uint8Array.from(t)}},Qo=Xt(en("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),tn("")),il=[996825010,642813549,513874426,1027748829,705979059];function bs(e){const t=e>>25;let n=(e&33554431)<<5;for(let s=0;s<il.length;s++)(t>>s&1)===1&&(n^=il[s]);return n}function al(e,t,n=1){const s=e.length;let r=1;for(let o=0;o<s;o++){const i=e.charCodeAt(o);if(i<33||i>126)throw new Error(`Invalid prefix (${e})`);r=bs(r)^i>>5}r=bs(r);for(let o=0;o<s;o++)r=bs(r)^e.charCodeAt(o)&31;for(let o of t)r=bs(r)^o;for(let o=0;o<6;o++)r=bs(r);return r^=n,Qo.encode(Zo([r%2**30],30,5,!1))}function Cu(e){const t=e==="bech32"?1:734539939,n=Sn(5),s=n.decode,r=n.encode,o=rl(s);function i(f,u,d=90){if(typeof f!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof f}`);if(!Array.isArray(u)||u.length&&typeof u[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof u}`);const h=f.length+7+u.length;if(d!==!1&&h>d)throw new TypeError(`Length ${h} exceeds limit ${d}`);return f=f.toLowerCase(),`${f}1${Qo.encode(u)}${al(f,u,t)}`}function a(f,u=90){if(typeof f!="string")throw new Error(`bech32.decode input should be string, not ${typeof f}`);if(f.length<8||u!==!1&&f.length>u)throw new TypeError(`Wrong string length: ${f.length} (${f}). Expected (8..${u})`);const d=f.toLowerCase();if(f!==d&&f!==f.toUpperCase())throw new Error("String must be lowercase or uppercase");f=d;const h=f.lastIndexOf("1");if(h===0||h===-1)throw new Error('Letter "1" must be present between prefix and data only');const y=f.slice(0,h),p=f.slice(h+1);if(p.length<6)throw new Error("Data must be at least 6 characters long");const m=Qo.decode(p).slice(0,-6),b=al(y,m,t);if(!p.endsWith(b))throw new Error(`Invalid checksum in ${f}: expected "${b}"`);return{prefix:y,words:m}}const l=rl(a);function c(f){const{prefix:u,words:d}=a(f,!1);return{prefix:u,words:d,bytes:s(d)}}return{encode:i,decode:a,decodeToBytes:c,decodeUnsafe:l,fromWords:s,fromWordsUnsafe:o,toWords:r}}const cs=Cu("bech32");Cu("bech32m");const Jy={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},Zy=Xt(Sn(4),en("0123456789abcdef"),tn(""),Su(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),Yy={utf8:Jy,hex:Zy,base16:qy,base32:Ky,base64:Zt,base64url:zy,base58:Yo,base58xmr:Gy};`${Object.keys(Yy).join(", ")}`;function _o(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function ll(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function Qy(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Gt(e,...t){if(!Qy(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const Je=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Xy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Xy)throw new Error("Non little-endian hardware is not supported");function ev(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function tv(e,t){if(e.length!==t.length)return!1;let n=0;for(let s=0;s<e.length;s++)n|=e[s]^t[s];return n===0}const nv=(e,t)=>(Object.assign(t,e),t),wn=16,sv=283;function Bi(e){return e<<1^sv&-(e>>7)}function Gn(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Bi(e);return n}const Xo=(()=>{let e=new Uint8Array(256);for(let n=0,s=1;n<256;n++,s^=Bi(s))e[n]=s;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let s=e[255-n];s|=s<<8,t[e[n]]=(s^s>>4^s>>5^s>>6^s>>7^99)&255}return t})(),rv=Xo.map((e,t)=>Xo.indexOf(t)),ov=e=>e<<24|e>>>8,Eo=e=>e<<8|e>>>24;function Pu(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((c,f)=>t(e[f])),s=n.map(Eo),r=s.map(Eo),o=r.map(Eo),i=new Uint32Array(256*256),a=new Uint32Array(256*256),l=new Uint16Array(256*256);for(let c=0;c<256;c++)for(let f=0;f<256;f++){const u=c*256+f;i[u]=n[c]^s[f],a[u]=r[c]^o[f],l[u]=e[c]<<8|e[f]}return{sbox:e,sbox2:l,T0:n,T1:s,T2:r,T3:o,T01:i,T23:a}}const Ni=Pu(Xo,e=>Gn(e,3)<<24|e<<16|e<<8|Gn(e,2)),Tu=Pu(rv,e=>Gn(e,11)<<24|Gn(e,13)<<16|Gn(e,9)<<8|Gn(e,14)),iv=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Bi(n))e[t]=n;return e})();function Au(e){Gt(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=Ni,s=Je(e),r=s.length,o=a=>Ut(n,a,a,a,a),i=new Uint32Array(t+28);i.set(s);for(let a=r;a<i.length;a++){let l=i[a-1];a%r===0?l=o(ov(l))^iv[a/r-1]:r>6&&a%r===4&&(l=o(l)),i[a]=i[a-r]^l}return i}function av(e){const t=Au(e),n=t.slice(),s=t.length,{sbox2:r}=Ni,{T0:o,T1:i,T2:a,T3:l}=Tu;for(let c=0;c<s;c+=4)for(let f=0;f<4;f++)n[c+f]=t[s-c-4+f];t.fill(0);for(let c=4;c<s-4;c++){const f=n[c],u=Ut(r,f,f,f,f);n[c]=o[u&255]^i[u>>>8&255]^a[u>>>16&255]^l[u>>>24]}return n}function yn(e,t,n,s,r,o){return e[n<<8&65280|s>>>8&255]^t[r>>>8&65280|o>>>24&255]}function Ut(e,t,n,s,r){return e[t&255|n&65280]|e[s>>>16&255|r>>>16&65280]<<16}function cl(e,t,n,s,r){const{sbox2:o,T01:i,T23:a}=Ni;let l=0;t^=e[l++],n^=e[l++],s^=e[l++],r^=e[l++];const c=e.length/4-2;for(let y=0;y<c;y++){const p=e[l++]^yn(i,a,t,n,s,r),m=e[l++]^yn(i,a,n,s,r,t),b=e[l++]^yn(i,a,s,r,t,n),E=e[l++]^yn(i,a,r,t,n,s);t=p,n=m,s=b,r=E}const f=e[l++]^Ut(o,t,n,s,r),u=e[l++]^Ut(o,n,s,r,t),d=e[l++]^Ut(o,s,r,t,n),h=e[l++]^Ut(o,r,t,n,s);return{s0:f,s1:u,s2:d,s3:h}}function lv(e,t,n,s,r){const{sbox2:o,T01:i,T23:a}=Tu;let l=0;t^=e[l++],n^=e[l++],s^=e[l++],r^=e[l++];const c=e.length/4-2;for(let y=0;y<c;y++){const p=e[l++]^yn(i,a,t,r,s,n),m=e[l++]^yn(i,a,n,t,r,s),b=e[l++]^yn(i,a,s,n,t,r),E=e[l++]^yn(i,a,r,s,n,t);t=p,n=m,s=b,r=E}const f=e[l++]^Ut(o,t,r,s,n),u=e[l++]^Ut(o,n,t,r,s),d=e[l++]^Ut(o,s,n,t,r),h=e[l++]^Ut(o,r,s,n,t);return{s0:f,s1:u,s2:d,s3:h}}function Iu(e,t){if(!t)return new Uint8Array(e);if(Gt(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function cv(e){if(Gt(e),e.length%wn!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${wn}`)}function uv(e,t,n){let s=e.length;const r=s%wn;if(!t&&r!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const o=Je(e);if(t){let l=wn-r;l||(l=wn),s=s+l}const i=Iu(s,n),a=Je(i);return{b:o,o:a,out:i}}function fv(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const s=e[n-1];if(s<=0||s>16)throw new Error(`aes/pcks5: wrong padding byte: ${s}`);const r=e.subarray(0,-s);for(let o=0;o<s;o++)if(e[n-o-1]!==s)throw new Error("aes/pcks5: wrong padding");return r}function dv(e){const t=new Uint8Array(16),n=Je(t);t.set(e);const s=wn-e.length;for(let r=wn-s;r<wn;r++)t[r]=s;return n}const $u=nv({blockSize:16,nonceLength:16},function(t,n,s={}){Gt(t),Gt(n,16);const r=!s.disablePadding;return{encrypt:(o,i)=>{const a=Au(t),{b:l,o:c,out:f}=uv(o,r,i),u=Je(n);let d=u[0],h=u[1],y=u[2],p=u[3],m=0;for(;m+4<=l.length;)d^=l[m+0],h^=l[m+1],y^=l[m+2],p^=l[m+3],{s0:d,s1:h,s2:y,s3:p}=cl(a,d,h,y,p),c[m++]=d,c[m++]=h,c[m++]=y,c[m++]=p;if(r){const b=dv(o.subarray(m*4));d^=b[0],h^=b[1],y^=b[2],p^=b[3],{s0:d,s1:h,s2:y,s3:p}=cl(a,d,h,y,p),c[m++]=d,c[m++]=h,c[m++]=y,c[m++]=p}return a.fill(0),f},decrypt:(o,i)=>{cv(o);const a=av(t),l=Je(n),c=Iu(o.length,i),f=Je(o),u=Je(c);let d=l[0],h=l[1],y=l[2],p=l[3];for(let m=0;m+4<=f.length;){const b=d,E=h,S=y,k=p;d=f[m+0],h=f[m+1],y=f[m+2],p=f[m+3];const{s0:L,s1:T,s2:F,s3:H}=lv(a,d,h,y,p);u[m++]=L^b,u[m++]=T^E,u[m++]=F^S,u[m++]=H^k}return a.fill(0),fv(c,r)}}}),Lu=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),hv=Lu("expand 16-byte k"),pv=Lu("expand 32-byte k"),gv=Je(hv),Bu=Je(pv);Bu.slice();function Ce(e,t){return e<<t|e>>>32-t}function ei(e){return e.byteOffset%4===0}const er=64,yv=16,Nu=2**32-1,ul=new Uint32Array;function vv(e,t,n,s,r,o,i,a){const l=r.length,c=new Uint8Array(er),f=Je(c),u=ei(r)&&ei(o),d=u?Je(r):ul,h=u?Je(o):ul;for(let y=0;y<l;i++){if(e(t,n,s,f,i,a),i>=Nu)throw new Error("arx: counter overflow");const p=Math.min(er,l-y);if(u&&p===er){const m=y/4;if(y%4!==0)throw new Error("arx: invalid block position");for(let b=0,E;b<yv;b++)E=m+b,h[E]=d[E]^f[b];y+=er;continue}for(let m=0,b;m<p;m++)b=y+m,o[b]=r[b]^c[m];y+=p}}function mv(e,t){const{allowShortKeys:n,extendNonceFn:s,counterLength:r,counterRight:o,rounds:i}=ev({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return _o(r),_o(i),ll(o),ll(n),(a,l,c,f,u=0)=>{Gt(a),Gt(l),Gt(c);const d=c.length;if(f||(f=new Uint8Array(d)),Gt(f),_o(u),u<0||u>=Nu)throw new Error("arx: counter overflow");if(f.length<d)throw new Error(`arx: output (${f.length}) is shorter than data (${d})`);const h=[];let y=a.length,p,m;if(y===32)p=a.slice(),h.push(p),m=Bu;else if(y===16&&n)p=new Uint8Array(32),p.set(a),p.set(a,16),m=gv,h.push(p);else throw new Error(`arx: invalid 32-byte key, got length=${y}`);ei(l)||(l=l.slice(),h.push(l));const b=Je(p);if(s){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");s(m,b,Je(l.subarray(0,16)),b),l=l.subarray(16)}const E=16-r;if(E!==l.length)throw new Error(`arx: nonce must be ${E} or 16 bytes`);if(E!==12){const k=new Uint8Array(12);k.set(l,o?0:12-l.length),l=k,h.push(l)}const S=Je(l);for(vv(e,m,b,S,c,f,u,i);h.length>0;)h.pop().fill(0);return f}}function wv(e,t,n,s,r,o=20){let i=e[0],a=e[1],l=e[2],c=e[3],f=t[0],u=t[1],d=t[2],h=t[3],y=t[4],p=t[5],m=t[6],b=t[7],E=r,S=n[0],k=n[1],L=n[2],T=i,F=a,H=l,V=c,x=f,B=u,G=d,ne=h,oe=y,U=p,D=m,W=b,J=E,N=S,K=k,Z=L;for(let de=0;de<o;de+=2)T=T+x|0,J=Ce(J^T,16),oe=oe+J|0,x=Ce(x^oe,12),T=T+x|0,J=Ce(J^T,8),oe=oe+J|0,x=Ce(x^oe,7),F=F+B|0,N=Ce(N^F,16),U=U+N|0,B=Ce(B^U,12),F=F+B|0,N=Ce(N^F,8),U=U+N|0,B=Ce(B^U,7),H=H+G|0,K=Ce(K^H,16),D=D+K|0,G=Ce(G^D,12),H=H+G|0,K=Ce(K^H,8),D=D+K|0,G=Ce(G^D,7),V=V+ne|0,Z=Ce(Z^V,16),W=W+Z|0,ne=Ce(ne^W,12),V=V+ne|0,Z=Ce(Z^V,8),W=W+Z|0,ne=Ce(ne^W,7),T=T+B|0,Z=Ce(Z^T,16),D=D+Z|0,B=Ce(B^D,12),T=T+B|0,Z=Ce(Z^T,8),D=D+Z|0,B=Ce(B^D,7),F=F+G|0,J=Ce(J^F,16),W=W+J|0,G=Ce(G^W,12),F=F+G|0,J=Ce(J^F,8),W=W+J|0,G=Ce(G^W,7),H=H+ne|0,N=Ce(N^H,16),oe=oe+N|0,ne=Ce(ne^oe,12),H=H+ne|0,N=Ce(N^H,8),oe=oe+N|0,ne=Ce(ne^oe,7),V=V+x|0,K=Ce(K^V,16),U=U+K|0,x=Ce(x^U,12),V=V+x|0,K=Ce(K^V,8),U=U+K|0,x=Ce(x^U,7);let Y=0;s[Y++]=i+T|0,s[Y++]=a+F|0,s[Y++]=l+H|0,s[Y++]=c+V|0,s[Y++]=f+x|0,s[Y++]=u+B|0,s[Y++]=d+G|0,s[Y++]=h+ne|0,s[Y++]=y+oe|0,s[Y++]=p+U|0,s[Y++]=m+D|0,s[Y++]=b+W|0,s[Y++]=E+J|0,s[Y++]=S+N|0,s[Y++]=k+K|0,s[Y++]=L+Z|0}const Mu=mv(wv,{counterRight:!1,counterLength:4,allowShortKeys:!1});class Uu extends bu{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Mt.hash(t);const s=Ds(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return Mt.exists(this),this.iHash.update(t),this}digestInto(t){Mt.exists(this),Mt.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Hr=(e,t,n)=>new Uu(e,t).update(n).digest();Hr.create=(e,t)=>new Uu(e,t);function bv(e,t,n){return Mt.hash(e),Hr(e,Ds(n),Ds(t))}const Ro=new Uint8Array([0]),fl=new Uint8Array;function _v(e,t,n,s=32){if(Mt.hash(e),Mt.number(s),s>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const r=Math.ceil(s/e.outputLen);n===void 0&&(n=fl);const o=new Uint8Array(r*e.outputLen),i=Hr.create(e,t),a=i._cloneInto(),l=new Uint8Array(i.outputLen);for(let c=0;c<r;c++)Ro[0]=c+1,a.update(c===0?fl:l).update(n).update(Ro).digestInto(l),o.set(l,e.outputLen*c),i._cloneInto(a);return i.destroy(),a.destroy(),l.fill(0),Ro.fill(0),o.slice(0,s)}var Ev=Object.defineProperty,Oe=(e,t)=>{for(var n in t)Ev(e,n,{get:t[n],enumerable:!0})},An=Symbol("verified"),Rv=e=>e instanceof Object;function Ou(e){if(!Rv(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let s=0;s<n.length;s++)if(typeof n[s]=="object")return!1}return!0}var Ht={};Oe(Ht,{Queue:()=>Hu,QueueNode:()=>Fu,binarySearch:()=>Mi,insertEventIntoAscendingList:()=>Sv,insertEventIntoDescendingList:()=>xv,normalizeURL:()=>Jn,utf8Decoder:()=>Nt,utf8Encoder:()=>xt});var Nt=new TextDecoder("utf-8"),xt=new TextEncoder;function Jn(e){e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function xv(e,t){const[n,s]=Mi(e,r=>t.id===r.id?0:t.created_at===r.created_at?-1:r.created_at-t.created_at);return s||e.splice(n,0,t),e}function Sv(e,t){const[n,s]=Mi(e,r=>t.id===r.id?0:t.created_at===r.created_at?-1:t.created_at-r.created_at);return s||e.splice(n,0,t),e}function Mi(e,t){let n=0,s=e.length-1;for(;n<=s;){const r=Math.floor((n+s)/2),o=t(e[r]);if(o===0)return[r,!0];o<0?s=r-1:n=r+1}return[n,!1]}var Fu=class{constructor(e){ye(this,"value");ye(this,"next",null);ye(this,"prev",null);this.value=e}},Hu=class{constructor(){ye(this,"first");ye(this,"last");this.first=null,this.last=null}enqueue(e){const t=new Fu(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,e.value}},kv=class{generateSecretKey(){return ws.utils.randomPrivateKey()}getPublicKey(e){return nt(ws.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=nt(ws.getPublicKey(t)),n.id=As(n),n.sig=nt(ws.sign(As(n),t)),n[An]=!0,n}verifyEvent(e){if(typeof e[An]=="boolean")return e[An];const t=As(e);if(t!==e.id)return e[An]=!1,!1;try{const n=ws.verify(e.sig,t,e.pubkey);return e[An]=n,n}catch{return e[An]=!1,!1}}};function Cv(e){if(!Ou(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function As(e){let t=zs(xt.encode(Cv(e)));return nt(t)}var Dr=new kv,Pv=Dr.generateSecretKey,Du=Dr.getPublicKey,ot=Dr.finalizeEvent,Dn=Dr.verifyEvent,Tv={};Oe(Tv,{Application:()=>T0,BadgeAward:()=>Ov,BadgeDefinition:()=>E0,BlockedRelaysList:()=>a0,BookmarkList:()=>r0,Bookmarksets:()=>w0,Calendar:()=>M0,CalendarEventRSVP:()=>U0,ChannelCreation:()=>Ku,ChannelHideMessage:()=>Ju,ChannelMessage:()=>Gu,ChannelMetadata:()=>zu,ChannelMuteUser:()=>Zu,ClassifiedListing:()=>$0,ClientAuth:()=>Yu,CommunitiesList:()=>o0,CommunityDefinition:()=>H0,CommunityPostApproval:()=>zv,Contacts:()=>Bv,CreateOrUpdateProduct:()=>S0,CreateOrUpdateStall:()=>x0,Curationsets:()=>b0,Date:()=>B0,DraftClassifiedListing:()=>L0,DraftLong:()=>C0,Emojisets:()=>P0,EncryptedDirectMessage:()=>Nv,EncryptedDirectMessages:()=>Mv,EventDeletion:()=>Uv,FileMetadata:()=>Dv,FileServerPreference:()=>f0,Followsets:()=>y0,GenericRepost:()=>Fv,Genericlists:()=>v0,HTTPAuth:()=>Fi,Handlerinformation:()=>F0,Handlerrecommendation:()=>O0,Highlights:()=>e0,InterestsList:()=>c0,Interestsets:()=>R0,JobFeedback:()=>Zv,JobRequest:()=>Gv,JobResult:()=>Jv,Label:()=>Kv,LightningPubRPC:()=>h0,LiveChatMessage:()=>Vv,LiveEvent:()=>A0,LongFormArticle:()=>k0,Metadata:()=>Iv,Mutelist:()=>t0,NWCWalletInfo:()=>d0,NWCWalletRequest:()=>Qu,NWCWalletResponse:()=>p0,NostrConnect:()=>g0,OpenTimestamps:()=>Hv,Pinlist:()=>n0,ProblemTracker:()=>jv,ProfileBadges:()=>_0,PublicChatsList:()=>i0,Reaction:()=>Oi,RecommendRelay:()=>Lv,RelayList:()=>s0,Relaysets:()=>m0,Report:()=>Wv,Reporting:()=>qv,Repost:()=>Ui,SearchRelaysList:()=>l0,ShortTextNote:()=>$v,Time:()=>N0,UserEmojiList:()=>u0,UserStatuses:()=>I0,Zap:()=>Xv,ZapGoal:()=>Yv,ZapRequest:()=>Qv,classifyKind:()=>Av,isEphemeralKind:()=>Wu,isParameterizedReplaceableKind:()=>qu,isRegularKind:()=>Vu,isReplaceableKind:()=>ju});function Vu(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function ju(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function Wu(e){return 2e4<=e&&e<3e4}function qu(e){return 3e4<=e&&e<4e4}function Av(e){return Vu(e)?"regular":ju(e)?"replaceable":Wu(e)?"ephemeral":qu(e)?"parameterized":"unknown"}var Iv=0,$v=1,Lv=2,Bv=3,Nv=4,Mv=4,Uv=5,Ui=6,Oi=7,Ov=8,Fv=16,Ku=40,zu=41,Gu=42,Ju=43,Zu=44,Hv=1040,Dv=1063,Vv=1311,jv=1971,Wv=1984,qv=1984,Kv=1985,zv=4550,Gv=5999,Jv=6999,Zv=7e3,Yv=9041,Qv=9734,Xv=9735,e0=9802,t0=1e4,n0=10001,s0=10002,r0=10003,o0=10004,i0=10005,a0=10006,l0=10007,c0=10015,u0=10030,f0=10096,d0=13194,h0=21e3,Yu=22242,Qu=23194,p0=23195,g0=24133,Fi=27235,y0=3e4,v0=30001,m0=30002,w0=30003,b0=30004,_0=30008,E0=30009,R0=30015,x0=30017,S0=30018,k0=30023,C0=30024,P0=30030,T0=30078,A0=30311,I0=30315,$0=30402,L0=30403,B0=31922,N0=31923,M0=31924,U0=31925,O0=31989,F0=31990,H0=34550;function D0(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let s=n.slice(1),r=e[`#${s}`];if(r&&!t.tags.find(([o,i])=>o===n.slice(1)&&r.indexOf(i)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function V0(e,t){for(let n=0;n<e.length;n++)if(D0(e[n],t))return!0;return!1}var j0={};Oe(j0,{getHex64:()=>Vr,getInt:()=>Xu,getSubscriptionId:()=>ef,matchEventId:()=>W0,matchEventKind:()=>K0,matchEventPubkey:()=>q0});function Vr(e,t){let n=t.length+3,s=e.indexOf(`"${t}":`)+n,r=e.slice(s).indexOf('"')+s+1;return e.slice(r,r+64)}function Xu(e,t){let n=t.length,s=e.indexOf(`"${t}":`)+n+3,r=e.slice(s),o=Math.min(r.indexOf(","),r.indexOf("}"));return parseInt(r.slice(0,o),10)}function ef(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let s=t+7+1+n,r=e.slice(s+1,80).indexOf('"');if(r===-1)return null;let o=s+1+r;return e.slice(s+1,o)}function W0(e,t){return t===Vr(e,"id")}function q0(e,t){return t===Vr(e,"pubkey")}function K0(e,t){return t===Xu(e,"kind")}var z0={};Oe(z0,{makeAuthEvent:()=>tf});function tf(e,t){return{kind:Yu,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function G0(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var J0=e=>(e[An]=!0,!0),Hi=class{constructor(e,t){ye(this,"url");ye(this,"_connected",!1);ye(this,"onclose",null);ye(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));ye(this,"_onauth",null);ye(this,"baseEoseTimeout",4400);ye(this,"connectionTimeout",4400);ye(this,"openSubs",new Map);ye(this,"connectionTimeoutHandle");ye(this,"connectionPromise");ye(this,"openCountRequests",new Map);ye(this,"openEventPublishes",new Map);ye(this,"ws");ye(this,"incomingMessageQueue",new Hu);ye(this,"queueRunning",!1);ye(this,"challenge");ye(this,"serial",0);ye(this,"verifyEvent");ye(this,"_WebSocket");this.url=Jn(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){const n=new Hi(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var s;t(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(s=this.onclose)==null||s.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=async()=>{var n;this._connected&&(this._connected=!1,this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await G0();this.queueRunning=!1}handleNext(){var n,s,r;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=ef(e);if(t){const o=this.openSubs.get(t);if(!o)return;const i=Vr(e,"id"),a=(n=o.alreadyHaveEvent)==null?void 0:n.call(o,i);if((s=o.receivedEvent)==null||s.call(o,this,i),a)return}try{let o=JSON.parse(e);switch(o[0]){case"EVENT":{const i=this.openSubs.get(o[1]),a=o[2];this.verifyEvent(a)&&V0(i.filters,a)&&i.onevent(a);return}case"COUNT":{const i=o[1],a=o[2],l=this.openCountRequests.get(i);l&&(l.resolve(a.count),this.openCountRequests.delete(i));return}case"EOSE":{const i=this.openSubs.get(o[1]);if(!i)return;i.receivedEose();return}case"OK":{const i=o[1],a=o[2],l=o[3],c=this.openEventPublishes.get(i);a?c.resolve(l):c.reject(new Error(l)),this.openEventPublishes.delete(i);return}case"CLOSED":{const i=o[1],a=this.openSubs.get(i);if(!a)return;a.closed=!0,a.close(o[2]);return}case"NOTICE":this.onnotice(o[1]);return;case"AUTH":{this.challenge=o[1],(r=this._onauth)==null||r.call(this,o[1]);return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){if(!this.challenge)throw new Error("can't perform auth, no challenge was received");const t=await e(tf(this.url,this.challenge)),n=new Promise((s,r)=>{this.openEventPublishes.set(t.id,{resolve:s,reject:r})});return this.send('["AUTH",'+JSON.stringify(t)+"]"),n}async publish(e){const t=new Promise((n,s)=>{this.openEventPublishes.set(e.id,{resolve:n,reject:s})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,s=new Promise((r,o)=>{this.openCountRequests.set(n,{resolve:r,reject:o})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),s}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||"sub:"+this.serial,s=new Z0(this,n,e,t);return this.openSubs.set(n,s),s}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},Z0=class{constructor(e,t,n,s){ye(this,"relay");ye(this,"id");ye(this,"closed",!1);ye(this,"eosed",!1);ye(this,"filters");ye(this,"alreadyHaveEvent");ye(this,"receivedEvent");ye(this,"onevent");ye(this,"oneose");ye(this,"onclose");ye(this,"eoseTimeout");ye(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=s.alreadyHaveEvent,this.receivedEvent=s.receivedEvent,this.eoseTimeout=s.eoseTimeout||e.baseEoseTimeout,this.oneose=s.oneose,this.onclose=s.onclose,this.onevent=s.onevent||(r=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,r)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;!this.closed&&this.relay.connected&&(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},nf;try{nf=WebSocket}catch{}var ti=class extends Hi{constructor(e){super(e,{verifyEvent:Dn,websocketImplementation:nf})}static async connect(e){const t=new ti(e);return await t.connect(),t}},Y0=class{constructor(e){ye(this,"relays",new Map);ye(this,"seenOn",new Map);ye(this,"trackRelays",!1);ye(this,"verifyEvent");ye(this,"trustedRelayURLs",new Set);ye(this,"_WebSocket");this.verifyEvent=e.verifyEvent,this._WebSocket=e.websocketImplementation}async ensureRelay(e,t){e=Jn(e);let n=this.relays.get(e);return n||(n=new Hi(e,{verifyEvent:this.trustedRelayURLs.has(e)?J0:this.verifyEvent,websocketImplementation:this._WebSocket}),t!=null&&t.connectionTimeout&&(n.connectionTimeout=t.connectionTimeout),this.relays.set(e,n)),await n.connect(),n}close(e){e.map(Jn).forEach(t=>{var n;(n=this.relays.get(t))==null||n.close()})}subscribeMany(e,t,n){return this.subscribeManyMap(Object.fromEntries(e.map(s=>[s,t])),n)}subscribeManyMap(e,t){this.trackRelays&&(t.receivedEvent=(u,d)=>{let h=this.seenOn.get(d);h||(h=new Set,this.seenOn.set(d,h)),h.add(u)});const n=new Set,s=[],r=Object.keys(e).length,o=[];let i=u=>{var d;o[u]=!0,o.filter(h=>h).length===r&&((d=t.oneose)==null||d.call(t),i=()=>{})};const a=[];let l=(u,d)=>{var h;i(u),a[u]=d,a.filter(y=>y).length===r&&((h=t.onclose)==null||h.call(t,a),l=()=>{})};const c=u=>{var h;if((h=t.alreadyHaveEvent)!=null&&h.call(t,u))return!0;const d=n.has(u);return n.add(u),d},f=Promise.all(Object.entries(e).map(async(u,d,h)=>{if(h.indexOf(u)!==d){l(d,"duplicate url");return}let[y,p]=u;y=Jn(y);let m;try{m=await this.ensureRelay(y,{connectionTimeout:t.maxWait?Math.max(t.maxWait*.8,t.maxWait-1e3):void 0})}catch(E){l(d,(E==null?void 0:E.message)||String(E));return}let b=m.subscribe(p,{...t,oneose:()=>i(d),onclose:E=>l(d,E),alreadyHaveEvent:c,eoseTimeout:t.maxWait});s.push(b)}));return{async close(){await f,s.forEach(u=>{u.close()})}}}subscribeManyEose(e,t,n){const s=this.subscribeMany(e,t,{...n,oneose(){s.close()}});return s}async querySync(e,t,n){return new Promise(async s=>{const r=[];this.subscribeManyEose(e,[t],{...n,onevent(o){r.push(o)},onclose(o){s(r)}})})}async get(e,t,n){t.limit=1;const s=await this.querySync(e,t,n);return s.sort((r,o)=>o.created_at-r.created_at),s[0]||null}publish(e,t){return e.map(Jn).map(async(n,s,r)=>r.indexOf(n)!==s?Promise.reject("duplicate url"):(await this.ensureRelay(n)).publish(t))}},sf;try{sf=WebSocket}catch{}var ni=class extends Y0{constructor(){super({verifyEvent:Dn,websocketImplementation:sf})}},Fe={};Oe(Fe,{BECH32_REGEX:()=>rf,Bech32MaxSize:()=>Di,decode:()=>Gs,encodeBytes:()=>jr,naddrEncode:()=>rm,neventEncode:()=>sm,noteEncode:()=>tm,nprofileEncode:()=>nm,npubEncode:()=>em,nrelayEncode:()=>om,nsecEncode:()=>X0});var Di=5e3,rf=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Q0(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function Gs(e){var r,o,i,a,l,c,f,u;let{prefix:t,words:n}=cs.decode(e,Di),s=new Uint8Array(cs.fromWords(n));switch(t){case"nprofile":{let d=tr(s);if(!((r=d[0])!=null&&r[0]))throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:nt(d[0][0]),relays:d[1]?d[1].map(h=>Nt.decode(h)):[]}}}case"nevent":{let d=tr(s);if(!((o=d[0])!=null&&o[0]))throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:nt(d[0][0]),relays:d[1]?d[1].map(h=>Nt.decode(h)):[],author:(i=d[2])!=null&&i[0]?nt(d[2][0]):void 0,kind:(a=d[3])!=null&&a[0]?parseInt(nt(d[3][0]),16):void 0}}}case"naddr":{let d=tr(s);if(!((l=d[0])!=null&&l[0]))throw new Error("missing TLV 0 for naddr");if(!((c=d[2])!=null&&c[0]))throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((f=d[3])!=null&&f[0]))throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Nt.decode(d[0][0]),pubkey:nt(d[2][0]),kind:parseInt(nt(d[3][0]),16),relays:d[1]?d[1].map(h=>Nt.decode(h)):[]}}}case"nrelay":{let d=tr(s);if(!((u=d[0])!=null&&u[0]))throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Nt.decode(d[0][0])}}case"nsec":return{type:t,data:s};case"npub":case"note":return{type:t,data:nt(s)};default:throw new Error(`unknown prefix ${t}`)}}function tr(e){let t={},n=e;for(;n.length>0;){let s=n[0],r=n[1],o=n.slice(2,2+r);if(n=n.slice(2+r),o.length<r)throw new Error(`not enough data to read on TLV ${s}`);t[s]=t[s]||[],t[s].push(o)}return t}function X0(e){return jr("nsec",e)}function em(e){return jr("npub",ls(e))}function tm(e){return jr("note",ls(e))}function Js(e,t){let n=cs.toWords(t);return cs.encode(e,n,Di)}function jr(e,t){return Js(e,t)}function nm(e){let t=Wr({0:[ls(e.pubkey)],1:(e.relays||[]).map(n=>xt.encode(n))});return Js("nprofile",t)}function sm(e){let t;e.kind!==void 0&&(t=Q0(e.kind));let n=Wr({0:[ls(e.id)],1:(e.relays||[]).map(s=>xt.encode(s)),2:e.author?[ls(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Js("nevent",n)}function rm(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=Wr({0:[xt.encode(e.identifier)],1:(e.relays||[]).map(s=>xt.encode(s)),2:[ls(e.pubkey)],3:[new Uint8Array(t)]});return Js("naddr",n)}function om(e){let t=Wr({0:[xt.encode(e)]});return Js("nrelay",t)}function Wr(e){let t=[];return Object.entries(e).reverse().forEach(([n,s])=>{s.forEach(r=>{let o=new Uint8Array(r.length+2);o.set([parseInt(n)],0),o.set([r.length],1),o.set(r,2),t.push(o)})}),Or(...t)}var im=/\bnostr:((note|npub|naddr|nevent|nprofile)1\w+)\b|#\[(\d+)\]/g;function Vi(e){let t=[];for(let n of e.content.matchAll(im))if(n[2])try{let{type:s,data:r}=Gs(n[1]);switch(s){case"npub":{t.push({text:n[0],profile:{pubkey:r,relays:[]}});break}case"nprofile":{t.push({text:n[0],profile:r});break}case"note":{t.push({text:n[0],event:{id:r,relays:[]}});break}case"nevent":{t.push({text:n[0],event:r});break}case"naddr":{t.push({text:n[0],address:r});break}}}catch{}else if(n[3]){let s=parseInt(n[3],10),r=e.tags[s];if(!r)continue;switch(r[0]){case"p":{t.push({text:n[0],profile:{pubkey:r[1],relays:r[2]?[r[2]]:[]}});break}case"e":{t.push({text:n[0],event:{id:r[1],relays:r[2]?[r[2]]:[]}});break}case"a":{try{let[o,i,a]=r[1].split(":");t.push({text:n[0],address:{identifier:a,pubkey:i,kind:parseInt(o,10),relays:r[2]?[r[2]]:[]}})}catch{}break}}}return t}var am={};Oe(am,{decrypt:()=>lm,encrypt:()=>of});async function of(e,t,n){const s=e instanceof Uint8Array?nt(e):e,r=fs.getSharedSecret(s,"02"+t),o=af(r);let i=Uint8Array.from(Eu(16)),a=xt.encode(n),l=$u(o,i).encrypt(a),c=Zt.encode(new Uint8Array(l)),f=Zt.encode(new Uint8Array(i.buffer));return`${c}?iv=${f}`}async function lm(e,t,n){const s=e instanceof Uint8Array?nt(e):e;let[r,o]=n.split("?iv="),i=fs.getSharedSecret(s,"02"+t),a=af(i),l=Zt.decode(o),c=Zt.decode(r),f=$u(a,l).decrypt(c);return Nt.decode(f)}function af(e){return e.slice(1,33)}var lf={};Oe(lf,{NIP05_REGEX:()=>cf,isValid:()=>fm,queryProfile:()=>uf,searchDomain:()=>um,useFetchImplementation:()=>cm});var cf=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,qr;try{qr=fetch}catch{}function cm(e){qr=e}async function um(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`;return(await(await qr(n,{redirect:"error"})).json()).names}catch{return{}}}async function uf(e){var o;const t=e.match(cf);if(!t)return null;const[n,s="_",r]=t;try{const i=`https://${r}/.well-known/nostr.json?name=${s}`,a=await(await qr(i,{redirect:"error"})).json();let l=a.names[s];return l?{pubkey:l,relays:(o=a.relays)==null?void 0:o[l]}:null}catch{return null}}async function fm(e,t){let n=await uf(t);return n?n.pubkey===e:!1}var St={};Oe(St,{parse:()=>dm});function dm(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const s of e.tags)s[0]==="e"&&s[1]&&n.push(s),s[0]==="p"&&s[1]&&t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});for(let s=0;s<n.length;s++){const r=n[s],[o,i,a,l]=r,c={id:i,relays:a?[a]:[]},f=s===0,u=s===n.length-1;if(l==="root"){t.root=c;continue}if(l==="reply"){t.reply=c;continue}if(l==="mention"){t.mentions.push(c);continue}if(f){t.root=c;continue}if(u){t.reply=c;continue}t.mentions.push(c)}return t}var hm={};Oe(hm,{fetchRelayInformation:()=>gm,useFetchImplementation:()=>pm});var ff;try{ff=fetch}catch{}function pm(e){ff=e}async function gm(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var ym={};Oe(ym,{getPow:()=>df,minePow:()=>vm});function df(e){let t=0;for(let n=0;n<e.length;n++){const s=parseInt(e[n],16);if(s===0)t+=4;else{t+=Math.clz32(s)-28;break}}return t}function vm(e,t){let n=0;const s=e,r=["nonce",n.toString(),t.toString()];for(s.tags.push(r);;){const o=Math.floor(new Date().getTime()/1e3);if(o!==s.created_at&&(n=0,s.created_at=o),r[1]=(++n).toString(),s.id=As(s),df(s.id)>=t)break}return s}var mm={};Oe(mm,{finishRepostEvent:()=>wm,getRepostedEvent:()=>bm,getRepostedEventPointer:()=>hf});function wm(e,t,n,s){return ot({kind:Ui,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:e.content===""?"":JSON.stringify(t),created_at:e.created_at},s)}function hf(e){if(e.kind!==Ui)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const r=e.tags[s];r.length>=2&&(r[0]==="e"&&t===void 0?t=r:r[0]==="p"&&n===void 0&&(n=r))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(s=>typeof s=="string"),author:n==null?void 0:n[1]}}function bm(e,{skipVerification:t}={}){const n=hf(e);if(n===void 0||e.content==="")return;let s;try{s=JSON.parse(e.content)}catch{return}if(s.id===n.id&&!(!t&&!Dn(s)))return s}var _m={};Oe(_m,{NOSTR_URI_REGEX:()=>Kr,parse:()=>Rm,test:()=>Em});var Kr=new RegExp(`nostr:(${rf.source})`);function Em(e){return typeof e=="string"&&new RegExp(`^${Kr.source}$`).test(e)}function Rm(e){const t=e.match(new RegExp(`^${Kr.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Gs(t[1])}}var xm={};Oe(xm,{finishReactionEvent:()=>Sm,getReactedEventPointer:()=>km});function Sm(e,t,n){const s=t.tags.filter(r=>r.length>=2&&(r[0]==="e"||r[0]==="p"));return ot({...e,kind:Oi,tags:[...e.tags??[],...s,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function km(e){if(e.kind!==Oi)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const r=e.tags[s];r.length>=2&&(r[0]==="e"&&t===void 0?t=r:r[0]==="p"&&n===void 0&&(n=r))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(s=>s!==void 0),author:n[1]}}var Cm={};Oe(Cm,{matchAll:()=>Pm,regex:()=>ji,replaceAll:()=>Tm});var ji=()=>new RegExp(`\\b${Kr.source}\\b`,"g");function*Pm(e){const t=e.matchAll(ji());for(const n of t)try{const[s,r]=n;yield{uri:s,value:r,decoded:Gs(r),start:n.index,end:n.index+s.length}}catch{}}function Tm(e,t){return e.replaceAll(ji(),(n,s)=>t({uri:n,value:s,decoded:Gs(s)}))}var Am={};Oe(Am,{channelCreateEvent:()=>Im,channelHideMessageEvent:()=>Bm,channelMessageEvent:()=>Lm,channelMetadataEvent:()=>$m,channelMuteUserEvent:()=>Nm});var Im=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ot({kind:Ku,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},$m=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ot({kind:zu,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},Lm=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),ot({kind:Gu,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},Bm=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ot({kind:Ju,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},Nm=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ot({kind:Zu,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},Mm={};Oe(Mm,{EMOJI_SHORTCODE_REGEX:()=>pf,matchAll:()=>Um,regex:()=>Wi,replaceAll:()=>Om});var pf=/:(\w+):/,Wi=()=>new RegExp(`\\B${pf.source}\\B`,"g");function*Um(e){const t=e.matchAll(Wi());for(const n of t)try{const[s,r]=n;yield{shortcode:s,name:r,start:n.index,end:n.index+s.length}}catch{}}function Om(e,t){return e.replaceAll(Wi(),(n,s)=>t({shortcode:n,name:s}))}var Fm={};Oe(Fm,{useFetchImplementation:()=>Hm,validateGithub:()=>Dm});var qi;try{qi=fetch}catch{}function Hm(e){qi=e}async function Dm(e,t,n){try{return await(await qi(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var zr={};Oe(zr,{decrypt:()=>_f,encrypt:()=>bf,getConversationKey:()=>vf,v2:()=>Km});var gf=1,yf=65535;function vf(e,t){const n=fs.getSharedSecret(e,"02"+t).subarray(1,33);return bv(zs,n,"nip44-v2")}function mf(e,t){const n=_v(zs,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function Ki(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function Vm(e){if(!Number.isSafeInteger(e)||e<gf||e>yf)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function jm(e){const t=xt.encode(e),n=t.length,s=Vm(n),r=new Uint8Array(Ki(n)-n);return Or(s,t,r)}function Wm(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<gf||t>yf||n.length!==t||e.length!==2+Ki(t))throw new Error("invalid padding");return Nt.decode(n)}function wf(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const s=Or(n,t);return Hr(zs,e,s)}function qm(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=Zt.decode(e)}catch(o){throw new Error("invalid base64: "+o.message)}const s=n.length;if(s<99||s>65603)throw new Error("invalid data length: "+s);const r=n[0];if(r!==2)throw new Error("unknown encryption version "+r);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function bf(e,t,n=Eu(32)){const{chacha_key:s,chacha_nonce:r,hmac_key:o}=mf(t,n),i=jm(e),a=Mu(s,r,i),l=wf(o,a,n);return Zt.encode(Or(new Uint8Array([2]),n,a,l))}function _f(e,t){const{nonce:n,ciphertext:s,mac:r}=qm(e),{chacha_key:o,chacha_nonce:i,hmac_key:a}=mf(t,n),l=wf(a,s,n);if(!tv(l,r))throw new Error("invalid MAC");const c=Mu(o,i,s);return Wm(c)}var Km={utils:{getConversationKey:vf,calcPaddedLen:Ki},encrypt:bf,decrypt:_f},zm={};Oe(zm,{makeNwcRequestEvent:()=>Jm,parseConnectionString:()=>Gm});function Gm(e){const{pathname:t,searchParams:n}=new URL(e),s=t,r=n.get("relay"),o=n.get("secret");if(!s||!r||!o)throw new Error("invalid connection string");return{pubkey:s,relay:r,secret:o}}async function Jm(e,t,n){const r=await of(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),o={kind:Qu,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",e]]};return ot(o,t)}var Zm={};Oe(Zm,{getZapEndpoint:()=>Qm,makeZapReceipt:()=>tw,makeZapRequest:()=>Xm,useFetchImplementation:()=>Ym,validateZapRequest:()=>ew});var zi;try{zi=fetch}catch{}function Ym(e){zi=e}async function Qm(e){try{let t="",{lud06:n,lud16:s}=JSON.parse(e.content);if(n){let{words:i}=cs.decode(n,1e3),a=cs.fromWords(i);t=Nt.decode(a)}else if(s){let[i,a]=s.split("@");t=new URL(`/.well-known/lnurlp/${i}`,`https://${a}`).toString()}else return null;let o=await(await zi(t)).json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch{}return null}function Xm({profile:e,event:t,amount:n,relays:s,comment:r=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",e],["amount",n.toString()],["relays",...s]]};return t&&o.tags.push(["e",t]),o}function ew(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!Ou(t))return"Zap request is not a valid Nostr event.";if(!Dn(t))return"Invalid signature on zap request.";let n=t.tags.find(([o,i])=>o==="p"&&i);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let s=t.tags.find(([o,i])=>o==="e"&&i);return s&&!s[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([o,i])=>o==="relays"&&i)?null:"Zap request doesn't have a 'relays' tag."}function tw({zapRequest:e,preimage:t,bolt11:n,paidAt:s}){let r=JSON.parse(e),o=r.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),i={kind:9735,created_at:Math.round(s.getTime()/1e3),content:"",tags:[...o,["P",r.pubkey],["bolt11",n],["description",e]]};return t&&i.tags.push(["preimage",t]),i}var nw={};Oe(nw,{getToken:()=>sw,hashPayload:()=>Gi,unpackEventFromToken:()=>Rf,validateEvent:()=>Tf,validateEventKind:()=>Sf,validateEventMethodTag:()=>Cf,validateEventPayloadTag:()=>Pf,validateEventTimestamp:()=>xf,validateEventUrlTag:()=>kf,validateToken:()=>rw});var Ef="Nostr ";async function sw(e,t,n,s=!1,r){const o={kind:Fi,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};r&&o.tags.push(["payload",Gi(r)]);const i=await n(o);return(s?Ef:"")+Zt.encode(xt.encode(JSON.stringify(i)))}async function rw(e,t,n){const s=await Rf(e).catch(o=>{throw o});return await Tf(s,t,n).catch(o=>{throw o})}async function Rf(e){if(!e)throw new Error("Missing token");e=e.replace(Ef,"");const t=Nt.decode(Zt.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function xf(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function Sf(e){return e.kind===Fi}function kf(e,t){const n=e.tags.find(s=>s[0]==="u");return n?n.length>0&&n[1]===t:!1}function Cf(e,t){const n=e.tags.find(s=>s[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function Gi(e){const t=zs(xt.encode(JSON.stringify(e)));return nt(t)}function Pf(e,t){const n=e.tags.find(r=>r[0]==="payload");if(!n)return!1;const s=Gi(t);return n.length>0&&n[1]===s}async function Tf(e,t,n,s){if(!Dn(e))throw new Error("Invalid nostr event, signature invalid");if(!Sf(e))throw new Error("Invalid nostr event, kind invalid");if(!xf(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!kf(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!Cf(e,n))throw new Error("Invalid nostr event, method tag invalid");if(s&&typeof s=="object"&&Object.keys(s).length>0&&!Pf(e,s))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const rt={META:0,TEXT_NOTE:1,REPLY:1,LIKE:7,REPOST:6,DM_RELAYS:10050,GIFT_WRAP:1059,RELAY_LIST_META:10002,FOLLOW_LIST:3},dl="wss://purplepag.es/",ow=e=>{e.forEach(t=>t.isRoot=!0)},iw=e=>{e.forEach(t=>t.isRoot=!1)},aw=(e,t=[])=>{(!t||!t.length)&&(t=[]);const{likes:n,reposts:s,replies:r}=Af(t);Lf(e,n),Bf(e,s),uw(e,r)},lw=(e,t=[])=>{(!t||!t.length)&&(t=[]);const{likes:n,reposts:s,replies:r}=Af(t);Lf(e,n),Bf(e,s),fw(e,r)},Af=e=>{if(!e||!e.length)return{likes:[],reposts:[],replies:[]};const t=[],n=[],s=[];for(const r of e)switch(r.kind){case rt.LIKE:t.push(r);break;case rt.REPOST:n.push(r);break;case rt.REPLY:s.push(r);break}return{likes:t,reposts:n,replies:s}},cw=(e,t)=>{for(const n of t)n.replyingTo={user:e.author,pubkey:e.pubkey,event:e}},uw=(e,t)=>{let n=0;for(const s of t)Ff(e.id,s)&&n++;e.replies=n},fw=(e,t)=>{let n=0;for(const s of t)Hf(e.id,s)&&n++;e.replies=n},If=(e,t)=>{const n=[...e],s=[];return n.forEach(r=>{let o=!1;t.forEach(i=>{if(!o&&r.pubkey===(i==null?void 0:i.pubkey)){const a=r;a.author=JSON.parse(i.content),a.authorEvent=i,s.push(a),o=!0}}),o||s.push(r)}),s},dw=e=>{if(!pw(e.content))return[];const t=new Set,n=Vi(e);for(let s=0;s<n.length;s++){const{profile:r}=n[s];r!=null&&r.pubkey&&t.add(r.pubkey)}return t.size?[...t]:[]},hw=(e,t)=>{if(!t.length){e.references=[];return}const n=Vi(e),s=[];for(let r=0;r<n.length;r++){const{profile:o}=n[r];o!=null&&o.pubkey&&t.forEach(i=>{if((i==null?void 0:i.pubkey)===(o==null?void 0:o.pubkey)){const a=n[r];a.profile_details=JSON.parse((i==null?void 0:i.content)||"{}"),s.push(a)}})}e.references=s},$f=e=>{const t=new Set,n=[];return e.sort((r,o)=>o.created_at-r.created_at).forEach(r=>{const{pubkey:o}=r;t.has(o)||(t.add(o),n.push(r))}),n},Lf=(e,t)=>{let n=0;t.forEach(s=>{var o;const r=(o=s.tags.reverse().find(i=>i[0]==="e"))==null?void 0:o[1];r&&r===e.id&&s.content&&gw(s.content)&&n++}),e.likes=n},Bf=(e,t)=>{let n=0;t.forEach(s=>{var o;const r=(o=s.tags.find(i=>i[0]==="e"))==null?void 0:o[1];r&&r===e.id&&n++}),e.reposts=n},Nf=(e,t)=>t.filter(n=>{var r;const s=St.parse(n);return!s.reply&&((r=s==null?void 0:s.root)==null?void 0:r.id)===e.id}),Mf=(e,t)=>t.filter(n=>{var r,o;const s=St.parse(n);return((r=s==null?void 0:s.reply)==null?void 0:r.id)===e.id||((o=s==null?void 0:s.root)==null?void 0:o.id)===e.id}),pw=e=>e.indexOf("nostr:npub")!==-1||e.indexOf("nostr:nprofile1")!==-1,gw=e=>!["-",""].includes(e),hl=(e,t=5e3)=>{try{return new Promise(n=>{const s=new WebSocket(e),r=setTimeout(()=>{s.close(),n(!1)},t);s.onopen=()=>{clearTimeout(r),s.close(),n(!0)},s.onerror=()=>{clearTimeout(r),s.close(),n(!1)}})}catch{return Promise.resolve(!1)}},mr=e=>/^[a-f0-9]{64}$/.test(e),Uf=e=>{const{tags:t}=e,n={read:[],write:[],all:[]};return t.length&&t.forEach(s=>{if(s[0]==="r"){const o=Ht.normalizeURL(s[1]),i=s[2];i?i==="read"?n.read.push(o):i==="write"&&n.write.push(o):(n.read.push(o),n.write.push(o)),n.all.push({url:o,type:i||"write"})}}),n},es=async(e,t,n)=>{const s=e.map(async r=>{const o=t.publish([r],n),i=(await Promise.allSettled(o))[0];return{relay:r,success:i.status==="fulfilled"}});return await Promise.all(s)},yw=e=>{const t=new Date().toLocaleString("default",{year:"numeric"}),n=new Date(e*1e3).toLocaleString("default",{year:"numeric"});return t===n?new Date(e*1e3).toLocaleString("default",{day:"numeric",month:"short",hour:"numeric",minute:"numeric"}):Ji(e)},Ji=e=>new Date(e*1e3).toLocaleString("default",{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric"}),Of=(e,t,n)=>{if(e.length===0)return;const s=e.map(r=>r.then(o=>({result:o,isFulfilled:!0,originalPromise:r})).catch(o=>({result:o,isFulfilled:!1,originalPromise:r})));Promise.race(s).then(({result:r,isFulfilled:o,originalPromise:i})=>{o?t(r):n(r);const a=e.filter(l=>l!==i);Of(a,t,n)})},Ff=(e,t)=>{var s;const n=St.parse(t);return!n.reply&&((s=n==null?void 0:n.root)==null?void 0:s.id)===e},Hf=(e,t)=>{var s,r;const n=St.parse(t);return((s=n==null?void 0:n.reply)==null?void 0:s.id)===e||((r=n==null?void 0:n.root)==null?void 0:r.id)===e},Jt=async(e,t,n={},s=[],r,o,i,a=()=>{})=>{var d;const l=[],c=new Set;let f=s,u=!1;for(const h of e){const y=h.pubkey;Object.keys(n).length&&((d=n[y])!=null&&d.length)&&(f=n[y],u=f.includes(dl));let p=null,m=null;const b=dw(h);!u&&!b.includes(y)&&b.push(y),u&&!r.hasPubkey(y)&&!c.has(y)&&(m=o.get([dl],{kinds:[0],authors:[y]}),c.add(y));const E=[];b.forEach(L=>{!r.hasPubkey(L)&&!c.has(L)&&E.push(L),c.add(L)}),E.length&&(p=o.querySync(f,{kinds:[0],authors:E}));const S=o.querySync(f,{kinds:[1,6,7],"#e":[h.id]}),k=Promise.all([h,p,S,m]);l.push(k)}for(const h of l){const y=await h,p=y[0],m=y[1]||[],b=y[2]||[];let E=y[3];const S=[],k=[];E&&(r.addMeta(E),S.push(E),k.push(E.pubkey)),$f(m).forEach(T=>{const F=T;r.addMeta(T),S.push(F),k.push(F.pubkey),T.pubkey===p.pubkey&&(E=T)}),c.forEach(T=>{if(k.includes(T))return;r.hasPubkey(T)||r.setMetaValue(T,null);const F=r.getMeta(T);S.push(F),T===p.pubkey&&(E=F)}),hw(p,S),If([p],[E]),i?(aw(p,b),ow([p])):(lw(p,b),iw([p]),t&&cw(t,[p])),a(p)}},Df=async(e,t,n)=>{const s=await n.get(t,{kinds:[1],ids:[e]});if(s){const r=await n.get(t,{kinds:[0],authors:[s.pubkey]});r&&If([s],[r])}return s},vw=e=>{const{reply:t,root:n}=St.parse(e);return!!t||!!n},mw=(e,t,n)=>new Promise(s=>{let r,o=n;if(n&&n.length&&n[0].limit){const{limit:c,...f}=n[0];o=[f],r=c}let i=!1;const a=[],l=e.subscribeMany(t,o,{onevent(c){if(i)return;const f=St.parse(c);f.reply||f.root||(a.push(c),r&&a.length>=r&&(l.close(),i=!0,s(a.slice(0,r))))},oneose(){l.close();const c=r?a.slice(0,r):a;s(c)}})}),Vf=(e,t)=>{const{username:n,name:s,display_name:r}=e,o=n||s||r;return o.length?o:Fe.npubEncode(t).slice(0,10)+"..."},Is=e=>`/user/${Fe.npubEncode(e)}`,si=e=>{if(!e.length)throw new Error("Public key or event id is required.");const t="Public key or event id should be in npub or note format, or hex.";let n;try{n=Fe.decode(e)}catch{throw new Error(t)}const{type:s}=n;if(s!=="npub"&&s!=="note")throw new Error(t);return n},jf=e=>e.split(/\n/),ww=(e,t)=>{const n=jf(e);return n.length<=t?e:n.slice(0,t).join(`
`)},bw=(e,t)=>e.length<=t?e:e.slice(0,t)+"...",_w=(e,t,n)=>bw(ww(e,n),t),Wf=e=>Fe.npubEncode(e),Ew={class:"event-details"},Rw={key:0},xw={class:"highlight"},Sw={key:1},kw={key:0,class:"highlight"},Cw={key:1,class:"event-details__no-user"},Pw={class:"highlight"},Tw={key:2},Aw={key:0,class:"highlight"},Iw={key:1,class:"event-details__no-user"},$w={class:"highlight"},Lw=be({__name:"RawData",props:{event:{},authorEvent:{},isUserEvent:{}},setup(e){const t=e,n=$(1),s=$(!0),r=$(),o=$({});wt(()=>{const{event:l,authorEvent:c}=t;r.value=i(l),c&&(o.value=i(c)),t.authorEvent&&(s.value=t.event.id!==t.authorEvent.id)});const i=l=>{const{id:c,pubkey:f,created_at:u,kind:d,tags:h,content:y,sig:p}=l;return{id:c,pubkey:f,created_at:u,kind:d,tags:h,content:y,sig:p}},a=l=>{n.value=l};return(l,c)=>(R(),A("div",Ew,[w("div",{class:me(["event-details__header",{"event-details__header_user":l.isUserEvent}])},[w("span",{onClick:c[0]||(c[0]=()=>a(1)),class:me(["event-details__tab",{"event-details__tab_active":n.value===1}])},"Note",2),s.value?(R(),A("span",{key:0,onClick:c[1]||(c[1]=()=>a(2)),class:me(["event-details__tab",{"event-details__tab_active":n.value===2}])},"Author",2)):re("",!0),w("span",{onClick:c[2]||(c[2]=()=>a(3)),class:me(["event-details__tab",{"event-details__tab_active":n.value===3}])},"Author content",2)],2),n.value===1?(R(),A("div",Rw,[w("pre",xw,ae(JSON.stringify(r.value,null,2)),1)])):re("",!0),s.value&&n.value===2?(R(),A("div",Sw,[l.authorEvent?(R(),A("pre",kw,ae(JSON.stringify(o.value,null,2)),1)):(R(),A("div",Cw,[c[3]||(c[3]=w("div",null,"No info about author on this relay.",-1)),w("pre",Pw,"pubkey: "+ae(l.event.pubkey)+` 
npub: `+ae(te(Fe).npubEncode(l.event.pubkey)),1)]))])):re("",!0),n.value===3?(R(),A("div",Tw,[l.event.author?(R(),A("pre",Aw,ae(JSON.stringify(l.event.author,null,2)),1)):(R(),A("div",Iw,[c[4]||(c[4]=w("div",null,"No info about author on this relay.",-1)),w("pre",$w,"pubkey: "+ae(l.event.pubkey)+`
npub: `+ae(te(Fe).npubEncode(l.event.pubkey)),1)]))])):re("",!0)]))}}),ge=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},qf=ge(Lw,[["__scopeId","data-v-13d5753c"]]),Bw={},Nw={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart",viewBox:"0 0 16 16"};function Mw(e,t){return R(),A("svg",Nw,t[0]||(t[0]=[w("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"},null,-1)]))}const Uw=ge(Bw,[["render",Mw]]),Ow={},Fw={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-repeat",viewBox:"0 0 16 16"};function Hw(e,t){return R(),A("svg",Fw,t[0]||(t[0]=[w("path",{d:"M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"},null,-1)]))}const Dw=ge(Ow,[["render",Hw]]),Vw={},jw={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-reply",viewBox:"0 0 16 16"};function Ww(e,t){return R(),A("svg",jw,t[0]||(t[0]=[w("path",{d:"M6.598 5.013a.144.144 0 0 1 .202.134V6.3a.5.5 0 0 0 .5.5c.667 0 2.013.005 3.3.822.984.624 1.99 1.76 2.595 3.876-1.02-.983-2.185-1.516-3.205-1.799a8.74 8.74 0 0 0-1.921-.306 7.404 7.404 0 0 0-.798.008h-.013l-.005.001h-.001L7.3 9.9l-.05-.498a.5.5 0 0 0-.45.498v1.153c0 .108-.11.176-.202.134L2.614 8.254a.503.503 0 0 0-.042-.028.147.147 0 0 1 0-.252.499.499 0 0 0 .042-.028l3.984-2.933zM7.8 10.386c.068 0 .143.003.223.006.434.02 1.034.086 1.7.271 1.326.368 2.896 1.202 3.94 3.08a.5.5 0 0 0 .933-.305c-.464-3.71-1.886-5.662-3.46-6.66-1.245-.79-2.527-.942-3.336-.971v-.66a1.144 1.144 0 0 0-1.767-.96l-3.994 2.94a1.147 1.147 0 0 0 0 1.946l3.994 2.94a1.144 1.144 0 0 0 1.767-.96v-.667z"},null,-1)]))}const qw=ge(Vw,[["render",Ww]]),Kw={},zw={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chat",viewBox:"0 0 16 16"};function Gw(e,t){return R(),A("svg",zw,t[0]||(t[0]=[w("path",{d:"M2.678 11.894a1 1 0 0 1 .287.801 11 11 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8 8 0 0 0 8 14c3.996 0 7-2.807 7-6s-3.004-6-7-6-7 2.808-7 6c0 1.468.617 2.83 1.678 3.894m-.493 3.905a22 22 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a10 10 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105"},null,-1)]))}const Jw=ge(Kw,[["render",Gw]]),Zw={class:"actions-bar"},Yw={class:"actions-bar__action actions-bar__num"},Qw={class:"actions_bar-number"},Xw={class:"actions-bar__action actions-bar__num"},e1={class:"actions_bar-number"},t1={class:"actions_bar-number"},n1=be({__name:"EventActionsBar",props:{likes:{},reposts:{},replies:{},hasReplyBtn:{type:Boolean}},emits:["showReplyField","handleShowReplies","handleHideReplies"],setup(e,{emit:t}){const n=t,s=()=>{n("showReplyField")},r=()=>{n("handleShowReplies")};return(o,i)=>(R(),A("div",Zw,[w("span",Yw,[ue(Uw,{class:"actions-bar__icon"}),w("span",Qw,ae(o.likes),1)]),w("span",Xw,[ue(Dw,{class:"actions-bar__icon"}),w("span",e1,ae(o.reposts),1)]),o.hasReplyBtn?(R(),A("span",{key:0,onClick:r,class:"actions-bar__action actions-bar__num actions-bar__replies"},[ue(Jw,{class:"actions-bar__icon"}),w("span",t1,ae(o.replies),1)])):re("",!0),o.hasReplyBtn?(R(),A("span",{key:1,onClick:s,class:"actions-bar__action actions-bar__reply"},[ue(qw,{class:"actions-bar__icon"})])):re("",!0)]))}}),hs=bt("npub",()=>{const e=$(""),t=$(""),n=$("");function s(i){e.value=i}function r(i){t.value=i}function o(i){n.value=i}return{npubInput:e,cachedUrlNpub:t,updateNpubInput:s,updateCachedUrl:r,setError:o,error:n}}),ps=bt("user",()=>{const e=$(!1),t=$(!1);function n(r){e.value=r}function s(r){t.value=r}return{isRoutingUser:e,updateRoutingStatus:n,updateSearchStatus:s,isSearchUsed:t}}),s1="wss://nos.lol",r1=["wss://nos.lol","wss://relay.damus.io","wss://relay.snort.social","wss://relay.nostr.band","wss://eden.nostr.land"],pl=["wss://nos.lol","wss://relay.damus.io","wss://relay.nostr.band","wss://relay.snort.social","wss://relay.primal.net","wss://eden.nostr.land","wss://nostr.wine","wss://offchain.pub","wss://relay.nostr.bg","wss://relay.mostr.pub"],ts=20,o1=15,Kf=500,i1=e=>{const t=e.profile_details,n=Wf(e.profile.pubkey);return`@${t.name||t.username||t.display_name||`${n.slice(0,15)}...`}`},a1=e=>e.reduce((t,n)=>t+n.value.length,0),l1=e=>e.reduce((t,n)=>t+n.textValue.length,0),c1=e=>e.length?jf(e.map(t=>t.value).join("")).length:0,gl=(e,t)=>{const n=Kf-a1(t),s=o1-c1(t);return n<0||s<0?"":_w(e,n,s)},u1=e=>{const t=Se(e.references),n=structuredClone(t),{content:s}=e;if(!n)return[];const r=[];return n.forEach(o=>{const{text:i}=o;let a=s.indexOf(i);for(;r.includes(a)&&a!==-1;)a=s.indexOf(i,a+i.length);o.textIndex=a,r.push(a)}),n.sort((o,i)=>o.textIndex-i.textIndex),n},yl=(e,t)=>{const n=[];let s=e.content;try{u1(e).forEach(o=>{const i=s.indexOf(o.text),a=s.slice(0,i),l=t?gl(a,n):a;if(n.push({type:"text",value:l,textValue:l}),t&&l<a)throw new Error("Event content reached length limit");const c=i1(o),f=Wf(o.profile.pubkey);if(t&&c.length>=Kf)throw new Error("Event content reached length limit");n.push({type:"profile",value:c,textValue:o.text,npub:f}),s=s.slice(i+o.text.length)})}catch{return n}const r=t?gl(s,n):s;return n.push({type:"text",value:r,textValue:r}),n},f1={class:"event-content"},d1={key:0},h1={key:1},p1=["onClick"],g1={key:0},y1=be({__name:"EventText",props:{event:{},slice:{type:Boolean}},setup(e){const t=e,n=xn(),s=hs(),r=ps(),o=$([]),i=$(t.slice??!0),a=$(!1);wt(()=>{const u=yl(t.event,i.value);o.value=u,a.value=l(u)});const l=u=>t.slice&&t.event.content.length>l1(u),c=u=>{u&&(s.updateNpubInput(u),r.updateRoutingStatus(!0),n.push({path:`/user/${u}`}))},f=()=>{i.value=!i.value,o.value=yl(t.event,i.value)};return(u,d)=>(R(),A(_e,null,[w("div",f1,[(R(!0),A(_e,null,dt(o.value,(h,y)=>(R(),A("span",{key:y},[h.type==="text"?(R(),A("span",d1,ae(h.value),1)):re("",!0),h.type==="profile"?(R(),A("span",h1,[w("a",{onClick:On(()=>c(h.npub),["prevent"]),href:"#"},ae(h.value),9,p1)])):re("",!0)]))),128))]),a.value?(R(),A("div",g1,[w("span",{class:"show-more",onClick:f}," Show "+ae(i.value?"more":"less"),1)])):re("",!0)],64))}}),v1=ge(y1,[["__scopeId","data-v-8b4c1e5a"]]),m1=["name","disabled","rows","placeholder"],w1=be({__name:"Textarea",props:{rows:{},placeholder:{},disabled:{type:Boolean},name:{},isJson:{type:Boolean},noBorder:{type:Boolean}},emits:["input","focus","blur"],setup(e,{emit:t}){const n=e,s=t,r=$(""),o=$(n.rows),i=()=>{s("input",r.value);let c=r.value.split(`
`).length;c<3&&(c=3),o.value=c},a=()=>{s("focus")},l=()=>{s("blur")};return(c,f)=>Mn((R(),A("textarea",{name:c.name,disabled:c.disabled,rows:o.value,placeholder:c.placeholder,"onUpdate:modelValue":f[0]||(f[0]=u=>r.value=u),onInput:i,onFocus:a,onBlur:l,class:me([{json:c.isJson,"no-border":c.noBorder}])},null,42,m1)),[[Un,r.value]])}}),Zi=ge(w1,[["__scopeId","data-v-2c17a04c"]]);function b1(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Yi(e,...t){if(!b1(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function vl(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function _1(e,t){Yi(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xo(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function $t(e,t){return e<<32-t|e>>>t}const E1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Gr(e){Yi(e);let t="";for(let n=0;n<e.length;n++)t+=E1[e[n]];return t}const jt={_0:48,_9:57,A:65,F:70,a:97,f:102};function ml(e){if(e>=jt._0&&e<=jt._9)return e-jt._0;if(e>=jt.A&&e<=jt.F)return e-(jt.A-10);if(e>=jt.a&&e<=jt.f)return e-(jt.a-10)}function wl(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const s=new Uint8Array(n);for(let r=0,o=0;r<n;r++,o+=2){const i=ml(e.charCodeAt(o)),a=ml(e.charCodeAt(o+1));if(i===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}s[r]=i*16+a}return s}function R1(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function zf(e){return typeof e=="string"&&(e=R1(e)),Yi(e),e}class x1{clone(){return this._cloneInto()}}function S1(e){const t=s=>e().update(zf(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const it=bt("nsec",()=>{const e=$(""),t=$(!1),n=$("");function s(){r(""),o(""),i(!1)}function r(p){e.value=p}function o(p){n.value=p}function i(p){t.value=p}function a(){try{const p=l();if(!p)throw new Error("Invalid private key");return Du(p)}catch{return""}}function l(){try{return e.value.indexOf("nsec")===-1?wl(e.value):Fe.decode(e.value).data}catch{return null}}function c(){const p=l();if(!p)return"";try{return Gr(p)}catch{return""}}function f(){try{return e.value.indexOf("nsec")===-1?Fe.nsecEncode(wl(e.value)):e.value}catch{return""}}function u(){return e.value.length>0&&h()}function d(){return e.value.length>0&&!h()}function h(){return e.value.length===0?!1:a().length>0}const y=he(()=>h());return{nsec:e,updateNsec:r,rememberMe:t,setRememberMe:i,isNsecValid:h,isValidNsecPresented:u,isNotValidNsecPresented:d,getPubkey:a,cachedNsec:n,updateCachedNsec:o,getPrivkeyBytes:l,getPrivkeyHex:c,getPrivkey:f,isNsecValidTemp:y,clear:s}}),Zs=bt("images",()=>{const e=$(!1);function t(n){e.value=n}return{showImages:e,updateShowImages:t}}),{normalizeURL:pt}=Ht,et=bt("relay",()=>{const e=$({}),t=$(!1),n=$(""),s=$(""),r=$(0),o=$([]),i=$([]),a=$([]),l=$([]),c=$([]),f=$(!1),u=$(!1),d=$([]),h=$([]),y=he(()=>{const C=new Set([...l.value,...c.value]),j=[],we=[];return C.forEach(v=>{l.value.includes(v)&&!c.value.includes(v)?j.push({url:v,type:"read"}):we.push({url:v,type:"write"})}),[...j,...we].sort((v,g)=>v.url.localeCompare(g.url))}),p=he(()=>{const C=new Set([...i.value,...a.value]);return e.value.connected&&C.add(e.value.url),[...C]}),m=he(()=>h.value.length?h.value:p.value),b=he(()=>y.value.map(C=>C.url)),E=he(()=>{const C=e.value.url,j=b.value;return j.includes(C)?j:[C,...j]}),S=he(()=>{const C=i.value,j=e.value;return j.connected&&!C.includes(j.url)&&C.push(j.url),C}),k=he(()=>{const C=l.value,j=c.value,we=new Set([...C,...j]),v=[];return we.forEach(g=>{C.includes(g)&&j.includes(g)?v.push(["r",g]):C.includes(g)?v.push(["r",g,"read"]):j.includes(g)&&v.push(["r",g,"write"])}),v}),L=he(()=>d.value.map(C=>C.replace("wss://","").replace("/","")).join(", ")),T=he(()=>e.value.connected);function F(C){e.value=C}function H(C){t.value=C}function V(C){i.value=C.map(j=>pt(j))}function x(C){const j=pt(C);j&&(i.value.includes(j)||i.value.push(j))}function B(C){a.value=C.map(j=>pt(j))}function G(C){V(C.read),B(C.write)}function ne(C){const j=pt(C);j&&(a.value.includes(j)||a.value.push(j))}function oe(C){a.value=a.value.filter(j=>j!==C)}function U(C){d.value=C.map(j=>pt(j))}function D(C){l.value=C.map(j=>pt(j))}function W(C){c.value=C.map(j=>pt(j))}function J(C){D(C.read),W(C.write)}function N(C){c.value.includes(C)||c.value.push(pt(C))}function K(C){c.value=c.value.filter(j=>j!==C)}function Z(C){const j=pt(C);if(!j||b.value.includes(j))return!1;l.value.push(j)}function Y(C){l.value=l.value.filter(j=>j!==C),c.value=c.value.filter(j=>j!==C),i.value=i.value.filter(j=>j!==C),a.value=a.value.filter(j=>j!==C)}function de(C){n.value=C==="custom"?"custom":pt(C)}function ke(C){r.value=C}function Be(C,j){o.value[C]=j.length?pt(j):""}function se(C){f.value=C.connecting,u.value=C.connected}function M(C){h.value=C.map(j=>pt(j))}function Q(){e.value={},i.value=[],a.value=[],l.value=[],c.value=[],f.value=!1,u.value=!1,d.value=[],h.value=[]}return{isConnectingToRelay:t,setConnectionToRelayStatus:H,connectedUserReadRelayUrls:i,setConnectedUserReadRelayUrls:V,selectInputRelayUrl:n,setSelectedRelay:de,selectInputCustomRelayUrl:s,currentRelay:e,updateCurrentRelay:F,additionalRelaysCountForSignedEvent:r,updateAdditionalRelaysCountForSignedEvent:ke,additionalRelaysUrlsForSignedEvent:o,updateRelayAdditionalRelaysUrlsForSignedEvent:Be,connectedFeedRelaysPrettyStr:L,readRelays:l,writeRelays:c,setReadRelays:D,setWriteRelays:W,isConnectedToRelay:T,userReadWriteRelays:y,removeWriteRelay:K,addWriteRelay:N,removeUserRelay:Y,addUserRelay:Z,nip65Tags:k,userReadWriteRelaysUrls:b,allRelaysUrlsWithSelectedRelay:E,connectedFeedRelaysUrls:d,setConnectedFeedRelayUrls:U,connectedUserReadRelayUrlsWithSelectedRelay:S,isConnectingToReadWriteRelays:f,setConnectedUserWriteRelayUrls:B,connectedUserWriteRelaysUrls:a,connectedUserReadWriteUrlsWithSelectedRelay:p,isConnectedToReadWriteRelays:u,userChatRelaysUrls:m,setUserDMRelaysUrls:M,clear:Q,addConnectedUserReadRelay:x,addConnectedUserWriteRelay:ne,removeConnectedUserWriteRelay:oe,setReadWriteRelays:J,setReadWriteRelaysStatus:se,setConnectedUserReadWriteRelays:G}}),Jr=bt("metasCache",()=>{const e=$({});function t(i){e.value[i.pubkey]=i}function n(i){return e.value[i]||null}function s(i,a){e.value[i]=a}function r(i){return!!e.value[i]}function o(i){return e.value.hasOwnProperty(i)}return{metas:e,addMeta:t,getMeta:n,hasMeta:r,hasPubkey:o,setMetaValue:s}}),k1={},C1={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-link-45deg",viewBox:"0 0 16 16"};function P1(e,t){return R(),A("svg",C1,t[0]||(t[0]=[w("path",{d:"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"},null,-1),w("path",{d:"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"},null,-1)]))}const bl=ge(k1,[["render",P1]]),T1={},A1={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-check2",viewBox:"0 0 16 16"};function I1(e,t){return R(),A("svg",A1,t[0]||(t[0]=[w("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0"},null,-1)]))}const _l=ge(T1,[["render",I1]]),$1={},L1={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-check-square",viewBox:"0 0 16 16"};function B1(e,t){return R(),A("svg",L1,t[0]||(t[0]=[w("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"},null,-1),w("path",{d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"},null,-1)]))}const Gf=ge($1,[["render",B1]]),N1={},M1={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-diagram-2-fill",viewBox:"0 0 16 16"};function U1(e,t){return R(),A("svg",M1,t[0]||(t[0]=[w("path",{"fill-rule":"evenodd",d:"M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H11a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 5 7h2.5V6A1.5 1.5 0 0 1 6 4.5zm-3 8A1.5 1.5 0 0 1 4.5 10h1A1.5 1.5 0 0 1 7 11.5v1A1.5 1.5 0 0 1 5.5 14h-1A1.5 1.5 0 0 1 3 12.5zm6 0a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1A1.5 1.5 0 0 1 9 12.5z"},null,-1)]))}const O1=ge(N1,[["render",U1]]),F1={},H1={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-exclamation-octagon",viewBox:"0 0 16 16"};function D1(e,t){return R(),A("svg",H1,t[0]||(t[0]=[w("path",{d:"M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1z"},null,-1),w("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},null,-1)]))}const Jf=ge(F1,[["render",D1]]),V1={class:"thread"},j1={key:0,class:"loading-thread"},W1={class:"event-card"},q1={key:0,class:"event-img"},K1=["src","title"],z1={key:1,class:"bi bi-person-circle author-pic__alternate"},G1={class:"event-content"},J1={class:"event-header"},Z1=["href"],Y1={class:"event-username-text"},Q1={key:0,class:"event-replying-to"},X1={key:1,class:"replying-to-separator"},eb=["href"],tb={class:"event-body"},nb={class:"event-footer"},sb={class:"event-footer__right-actions"},rb={class:"event-footer__link-wrapper"},ob={class:"event__raw-data"},ib={class:"event-footer-code-wrapper"},ab={class:"event-footer__signature-text"},lb={class:"event-footer__right-actions"},cb={class:"event-footer__link-wrapper"},ub={key:0,class:"reply-field"},fb={class:"reply-field__actions"},db={class:"error"},hb=["disabled"],pb={key:1,class:"loading-replies"},gb={key:2,class:"replies"},yb=be({__name:"EventContent",props:{event:{},pool:{},index:{},hasReplyBtn:{type:Boolean},isMainEvent:{type:Boolean},currentReadRelays:{},threadDescender:{}},emits:["toggleRawData","showReplyField","loadRootReplies","resetSentStatus","loadMoreReplies"],setup(e,{emit:t}){const n=t,s=$(""),r=$(""),o=e,i=xn(),a=hs(),l=it(),c=ps(),f=Zs(),u=et(),d=Jr(),h=$(!1),y=$(!1),p=$([]),m=$(!1),b=$(!1),E=$(!1),S=$(!1),k=$([]),L=$(!1),T=$(!0),F=N=>{if(o.isMainEvent)return n("toggleRawData",N);o.event.showRawData=!o.event.showRawData},H=he(()=>i.currentRoute.value.name==="Search");wt(()=>{Object.keys(o.event).length!==0&&(E.value=Dn(o.event))}),js(()=>{T.value=!1});const V=(N,K)=>{if(N){let Z="";if(N.name?Z=N.name:N.username?Z=N.username:Z=N.display_name,Z&&Z.length)return Z}return Fe.npubEncode(K).slice(0,10)+"..."},x=()=>{h.value=!h.value,n("showReplyField")},B=async()=>{if(y.value)return;if(!l.isValidNsecPresented()){r.value="Please login with your private key to send a reply.";return}const N=s.value.trim();if(!N.length){r.value="Please provide message to broadcast.";return}let K,Z;try{if(K=l.getPrivkeyBytes(),!K)throw new Error;if(Z=l.getPubkey(),!Z.length)throw new Error}catch{r.value="Invalid private key. Please check it and try again.";return}const Y=u.connectedUserWriteRelaysUrls;if(!Y.length){r.value="Please provide your write relays to broadcast event";return}const de={kind:1,pubkey:Z,created_at:Math.floor(Date.now()/1e3),content:N,tags:[],id:"",sig:""},ke=[],Be=[];o.event.tags.forEach(I=>{const q=[I[0],I[1]];I[2]&&q.push(I[2]),I[3]&&q.push(I[3]),q[0]==="e"?ke.push(q):q[0]==="p"&&Be.push(q)});const se=[];if(ke.length){const I=ke.find(q=>q[3]==="root");I?se.push(I):se.push(ke[0]),se.push(["e",o.event.id,"","reply"])}else se.push(["e",o.event.id,"","root"]);const M=Vi(de),Q=Be.map(I=>I[1]),C=[];M.forEach(I=>{var X;const q=(X=I==null?void 0:I.profile)==null?void 0:X.pubkey;q&&!Q.includes(q)&&(C.push(["p",q]),Q.push(q))});const j=[...C,...Be];Q.includes(o.event.pubkey)||j.push(["p",o.event.pubkey]),de.tags=[...j,...se];const we=ot(de,K);r.value="",y.value=!0;const v=j.filter(I=>I[1]!==Z).map(I=>I[1]);let g=[];const{pool:_}=o;if(v.length){const I=[...u.readRelays,...u.writeRelays,u.currentRelay.url],q=[...new Set(I)],X=await _.querySync(q,{kinds:[10002],authors:v}),ee=new Set;X.forEach(z=>{if(z.tags.length){const{read:fe}=Uf(z);fe.forEach(ie=>{u.writeRelays.includes(ie)||ee.add(ie)})}}),g=[...ee]}if(!(await es(Y,_,we)).some(I=>I.success)){r.value="Failed to broadcast reply";return}if(g.length)try{await _.publish(g,we)}catch{console.error("Failed to broadcast reply to some additional relays")}if(y.value=!1,h.value=!1,s.value="",o.isMainEvent)return n("loadRootReplies");G()},G=async()=>{const{event:N,currentReadRelays:K,pool:Z}=o;if(!(K!=null&&K.length)||!Z)return;if(o.isMainEvent)return n("loadMoreReplies");S.value=!0;let Y=await Z.querySync(K,{kinds:[1],"#e":[N.id]});if(!T.value)return;N.isRoot?Y=Nf(N,Y):Y=Mf(N,Y);const de=o.threadDescender;if(Y.length==1&&(de==null?void 0:de.id)===Y[0].id){S.value=!1;return}await Jt(Y,N,{},K,d,Z,!1),T.value&&(p.value=Y,m.value=!0,S.value=!1)},ne=()=>{m.value=!1},oe=()=>{const{origin:N,pathname:K}=window.location;let Z=Fe.noteEncode(o.event.id);const Y=`${N}${K}#/event/${Z}`;navigator.clipboard.writeText(Y),b.value=!0,setTimeout(()=>{b.value=!1},2e3)},U=N=>{const K=Fe.npubEncode(N);a.updateNpubInput(K),c.updateRoutingStatus(!0),i.push({path:Is(N)})},D=async(N,K=null)=>{var ke,Be;const{currentReadRelays:Z,pool:Y}=o;if(!(Z!=null&&Z.length)||!Y)return[];const de=St.parse(N);if(!de.root&&!de.reply)return[];if(de.root&&!de.reply){let se=K;return se||(se=await Y.get(Z,{kinds:[1],ids:[de.root.id]})),se?(await Jt([se],null,{},Z,d,Y,!0),[se]):[]}if(de.reply){if(K||(K=await Y.get(Z,{kinds:[1],ids:[de.reply.id]})),!K)return[];const se=St.parse(K),M=((ke=se==null?void 0:se.reply)==null?void 0:ke.id)||((Be=se==null?void 0:se.root)==null?void 0:Be.id),Q=await Df(M||"",Z,Y);await Jt([K],Q,{},Z,d,Y,!1);const j=await D(K,Q);return[K,...j]}return[]},W=async()=>{const{event:N,pool:K,currentReadRelays:Z}=o;if(!(Z!=null&&Z.length)||!K||L.value)return;L.value=!0;const Y=await D(N,N.replyingTo.event);if(!T.value)return;const de=Y.reverse();L.value=!1,k.value=de},J=N=>{s.value=N};return(N,K)=>{const Z=Ws("EventContent",!0);return R(),A(_e,null,[w("div",V1,[(R(!0),A(_e,null,dt(k.value,(Y,de)=>(R(),A("div",{class:"ancestor",key:N.event.id},[ue(Z,{onToggleRawData:()=>F(Y.id),event:Y,currentReadRelays:N.currentReadRelays,pool:N.pool,hasReplyBtn:N.hasReplyBtn,threadDescender:k.value[de+1]?k.value[de+1]:N.event},null,8,["onToggleRawData","event","currentReadRelays","pool","hasReplyBtn","threadDescender"])]))),128)),L.value?(R(),A("div",j1,"Loading thread...")):re("",!0)]),w("div",W1,[w("div",{class:me(["event-card__content",{flipped:N.event.showRawData}])},[w("div",{class:me(["event-card__front","event__presentable-date",{"event-card__front_custom":!H.value&&te(l).getPubkey()===N.event.pubkey}])},[te(f).showImages?(R(),A("div",q1,[N.event.author?(R(),A("img",{key:0,class:me(["author-pic",{"author-pic__squared":!N.event.author.picture}]),src:N.event.author.picture,title:`Avatar for ${N.event.author.name}`,alt:"user's avatar"},null,10,K1)):(R(),A("i",z1))])):re("",!0),w("div",G1,[w("div",J1,[w("div",null,[w("a",{class:"event-username-link",onClick:K[0]||(K[0]=On(()=>U(N.event.pubkey),["prevent"])),href:te(Is)(N.event.pubkey)},[w("b",Y1,ae(V(N.event.author,N.event.pubkey)),1)],8,Z1)]),w("div",null,ae(te(yw)(N.event.created_at)),1)]),N.event.replyingTo?(R(),A("div",Q1,[N.isMainEvent?(R(),A("span",{key:0,onClick:W,class:"view-thread event-username-link event-username-text"},[ue(O1),K[5]||(K[5]=Ee(" View thread "))])):re("",!0),N.isMainEvent?(R(),A("span",X1," | ")):re("",!0),w("span",null,[K[6]||(K[6]=Ee(" Replying to ")),w("a",{onClick:K[1]||(K[1]=On(()=>U(N.event.replyingTo.pubkey),["prevent"])),href:te(Is)(N.event.replyingTo.pubkey),class:"event-username-link event-username-text"},"@"+ae(V(N.event.replyingTo.user,N.event.replyingTo.pubkey)),9,eb)])])):re("",!0),w("div",tb,[ue(v1,{event:N.event,slice:!0},null,8,["event"])]),w("div",nb,[ue(n1,{onShowReplyField:x,onHandleShowReplies:G,onHandleHideReplies:ne,hasReplyBtn:N.hasReplyBtn,likes:N.event.likes,reposts:N.event.reposts,replies:N.event.replies},null,8,["hasReplyBtn","likes","reposts","replies"]),w("div",sb,[w("div",rb,[b.value?(R(),xe(_l,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):re("",!0),b.value?re("",!0):(R(),xe(bl,{key:1,onClick:oe,title:"Copy link",class:"event-footer-copy-icon"}))]),w("span",{onClick:K[2]||(K[2]=()=>F(N.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])])],2),w("div",{class:me(["event-card__back",{"event-card__back_custom":!H.value&&te(l).getPubkey()===N.event.pubkey,"event-details-first":N.index===0}])},[w("div",ob,[ue(qf,{event:N.event,authorEvent:N.event.authorEvent},null,8,["event","authorEvent"])]),w("div",ib,[w("div",{class:me(["event-footer__signature",{"event-footer__signature_invalid":!E.value}])},[E.value?(R(),xe(Gf,{key:0})):re("",!0),E.value?re("",!0):(R(),xe(Jf,{key:1})),w("span",ab,ae(E.value?"Signature is valid":"Invalid signature"),1)],2),w("div",lb,[w("div",cb,[b.value?(R(),xe(_l,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):re("",!0),b.value?re("",!0):(R(),xe(bl,{key:1,onClick:oe,title:"Copy link",class:"event-footer-copy-icon"}))]),w("span",{onClick:K[3]||(K[3]=()=>F(N.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])],2)],2)]),h.value?(R(),A("div",ub,[ue(Zi,{placeholder:"Write a reply...",class:"reply-field__textarea",rows:4,onInput:J}),w("div",fb,[w("div",db,ae(r.value),1),w("button",{disabled:y.value,onClick:B,class:"reply-field__btn"},ae(y.value?"Sending reply...":"Reply"),9,hb)])])):re("",!0),S.value?(R(),A("div",pb,"Loading replies...")):re("",!0),m.value&&p.value.length?(R(),A("div",gb,[(R(!0),A(_e,null,dt(p.value,Y=>(R(),A("div",{class:"reply",key:Y.id},[ue(Z,{onToggleRawData:K[4]||(K[4]=()=>F(N.event.id)),event:Y,currentReadRelays:N.currentReadRelays,pool:N.pool,hasReplyBtn:N.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"])]))),128))])):re("",!0)],64)}}}),So=ge(yb,[["__scopeId","data-v-e9abd5e1"]]),vb={},mb={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrows-expand",viewBox:"0 0 16 16"};function wb(e,t){return R(),A("svg",mb,t[0]||(t[0]=[w("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8ZM7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2ZM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10Z"},null,-1)]))}const bb=ge(vb,[["render",wb]]),nn=bt("pool",()=>{const e=$(new ni);function t(){e.value=new ni}return{pool:e,resetPool:t}}),_b={class:"event"},Eb={key:0},Rb={key:1,class:"replies"},xb={class:"replies__other-link"},Sb={key:1,class:"replies__other"},kb={key:2,class:"replies__other"},Cb={class:"replies__other-text"},Pb={key:4},Tb={key:5,class:"replies__list"},Ab=be({__name:"ParentEventView",props:{event:{},index:{},hasReplyBtn:{type:Boolean},showRootReplies:{type:Boolean},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const n=Jr(),r=nn().pool,o=t,i=e,a=$(!1),l=$(!1),c=$(!1),f=$(!1),u=$(!1),d=$(null),h=$([]),y=$(!0);wt(async()=>{await p()}),js(()=>{y.value=!1});const p=async()=>{const{event:k,currentReadRelays:L}=i;let T=await r.querySync(L,{kinds:[1],"#e":[k.id]});if(!y.value||(i.showRootReplies?T=T.filter(V=>Ff(k.id,V)):T=T.filter(V=>Hf(k.id,V)),!T.length))return;u.value=!0,l.value=T.length>1;const F=T[0];await Jt([F],k,{},L,n,r,!1,V=>{y.value&&(d.value=V,u.value=!1)})},m=(k,L=!1)=>{if(L)return o("toggleRawData",k)},b=()=>{a.value=!a.value},E=async()=>{const{event:k,currentReadRelays:L}=i;if(!L.length)return;f.value=!0;let T=await r.querySync(L,{kinds:[1],"#e":[k.id]});if(!y.value)return;if(k.isRoot?T=Nf(k,T):T=Mf(k,T),!T.length){f.value=!1;return}await Jt(T,k,{},L,n,r,!1),y.value&&(h.value=T,c.value=!0,f.value=!1)},S=async()=>{a.value=!1,c.value?await E():await p()};return(k,L)=>(R(),A("div",_b,[(R(),xe(So,{key:k.event.id,onLoadRootReplies:S,onShowReplyField:b,onToggleRawData:L[0]||(L[0]=T=>m(T,!0)),onLoadMoreReplies:E,event:k.event,isMainEvent:!0,currentReadRelays:k.currentReadRelays,pool:te(r),hasReplyBtn:k.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"])),u.value?(R(),A("div",Eb,"Loading replies...")):re("",!0),d.value?(R(),A("div",Rb,[!c.value&&l.value&&!f.value?(R(),A("div",{key:0,onClick:E,class:"replies__other"},[w("span",xb,[L[1]||(L[1]=w("span",{class:"replies__other-text"}," Show more replies ",-1)),ue(bb)])])):re("",!0),f.value?(R(),A("div",Sb,"Loading replies...")):re("",!0),c.value&&l.value?(R(),A("div",kb,[w("span",Cb," Loaded "+ae(h.value.length)+" replies ",1)])):re("",!0),w("div",{class:me(["line-vertical",{"line-vertical_long":l.value,"line-vertical_reply-field":a.value&&!l.value,"line-vertical_reply-field_long":a.value&&l.value}])},null,2),c.value?re("",!0):(R(),A("div",{key:3,class:me(["line-horizontal",{"line-horizontal_height":l.value}])},null,2)),c.value?re("",!0):(R(),A("div",Pb,[(R(),xe(So,{key:d.value.id,event:d.value,currentReadRelays:k.currentReadRelays,pool:te(r),hasReplyBtn:k.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"]))])),c.value?(R(),A("div",Tb,[(R(!0),A(_e,null,dt(h.value,(T,F)=>(R(),A("div",{class:"replies__list-item",key:T.id},[L[2]||(L[2]=w("div",{class:"replies__list-item-line-horizontal"},null,-1)),w("div",{class:me(["replies__list-item-line-vertical",{"replies__list-item-line-vertical_short":F===h.value.length-1}])},null,2),(R(),xe(So,{key:T.id,event:T,currentReadRelays:k.currentReadRelays,pool:te(r),hasReplyBtn:k.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"]))]))),128))])):re("",!0)])):re("",!0)]))}}),Zf=ge(Ab,[["__scopeId","data-v-2968d1b1"]]),Ib=be({__name:"RelayEventsList",props:{events:{},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const n=t,s=r=>{n("toggleRawData",r)};return(r,o)=>(R(),A("div",null,[(R(!0),A(_e,null,dt(r.events,(i,a)=>(R(),xe(Zf,{key:i.id,class:"event",onToggleRawData:s,currentReadRelays:r.currentReadRelays,event:i,index:a,showRootReplies:!0,hasReplyBtn:!0},null,8,["currentReadRelays","event","index"]))),128))]))}}),$b=ge(Ib,[["__scopeId","data-v-2d511227"]]),Lb={key:0,class:"pagination"},Bb={key:0},Nb={key:1},Mb={key:1},Ub={key:4},Ob=be({__name:"Pagination",props:{pagesCount:{},currentPage:{}},emits:["showPage"],setup(e,{emit:t}){const n=t,s=Lr(),r=o=>({path:s.path,query:{...s.query,page:o}});return Ve(()=>s.query.page,async o=>{const i=parseInt(o);i&&n("showPage",i)}),(o,i)=>{const a=Ws("router-link");return o.pagesCount>1?(R(),A("div",Lb,[i[1]||(i[1]=Ee(" Pages: ")),o.pagesCount<5?(R(),A("span",Bb,[(R(!0),A(_e,null,dt(o.pagesCount,l=>(R(),xe(a,{key:l,class:me(["pagination__link",{pagination__link_active:o.currentPage==l}]),to:r(l)},{default:ut(()=>[Ee(ae(l),1)]),_:2},1032,["class","to"]))),128))])):re("",!0),o.pagesCount>=5?(R(),A("span",Nb,[o.currentPage>=3?(R(),xe(a,{key:1,class:me(["pagination__link"]),to:r(1)},{default:ut(()=>i[0]||(i[0]=[Ee(ae(1))])),_:1},8,["to"])):re("",!0),o.currentPage>3?(R(),A("span",Mb,"...")):re("",!0),o.currentPage!=1?(R(),xe(a,{key:o.currentPage-1,class:me(["pagination__link"]),to:r(o.currentPage-1)},{default:ut(()=>[Ee(ae(o.currentPage-1),1)]),_:1},8,["to"])):re("",!0),(R(),xe(a,{key:o.currentPage,class:me(["pagination__link pagination__link_active"]),to:r(o.currentPage)},{default:ut(()=>[Ee(ae(o.currentPage),1)]),_:1},8,["to"])),o.currentPage!=o.pagesCount?(R(),xe(a,{key:o.currentPage+1,class:me(["pagination__link"]),to:r(o.currentPage+1)},{default:ut(()=>[Ee(ae(o.currentPage+1),1)]),_:1},8,["to"])):re("",!0),o.currentPage<o.pagesCount-2?(R(),A("span",Ub,"...")):re("",!0),o.currentPage<=o.pagesCount-2?(R(),xe(a,{key:o.pagesCount,class:me(["pagination__link"]),to:r(o.pagesCount)},{default:ut(()=>[Ee(ae(o.pagesCount),1)]),_:1},8,["to"])):re("",!0)])):re("",!0)])):re("",!0)}}}),Yf=ge(Ob,[["__scopeId","data-v-0035b6fe"]]),kn=bt("feed",()=>{const e=$([]),t=$(!1),n=$([]),s=$([]),r=$([]),o=$(""),i=$(""),a=$(0),l=$(0),c=$("network"),f=$(!1),u=$(!1),d=$(!1),h=$(!1),y=$(!1),p=he(()=>e.value.map(se=>se.id)),m=he(()=>s.value.map(se=>se.id)),b=he(()=>s.value.length),E=he(()=>c.value==="follows"),S=he(()=>c.value==="network");function k(){L(),c.value="network",f.value=!1,u.value=!1,d.value=!1}function L(){Y(),e.value=[],t.value=!1,n.value=[],s.value=[],r.value=[]}function T(se){e.value=se}function F(se){e.value.push(se)}function H(se){const M=e.value.find(Q=>Q.id===se);M&&(M.showRawData=!M.showRawData)}function V(se){t.value=se}function x(se){n.value=se}function B(se){s.value=se}function G(se){s.value.push(se)}function ne(se){r.value=se}function oe(se){r.value.push(se)}function U(se){o.value=se}function D(se){i.value=se}function W(se){f.value=se}function J(se){d.value=se}function N(se){u.value=se}function K(se){c.value=se==="follows"?se:"network"}function Z(se){h.value=se}function Y(){clearInterval(a.value),a.value=0}function de(se){y.value=se}function ke(){l.value=Math.floor(Date.now()/1e3)}function Be(se){const M=[];se.sort((Q,C)=>Q.created_at-C.created_at).forEach(Q=>{if(p.value.includes(Q.id)||m.value.includes(Q.id)||r.value.includes(Q.id))return;const C=St.parse(Q);C.reply||C.root||M.push({id:Q.id,pubkey:Q.pubkey,created_at:Q.created_at})}),s.value=[...s.value,...M]}return{events:e,updateEvents:T,toggleEventRawData:H,showNewEventsBadge:t,setShowNewEventsBadge:V,newEventsBadgeImageUrls:n,setNewEventsBadgeImageUrls:x,newEventsBadgeCount:b,newEventsToShow:s,updateNewEventsToShow:B,pushToNewEventsToShow:G,paginationEventsIds:r,updatePaginationEventsIds:ne,pushToPaginationEventsIds:oe,messageToBroadcast:o,updateMessageToBroadcast:U,signedJson:i,updateSignedJson:D,selectedFeedSource:c,setSelectedFeedSource:K,isFollowsSource:E,isNetworkSource:S,isLoadingFeedSource:f,setLoadingFeedSourceStatus:W,setLoadingNewEventsStatus:N,isLoadingNewEvents:u,pushToEvents:F,setLoadingMoreStatus:J,isLoadingMore:d,isMountAfterLogin:h,setMountAfterLogin:Z,eventsId:p,updateInterval:a,clearUpdateInterval:Y,clear:k,toRemountFeed:y,setToRemountFeed:de,newEventsToShowIds:m,timeToGetNewPosts:l,refreshPostsFetchTime:ke,filterAndUpdateNewEventsToShow:Be,sourceSelectDataRefresh:L}}),Fb={class:"message-footer"},Hb=["disabled"],Db={class:"error"},Vb={class:"warning"},jb=be({__name:"MessageInput",props:{sentEventIds:{},isSendingMessage:{type:Boolean}},emits:["broadcastEvent","toggleMessageType","clearBroadcastError"],setup(e,{emit:t}){const n=e,s=t,r=it(),o=kn(),i=et(),a=$(""),l=$(""),c=$(!1),f=$(3);Ve(()=>a.value,m=>{m.length&&setTimeout(()=>{a.value=""},5e3)});const u=async()=>{if(s("clearBroadcastError"),l.value="",!r.isValidNsecPresented()){a.value="Please login with your private key or generate random key in settings.";return}const m=o.messageToBroadcast.trim();if(!m.length){a.value="Please provide message to broadcast.";return}let b,E;try{if(b=r.getPrivkeyBytes(),!b)throw new Error;if(E=r.getPubkey(),!E.length)throw new Error}catch{a.value="Invalid private key. Please check it and try again.";return}const S={kind:1,pubkey:E,created_at:Math.floor(Date.now()/1e3),content:m,tags:[],id:"",sig:""},k=ot(S,b);if(n.sentEventIds.has(k.id)){a.value="The same event can't be sent twice (same id, signature).";return}a.value="",s("broadcastEvent",k,"text")},d=m=>{o.updateMessageToBroadcast(m)},h=()=>{c.value=!0,!a.value.length&&!r.isValidNsecPresented()&&(l.value="Please login to broadcast the message. Or send a presigned message.")},y=()=>{c.value=!1,l.value=""},p=()=>{s("toggleMessageType")};return(m,b)=>(R(),A(_e,null,[w("div",{class:me(["message-field",{active:c.value}])},[ue(Zi,{name:"message",placeholder:"What do you want to say?",disabled:!te(i).isConnectedToRelay,rows:f.value,noBorder:!0,onInput:d,onFocus:h,onBlur:y},null,8,["disabled","rows"]),w("div",Fb,[w("button",{onClick:p,class:"send-presigned-btn"},b[0]||(b[0]=[w("i",{class:"bi bi-braces presigned-icon"},null,-1),w("span",null,"Send presigned message",-1)])),w("button",{disabled:m.isSendingMessage||!te(i).isConnectedToRelay,class:me(["send-btn",{disabled:m.isSendingMessage||!te(i).isConnectedToRelay}]),onClick:u},ae(m.isSendingMessage?"Posting...":"Post"),11,Hb)])],2),w("div",Db,ae(a.value),1),w("div",Vb,ae(l.value),1)],64))}}),Wb=ge(jb,[["__scopeId","data-v-72e578bc"]]),qb={class:"signed-message-desc"},Kb={class:"signed-message-desc_p"},zb={class:"warning"},Gb={key:0,class:"additional-relays"},Jb={class:"additional-relay-field"},Zb=["value"],Yb={class:"additional-relay-field"},Qb={class:"aditinal-relay-num"},Xb=["onInput"],e_={class:"message-footer"},t_=["disabled"],n_={class:"error"},s_={class:"warning"},r_=be({__name:"SignedEventInput",props:{isSendingMessage:{type:Boolean},sentEventIds:{}},emits:["broadcastEvent","toggleMessageType","clearBroadcastError"],setup(e,{emit:t}){const n=t,s=et(),r=kn(),o=$(""),i=$(""),a=$(""),l=$(!1),c=()=>{n("clearBroadcastError");const m=r.signedJson.trim();if(!m.length){o.value="Please provide a signed event.";return}let b;try{b=JSON.parse(m)}catch{o.value="Invalid JSON. Please check it and try again.";return}if(!s.isConnectedToRelay){o.value="Please connect to broadcast the message.";return}o.value="",n("broadcastEvent",b,"json")},f=()=>{if(!s.isConnectedToRelay){a.value="Please connect first to add relays and broadcast the message.",setTimeout(()=>{a.value=""},5e3);return}const m=s.additionalRelaysCountForSignedEvent+1;s.updateAdditionalRelaysCountForSignedEvent(m)},u=(m,b)=>{var S;const E=(S=m==null?void 0:m.target)==null?void 0:S.value.trim();s.updateRelayAdditionalRelaysUrlsForSignedEvent(b,E)},d=()=>{n("toggleMessageType")},h=m=>{r.updateSignedJson(m)},y=()=>{l.value=!0},p=()=>{l.value=!1,i.value=""};return(m,b)=>{var E,S;return R(),A(_e,null,[w("div",qb,[b[4]||(b[4]=w("p",{class:"signed-message-desc_p"},[Ee(" Event should be signed with your private key in advance. More details about events and signatures are "),w("a",{target:"_blank",href:"https://github.com/nostr-protocol/nips/blob/master/01.md#events-and-signatures"},"here"),Ee(". ")],-1)),w("p",Kb,[b[0]||(b[0]=Ee(" Event will be broadcasted to a selected relay(")),w("em",null,ae(te(s).isConnectedToRelay?te(s).currentRelay.url:"available after connect"),1),b[1]||(b[1]=Ee("). You can add more relays to retransmit the event. ")),b[2]||(b[2]=w("br",null,null,-1))]),w("p",{class:"signed-message-desc_p"},[w("button",{class:"additional-relay-btn button",onClick:f},"Add relay")]),w("div",zb,ae(a.value),1),te(s).additionalRelaysCountForSignedEvent>0?(R(),A("div",Gb,[w("div",Jb,[b[3]||(b[3]=w("span",{class:"aditinal-relay-num"},"1.",-1)),w("input",{class:"additional-relay-input",readonly:"",value:(E=te(s).currentRelay)!=null&&E.url?`${(S=te(s).currentRelay)==null?void 0:S.url} (selected)`:"Firstly connect to default relay",type:"text"},null,8,Zb)]),(R(!0),A(_e,null,dt(te(s).additionalRelaysCountForSignedEvent,k=>(R(),A("div",{key:k},[w("div",Yb,[w("span",Qb,ae(k+1)+".",1),w("input",{class:"additional-relay-input",onInput:L=>u(L,k),placeholder:"[wss://]relay.example.com",type:"text"},null,40,Xb)])]))),128))])):re("",!0)]),b[6]||(b[6]=w("div",{class:"message-field-label"},[w("label",{for:"signed_json"},[w("strong",null,"JSON of a signed event")])],-1)),w("div",{class:me(["message-field",{active:l.value}])},[ue(Zi,{name:"signed_json",disabled:!te(s).isConnectedToRelay,rows:5,isJson:!0,noBorder:!0,onInput:h,onFocus:y,onBlur:p,placeholder:'{"kind":1,"pubkey":"5486dbb083512982669fa180aa02d722ce35054233cea724061fbc5f39f81aa3","created_at":1685664152,"content":"Test message ","tags":[],"id":"89adae408121ba6d721203365becff4d312292a9dd9b7a35ffa230a1483b09a2","sig":"b2592ae88ba1040c928e458dd6822413f148c8cc4f478d992e024e8c9d9648b96e6ce6dc564ab5815675007f824d9e9f634f8dbde554afeb6e594bcaac4389dd"}'},null,8,["disabled"]),w("div",e_,[w("button",{onClick:d,class:"send-presigned-btn"},b[5]||(b[5]=[w("i",{class:"bi bi-pencil-square post-icon"},null,-1),w("span",null,"New post within your profile",-1)])),w("button",{disabled:m.isSendingMessage||!te(s).isConnectedToRelay,class:me(["button send-btn",{disabled:!te(s).isConnectedToRelay}]),onClick:c},ae(m.isSendingMessage?"Posting...":"Post"),11,t_)])],2),w("div",n_,ae(o.value),1),w("div",s_,ae(i.value),1)],64)}}}),o_=ge(r_,[["__scopeId","data-v-666094ba"]]),i_={class:"message-field-wrapper"},a_={class:"error"},l_=be({__name:"MessageWrapper",props:{newEvents:{}},emits:["loadNewRelayEvents"],setup(e,{emit:t}){const n=et(),s=kn(),o=nn().pool,i=t,a=$(new Set),l=$(!1),c=$(!1),f=$(""),u=()=>{l.value=!l.value},d=async(m,b)=>{let E=[];if(c.value)return;if(c.value=!0,b==="json"){const T=n.additionalRelaysUrlsForSignedEvent;let F=[];if(T.length){let H=`Message was not sent. Can't connect to the next relays: 
`,V=!1;for(const B of T)if(B!=null&&B.length){if(!await hl(B)){V=!0,H+=`- ${B} 
`;continue}F.push(B)}const x=n.currentRelay.url;if(await hl(x)||(V=!0,H+=`- ${x} 
`),V)return H+="Relays are unavailable or you are offline. Please try again or change the list of relays.",h(H)}E=[n.currentRelay.url,...F],E=[...new Set(E)]}if(b==="text"&&(E=n.connectedUserWriteRelaysUrls),!E.length)return h("No relays to broadcast the message. Please provide the list of write relays in settings.");if((await es(E,o,m)).every(T=>T.success===!1))return h("Failed to broadcast the message. Please check the connection or there may be a problem on the all provided relays. Also please try again.");if(b==="json"&&E.length>1){const T=await Promise.all(E.map(async x=>{const B=await o.get([x],{ids:[m.id]});return{relay:x,success:!!B}})),F=T.every(x=>x.success===!1),H=T.some(x=>x.success===!1);let V="";if(T.forEach(x=>{x.success||(V+=`- ${x.relay} 
`)}),F){const x=`Event was not sent, the next relay(s) were not accepted event for some reason: 
 ${V}`;return h(x)}else if(H){const x=`Event was sent, but the next relay(s) were not accepted event for some reason: 
 ${V}`;y(x)}}if(!await o.get(E,{ids:[m.id]}))return h("Failed to broadcast the message. Please check the connection or there may be a problem with relay(s).");s.pushToNewEventsToShow({id:m.id,pubkey:m.pubkey,created_at:m.created_at}),i("loadNewRelayEvents"),b==="text"&&s.updateMessageToBroadcast(""),b==="json"&&s.updateSignedJson(""),a.value.add(m.id),c.value=!1},h=m=>{f.value=m,c.value=!1},y=m=>{f.value=m},p=()=>{f.value=""};return(m,b)=>(R(),A("div",i_,[l.value?(R(),xe(o_,{key:0,onBroadcastEvent:d,onToggleMessageType:u,onClearBroadcastError:p,sentEventIds:a.value,isSendingMessage:c.value},null,8,["sentEventIds","isSendingMessage"])):(R(),xe(Wb,{key:1,onBroadcastEvent:d,onToggleMessageType:u,onClearBroadcastError:p,sentEventIds:a.value,isSendingMessage:c.value},null,8,["sentEventIds","isSendingMessage"])),w("div",a_,ae(f.value),1)]))}}),c_=ge(l_,[["__scopeId","data-v-bc90d938"]]),u_={class:"dropdown"},f_=["data-value"],d_=be({__name:"Dropdown",props:{listItems:{},simpleStyling:{type:Boolean},disabled:{type:Boolean},selectedKey:{}},emits:["handleSelect"],setup(e,{emit:t}){const n=$(null),s=$(null),r=$(null),o=t,i=e,a=$(0);wi(()=>{l()}),wt(()=>{r.value=document.querySelector(".active"),document.addEventListener("click",h=>{const y=h.target,{classList:p}=y;p.contains("item")||p.contains("select-button")||p.contains("items")||d()}),document.addEventListener("keydown",h=>{h.key==="Escape"&&d()}),l()});const l=()=>{if(i.selectedKey){const h=i.listItems.findIndex(y=>y.key===i.selectedKey);h!==-1&&(a.value=h)}},c=()=>{i.disabled||n.value&&n.value.classList.toggle("open")},f=h=>{if(!n.value||!s.value)return;const y=h.target;if(!y.classList.contains("item"))return;u(y),d();const p=y.dataset.value;o("handleSelect",p)},u=h=>{s.value&&(s.value.textContent=h.textContent,r.value&&r.value.classList.remove("active"),h.classList.add("active"),r.value=h)},d=()=>{n.value&&n.value.classList.remove("open")};return(h,y)=>(R(),A("div",u_,[w("button",{ref_key:"selectBtn",ref:s,onClick:c,class:me(["select-button",{simple:h.simpleStyling,disabled:h.disabled}])},ae(h.listItems[a.value].value),3),w("ul",{ref_key:"items",ref:n,class:"items",onClick:f},[(R(!0),A(_e,null,dt(h.listItems,(p,m)=>(R(),A("li",{key:`item-${m}`,"data-value":p.key,class:me(["item",{active:m===a.value}])},ae(p.value),11,f_))),128))],512)]))}}),Qf=ge(d_,[["__scopeId","data-v-c0fdda65"]]),h_=be({__name:"FeedSourceSelect",props:{disabled:{type:Boolean}},emits:["showFeedNotice"],setup(e,{emit:t}){const n=e,s=t,r=it(),o=kn(),i=et(),a=[{key:"network",value:"Network"},{key:"follows",value:"Follows"}],l=c=>{if(!i.isConnectedToRelay)return s("showFeedNotice","Please connect and login to load posts from people you follow.");if(!r.isValidNsecPresented()&&c==="follows")return s("showFeedNotice","Please login to load posts from people you follow.");s("showFeedNotice",""),o.setSelectedFeedSource(c)};return(c,f)=>(R(),xe(Qf,{disabled:n.disabled,simpleStyling:!0,listItems:a,selectedKey:te(o).selectedFeedSource,onHandleSelect:l},null,8,["disabled","selectedKey"]))}}),p_={class:"custom-checkbox"},g_=["checked"],y_={class:"label-text",for:"checkbox"},v_=be({__name:"Checkbox",props:{label:{},checked:{type:Boolean}},emits:["onChange"],setup(e,{emit:t}){const n=t,s=r=>{n("onChange",r)};return(r,o)=>(R(),A("div",p_,[w("label",null,[w("input",{id:"checkbox",onChange:s,checked:r.checked,type:"checkbox"},null,40,g_),o[0]||(o[0]=w("span",{class:"checkmark"},null,-1)),w("span",y_,ae(r.label),1)])]))}}),Qi=ge(v_,[["__scopeId","data-v-25052fa4"]]),m_={class:"wrapper"},Xf=be({__name:"ShowImagesCheckbox",setup(e){const t=Zs(),n=()=>{t.updateShowImages(!t.showImages)};return(s,r)=>{const o=Ws("router-link");return R(),A("div",m_,[ue(Qi,{onOnChange:n,checked:te(t).showImages,label:"Show avatars"},null,8,["checked"]),w("small",null,[r[1]||(r[1]=Ee(" (")),ue(o,{to:{path:"/help",hash:"#privacy"}},{default:ut(()=>r[0]||(r[0]=[Ee("Exposes your IP")])),_:1}),r[2]||(r[2]=Ee(") "))])])}}}),w_={class:"feed-header"},b_={key:0,class:"warning"},__=be({__name:"FeedHeader",props:{isDisabledSourceSelect:{type:Boolean}},setup(e){const t=e,n=$(""),s=r=>{n.value=r,setTimeout(()=>{n.value=""},5e3)};return(r,o)=>(R(),A(_e,null,[w("div",w_,[ue(h_,{class:"dropdown",disabled:t.isDisabledSourceSelect,onShowFeedNotice:s},null,8,["disabled"]),ue(Xf)]),n.value.length?(R(),A("div",b_,ae(n.value),1)):re("",!0)],64))}}),E_=ge(__,[["__scopeId","data-v-945cfe7d"]]),R_={key:0,class:"new-events__imgs"},x_=["src"],S_=["src"],k_={class:"new-events__text"},C_=be({__name:"NewEventsBadge",emits:["loadNewRelayEvents"],setup(e,{emit:t}){const n=kn(),s=Zs(),r=he(()=>n.newEventsBadgeImageUrls[0]),o=he(()=>n.newEventsBadgeImageUrls[1]),i=he(()=>n.newEventsBadgeCount),a=t,l=()=>{a("loadNewRelayEvents")};return(c,f)=>(R(),A("div",{onClick:l,class:me(["new-events",{"new-events_top-shifted":te(n).isLoadingNewEvents}])},[te(s).showImages&&te(n).newEventsBadgeImageUrls.length?(R(),A("div",R_,[w("img",{class:"new-events__img",src:r.value,alt:"user's avatar"},null,8,x_),w("img",{class:"new-events__img",src:o.value,alt:"user's avatar"},null,8,S_)])):re("",!0),w("span",k_,ae(i.value)+" new note"+ae(i.value>1?"s":""),1),f[0]||(f[0]=w("b",null,"",-1))],2))}}),P_=ge(C_,[["__scopeId","data-v-4ad00a33"]]),T_=e=>new Promise(t=>setTimeout(t,e)),A_=async e=>{let t;try{try{t=await ti.connect(e)}catch{await T_(500),t=await ti.connect(e)}}catch{let s=`WebSocket connection to "${e}" failed. You can try again `;throw navigator.onLine?s+="Check WebSocket address. Relay address should be a correct WebSocket URL. Maybe the relay is unavailable or you are offline.":s+="or check your internet connection.",new Error(s)}return t},I_=async(e,t)=>{const n=[],s=[];return t.length&&(await Promise.all(t.map(async o=>{let i;try{i=await e.ensureRelay(o.url)}catch{return{url:o.url,connected:!1,type:o.type}}return{url:i.url,connected:i.connected,type:o.type}}))).forEach(o=>{o.connected&&(n.push(o.url),o.type==="write"&&s.push(o.url))}),{read:n,write:s}},$_=async(e,t,n)=>{const s={};let r=[];if(e.tags.length){r=e.tags.map(c=>c[1]);const o=await n.querySync(t,{kinds:[10002],authors:r}),i=new Set;o.forEach(c=>{c.tags.forEach(f=>{if(f[0]!=="r")return;const u=Ht.normalizeURL(f[1]);t.includes(u)||i.add(u)})});const l=(await Promise.all(Array.from(i).map(async c=>{let f;try{f=await n.ensureRelay(c)}catch{return{url:c,connected:!1}}return{url:c,connected:f.connected}}))).filter(c=>c.connected).map(c=>c.url);o.forEach(c=>{const f=[];c.tags.forEach(u=>{if(u[0]!=="r")return;const d=Ht.normalizeURL(u[1]);(l.includes(d)||t.includes(d))&&f.push(d)}),s[c.pubkey]=f})}return s},L_=async(e,t,n)=>await n.get(t,{kinds:[rt.FOLLOW_LIST],limit:1,authors:[e]}),El=async(e,t,n)=>await n.get(t,{kinds:[rt.RELAY_LIST_META],authors:[e],limit:1}),B_=async(e,t,n)=>await n.get(t,{kinds:[rt.META],authors:[e],limit:1}),N_={id:"feed"},M_={key:0,class:"connecting-notice"},U_={key:1,class:"connecting-notice"},O_={key:3,class:"loading-more"},F_=be({__name:"Feed",setup(e){const t=et(),n=kn(),s=it(),r=nn(),o=Jr(),i=Lr(),a=xn(),l=$(1),c=he(()=>Math.ceil(n.paginationEventsIds.length/ts)),f=he(()=>i.path),u=r.pool,d=$(!1);Ve(()=>i.path,()=>{l.value>1&&F(1)}),Ve(()=>n.selectedFeedSource,async()=>{await m()}),Ve(()=>n.isMountAfterLogin,()=>{n.isMountAfterLogin&&(n.setMountAfterLogin(!1),m())},{immediate:!0}),wt(()=>{c.value>1&&F(1),n.toRemountFeed&&(n.setToRemountFeed(!1),m())});function h(){d.value=!0}function y(){d.value=!1}function p(){return t.connectedUserReadRelayUrls.length?t.connectedUserReadRelayUrls:[t.currentRelay.url]}async function m(){h(),n.sourceSelectDataRefresh(),n.setLoadingFeedSourceStatus(!0);const V=s.getPubkey();let x=p(),B=[],G=[],ne={};n.isFollowsSource&&V.length&&({followsPubkeys:B,followsConnectedRelaysMap:ne,folowsConnectedRelays:G}=await b(V,x));const oe=G.length?G:x;t.setConnectedFeedRelayUrls(oe);const U=await E(B,oe);await Jt(U,null,ne,oe,o,u,!0,W=>{n.pushToEvents(W),n.pushToPaginationEventsIds(W.id),n.isLoadingFeedSource&&(n.setLoadingFeedSourceStatus(!1),n.setLoadingMoreStatus(!0))}),n.setLoadingMoreStatus(!1),await S(B,oe),y()}async function b(V,x){const B=new Set;let G={},ne=[];const oe=await L_(V,x,u);if(oe){ne=oe.tags.map(U=>U[1]),G=await $_(oe,x,u);for(const U of Object.values(G))U.forEach(D=>B.add(D))}return{followsPubkeys:ne,followsConnectedRelaysMap:G,folowsConnectedRelays:Array.from(B)}}async function E(V,x){let B={kinds:[rt.TEXT_NOTE],limit:ts};return V.length&&(B.authors=V),n.refreshPostsFetchTime(),(await mw(u,x,[B])).sort((ne,oe)=>oe.created_at-ne.created_at)}const S=async(V,x)=>{let B={kinds:[rt.TEXT_NOTE]};V.length&&(B.authors=V),n.updateInterval=setInterval(async()=>{await k(x,B,n.updateInterval)},3e3)},k=async(V,x,B)=>{if(n.isLoadingNewEvents)return;x.since=n.timeToGetNewPosts,n.refreshPostsFetchTime();const G=await u.querySync(V,x);if(!L(B)||(n.filterAndUpdateNewEventsToShow(G),!n.newEventsToShow.length))return;n.setShowNewEventsBadge(!0);const ne=await T(V);L(B)&&ne.length&&n.setNewEventsBadgeImageUrls(ne)},L=V=>n.updateInterval===V,T=async V=>{const x=n.newEventsToShow;if(x.length<2)return[];const B=x[x.length-1].pubkey,G=x[x.length-2].pubkey,ne={kinds:[0],authors:[B],limit:1},oe={kinds:[0],authors:[G],limit:1},[U,D]=await Promise.all([u.get(V,ne),u.get(V,oe)]);if(!(U!=null&&U.content)||!(D!=null&&D.content))return[];const W=JSON.parse(U.content).picture,J=JSON.parse(D.content).picture;return[W,J]},F=async(V,x=!1)=>{if(!x&&n.isLoadingNewEvents)return;n.setLoadingNewEventsStatus(!0),h();const B=t.connectedFeedRelaysUrls;if(!B.length)return;const G=ts,ne=(V-1)*G,oe=ne+G,U=n.paginationEventsIds.slice(ne,oe);let W=(await u.querySync(B,{ids:U})).sort((N,K)=>K.created_at-N.created_at);await Jt(W,null,{},B,o,u,!0),n.updateEvents(W),n.setLoadingNewEventsStatus(!1),l.value=V,y()},H=async()=>{if(n.isLoadingNewEvents||(h(),n.setLoadingNewEventsStatus(!0),n.setShowNewEventsBadge(!1),!t.connectedFeedRelaysUrls.length))return;a.push({path:`${i.path}`});let x=[...n.newEventsToShow];n.updateNewEventsToShow([]),n.setNewEventsBadgeImageUrls([]);const B=x.map(oe=>oe.id).reverse(),G=[...n.paginationEventsIds];G.unshift(...B),n.updatePaginationEventsIds(G),await F(1,!0),n.setLoadingNewEventsStatus(!1),y()};return(V,x)=>(R(),A("div",N_,[ue(c_,{onLoadNewRelayEvents:H,newEvents:te(n).newEventsToShow},null,8,["newEvents"]),ue(E_,{isDisabledSourceSelect:d.value},null,8,["isDisabledSourceSelect"]),w("div",{class:me(["events",{events_hidden:f.value==="/log"}])},[te(n).isLoadingFeedSource?(R(),A("div",M_," Loading feed from "+ae(te(n).selectedFeedSource)+"... ",1)):re("",!0),te(n).isLoadingNewEvents?(R(),A("div",U_,"Loading new notes...")):re("",!0),te(n).showNewEventsBadge?(R(),xe(P_,{key:2,onLoadNewRelayEvents:H})):re("",!0),ue($b,{events:te(n).events,currentReadRelays:te(t).connectedFeedRelaysUrls,onToggleRawData:te(n).toggleEventRawData},null,8,["events","currentReadRelays","onToggleRawData"]),te(n).isLoadingMore?(R(),A("div",O_,"Loading more posts...")):re("",!0),ue(Yf,{pagesCount:c.value,currentPage:l.value,onShowPage:F},null,8,["pagesCount","currentPage"])],2)]))}}),Rl=ge(F_,[["__scopeId","data-v-57fb08d8"]]),H_={class:"paragraph"},xl=be({__name:"Help",setup(e){const t=Lr(),n=$(null);return wt(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),pc(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),(s,r)=>(R(),A(_e,null,[r[1]||(r[1]=oo('<h3>Slightly Private App</h3><div class="paragraph"><a href="https://nostr.com">nostr</a> is public, censorship-resistant social network. It&#39;s simple: <ol><li> Select a relay from the list, or specify a <a href="https://nostr.watch/" target="_blank">custom URL</a></li><li><em>Optionally</em>, set your private key, to create new messages</li></ol></div><div class="paragraph"> Traditional social networks can suppress certain posts or users. In nostr, every message is signed by user&#39;s <em>private key</em> and broadcasted to <em>relays</em>. <strong>Messages are tamper-resistant</strong>: no one can edit them, or the signature will become invalid. <strong>Users can&#39;t be blocked</strong>: even if a relay blocks someone, it&#39;s always possible to switch to a different one, or create up a personal relay. </div><div class="paragraph"> The app is available at <a href="http://nostr.spa">nostr.spa</a>. You can: <ul><li><em>Connect</em> and see relay&#39;s global feed.</li><li><em>Post</em> new messages to the relay.</li><li><em>Broadcast</em> a pre-signed message. No need to enter a private key.</li><li><em>Search</em> information about a user or an event.</li></ul></div>',4)),w("div",H_,[w("h3",{id:"#privacy",ref_key:"privacyEl",ref:n},"Privacy policy",512),r[0]||(r[0]=oo("<ul><li>No tracking from our end</li><li>Private keys are not sent anywhere. They are stored in RAM of your device</li><li>Relay will see your ip+browser after you click <em>Connect</em> button</li><li> GitHub will see ip+browser of anyone who&#39;s using the app, because it&#39;s hosted on GitHub Pages. They won&#39;t see any nostr-specific interactions you will make </li><li><em>Show avatars</em> feature will leak your ip+browser to random people on the internet. Since there are no centralized servers in nostr, every user can specify their own URL for avatar hosting. Meaning, users can control the hosting webservers and see logs </li><li><em>Remember me</em> feature will write private key you&#39;ve entered to browser&#39;s Local Storage, which is usually stored on your device&#39;s disk </li><li>VPN or TOR usage is advised, <em>as with any nostr client</em>, to prevent ip leakage</li></ul>",1))]),r[2]||(r[2]=oo('<h3>Open source</h3><div class="paragraph"> The lightweight nostr client is built to showcase <a href="/noble/">noble</a> cryptography. Signing is done using <a target="_blank" href="https://github.com/paulmillr/noble-curves">noble-curves</a>, while <a target="_blank" href="https://github.com/paulmillr/scure-base">scure-base</a> is used for bech32, <a target="_blank" href="https://github.com/nbd-wtf/nostr-tools">nostr-tools</a> are used for general nostr utilities and Vue.js is utilized for UI. Check out <a target="_blank" href="https://github.com/paulmillr/paulmillr.github.io">the source code</a>. You are welcome to host the client on your personal website. </div>',2))],64))}}),_t=us({value:1,update(e){this.value=e}}),D_=bt("user-notes",()=>{const e=$([]),t=$([]);function n(o){e.value=o}function s(o){t.value=o}function r(o){const i=e.value.find(a=>a.id===o);i&&(i.showRawData=!i.showRawData)}return{notes:e,allNotesIds:t,updateNotes:n,updateIds:s,toggleRawData:r}}),Zr=bt("ownProfile",()=>{const e=$({}),t=$(null),n=$(null),s=he(()=>!n.value||!t.value?"":Vf(n.value,t.value.pubkey)),r=he(()=>t.value?t.value.pubkey:"");function o(a){e.value=a}function i(a){t.value=a,n.value=JSON.parse(a.content)}return{contactsEvent:e,updateContactsEvent:o,updateMeta:i,username:s,pubkey:r}}),V_={class:"event"},j_={key:0,class:"event__content"},W_={class:"event__code-block"},q_={class:"event__code-title"},K_={class:"content-col_code"},z_={class:"event__code"},G_={class:"event__code-block"},J_={class:"event__code-title"},Z_={class:"content-col_code"},Y_={class:"event__code"},Q_={class:"content-col_code"},X_={class:"event__code"},eE={class:"event-footer__signature-text"},tE=be({__name:"UserEvent",props:{event:{},author:{}},setup(e){const t=e,n=$(!1),s=$(!1),r=$(!1),o=$(""),i=$(""),a=$(""),l=$(0),c=$(!1);Bh(()=>{const{event:u}=t;o.value=u.id,i.value=u.sig,a.value=u.pubkey,l.value=u.created_at}),wt(()=>{Object.keys(t.event).length!==0&&(c.value=Dn(t.event))});const f=()=>{n.value=!n.value};return(u,d)=>(R(),A("div",V_,[n.value?re("",!0):(R(),A("div",j_,[dh(u.$slots,"default",{},()=>[d[2]||(d[2]=Ee("No content for event"))]),d[6]||(d[6]=w("hr",null,null,-1)),w("div",W_,[w("div",q_,[d[3]||(d[3]=w("b",null,"Author: ",-1)),w("button",{class:"event__code-btn",onClick:d[0]||(d[0]=h=>r.value=!r.value)},ae(r.value?"npub":"hex"),1)]),w("div",K_,[w("code",z_,ae(r.value?a.value:te(Fe).npubEncode(a.value)),1)])]),w("div",G_,[w("div",J_,[d[4]||(d[4]=w("b",null,"Meta event id: ",-1)),w("button",{class:"event__code-btn",onClick:d[1]||(d[1]=h=>s.value=!s.value)},ae(s.value?"nevent":"hex"),1)]),w("div",Z_,[w("code",Y_,ae(s.value?o.value:te(Fe).neventEncode({id:o.value})),1)])]),w("div",null,[d[5]||(d[5]=w("div",{class:"header-col"},[w("b",null,"Updated: ")],-1)),w("div",Q_,[w("code",X_,ae(te(Ji)(l.value)),1)])])])),n.value?(R(),xe(qf,{key:1,isUserEvent:!0,event:u.event,authorEvent:u.event},null,8,["event","authorEvent"])):re("",!0),w("div",{class:me(["event-footer",{"event-footer_flex-end":!n.value}])},[n.value?(R(),A("div",{key:0,class:me(["event-footer__signature",{"event-footer__signature_invalid":!c.value}])},[c.value?(R(),xe(Gf,{key:0})):re("",!0),c.value?re("",!0):(R(),xe(Jf,{key:1})),w("span",eE,ae(c.value?"Signature is valid":"Invalid signature"),1)],2)):re("",!0),w("div",null,[w("span",{class:"event-footer-code",onClick:f},"{...}")])],2)]))}}),nE=ge(tE,[["__scopeId","data-v-d44944c7"]]),ed=2*24*60*60,sE=()=>crypto.getRandomValues(new Uint32Array(1))[0]/4294967296,Yr=()=>Math.round(Date.now()/1e3),td=()=>Math.round(Yr()-sE()*ed),nd=(e,t)=>zr.v2.utils.getConversationKey(Gr(e),t),sd=(e,t,n)=>zr.v2.encrypt(JSON.stringify(e),nd(t,n)),Sl=(e,t)=>JSON.parse(zr.v2.decrypt(e.content,nd(t,e.pubkey))),rE=(e,t)=>{const n={kind:14,created_at:Yr(),content:"",tags:[],...e,pubkey:Du(t)};return n.id=As(n),n},oE=(e,t,n)=>ot({kind:13,content:sd(e,t,n),created_at:td(),tags:[]},t),iE=(e,t)=>{const n=Pv();return ot({kind:1059,content:sd(e,n,t),created_at:td(),tags:[["p",t]]},n)},aE="Please login to follow the user.",lE="Something went wrong, please ensure that your write relays are online.",cE=be({__name:"FollowBtn",props:{isFollowed:{type:Boolean},pubkeyToFollow:{}},emits:["toggleFollow","handleFollowError"],setup(e,{emit:t}){const n=t,s=it(),r=et(),o=Zr(),a=nn().pool,l=e,c=async()=>{if(!s.getPubkey()){n("handleFollowError",aE);return}const{isFollowed:d}=l,h=o.contactsEvent;let y=(h==null?void 0:h.tags)||[];d?y=y.filter(S=>S[0]==="p"&&S[1]!==l.pubkeyToFollow):y.push(["p",l.pubkeyToFollow]);const p=f(y);if(!p)return;n("toggleFollow");const m=r.connectedUserWriteRelaysUrls;if((await es(m,a,p)).every(S=>S.success===!1)){n("toggleFollow"),n("handleFollowError",lE);return}o.updateContactsEvent(p)},f=u=>{const d=s.getPrivkeyBytes();return d?ot({kind:rt.FOLLOW_LIST,created_at:Yr(),tags:u,content:""},d):null};return(u,d)=>(R(),A("span",{onClick:c,class:me(["button",{outline:u.isFollowed}])},ae(u.isFollowed?"unfollow":"follow"),3))}}),uE=ge(cE,[["__scopeId","data-v-3545ab11"]]),fE={},dE={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-download",viewBox:"0 0 16 16"};function hE(e,t){return R(),A("svg",dE,t[0]||(t[0]=[w("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"},null,-1),w("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"},null,-1)]))}const pE=ge(fE,[["render",hE]]),gE={key:0,class:"loading-notice"},yE={class:"user"},vE={key:0,class:"user__avatar-wrapper"},mE=["src"],wE={class:"user__info"},bE={class:"user__info__content"},_E={class:"user__nickname-wrapper"},EE={class:"user__nickname"},RE={class:"user-action-error warning"},xE={class:"user__name"},SE={key:0,class:"user__nip05"},kE=["href"],CE={key:1,class:"user__contacts"},PE={class:"user__contacts-col user__following-cnt"},TE={class:"user__contacts-col user__followers-cnt"},AE={key:0},IE={key:1,class:"user__contacts-download-icon"},$E={class:"user__desc"},LE={key:2},BE={key:3,id:"user-posts"},NE={key:0},ME={key:1},UE={key:5,class:"not-found"},OE={class:"not-found__desc"},FE={key:0},HE={key:1},DE=be({__name:"User",setup(e){const n=nn().pool,s=hs(),r=D_(),o=ps(),i=Zs(),a=it(),l=et(),c=Jr(),f=Zr(),u=$({}),d=$({}),h=$(!1),y=$(!1),p=$(""),m=$(!1),b=$(""),E=$(!1),S=$(!1),k=$(!1),L=$(!1),T=$(!1),F=$(!1),H=$(""),V=$(!1),x=$(!0),B=$(1),G=he(()=>Math.ceil(r.allNotesIds.length/ts)),ne=xn(),oe=Lr(),U=g=>{const[_,P]=g.split("@");return`https://${P}/.well-known/nostr.json?name=${_}`},D=$([]);wt(()=>{var g,_,P,O;if((_=(g=oe.params)==null?void 0:g.id)!=null&&_.length&&!l.currentRelay.connected){s.updateNpubInput(oe.params.id),s.updateCachedUrl(oe.params.id),l.currentRelay.connected||(k.value=!0),L.value=!0,N();return}if(o.isRoutingUser&&s.npubInput.length){s.updateCachedUrl(s.npubInput),o.updateRoutingStatus(!1),N();return}if(!s.npubInput.length&&((O=(P=oe.params)==null?void 0:P.id)!=null&&O.length)){s.updateNpubInput(oe.params.id),s.updateCachedUrl(oe.params.id),o.updateRoutingStatus(!1),N();return}}),js(()=>{J(),o.isSearchUsed||s.updateNpubInput(""),o.updateSearchStatus(!1)}),Ve(()=>oe.params,()=>{o.isRoutingUser&&(s.updateCachedUrl(s.npubInput),o.updateRoutingStatus(!1),N())}),Ve(()=>oe.redirectedFrom,()=>{s.updateNpubInput(oe.params.id),s.updateCachedUrl(oe.params.id),J()}),Ve(()=>l.isConnectingToReadWriteRelays,g=>{g&&!k.value&&J()}),Ve(()=>l.isConnectedToReadWriteRelays,g=>{g&&!k.value&&N()});const W=async g=>{const _=D.value;if(!_.length)return;const P=ts,O=(g-1)*P,I=O+P,q=r.allNotesIds.slice(O,I),X=await n.querySync(_,{ids:q});await de(X,_),r.updateNotes(X),B.value=g},J=()=>{u.value={},d.value={},r.updateNotes([]),r.updateIds([]),T.value=!1,F.value=!1,H.value=""},N=async(g=!1)=>{_t.update(_t.value+1);const _=_t.value,P=s.npubInput;let O=!1;if(V.value=!1,mr(P))p.value=P,O=!0;else try{const{data:le,type:ce}=si(P);V.value=ce==="note",p.value=le.toString()}catch(le){s.setError(le.message);return}if(J(),g&&(E.value=!0),_!==_t.value)return;const I=g?pl:l.connectedUserReadWriteUrlsWithSelectedRelay;if(!I.length){L.value=!0;return}s.error.length&&s.setError(""),g||(m.value=!0);let q=[];if(V.value||O){const le=p.value;if(q=await n.querySync(I,{kinds:[1],ids:[le]}),_!==_t.value)return;if(q.length){const ce=q[0];p.value=ce.pubkey,V.value=ce.kind===1}}const X=await n.get(I,{kinds:[0],limit:1,authors:[p.value]});if(_!==_t.value)return;if(!X){g?(E.value=!1,b.value="User or event was not found on listed relays."):(m.value=!1,y.value=!0);return}c.addMeta(X),D.value=I;const ee=[p.value],z=a.getPubkey();z.length&&z!==p.value&&ee.push(z);let fe=await n.querySync(I,{kinds:[3],authors:ee});if(_!==_t.value)return;fe=$f(fe);const ie=fe.find(le=>le.pubkey===p.value);if(z!==p.value){const le=fe.find(ce=>ce.pubkey===z);le&&(T.value=le.tags.some(ce=>ce[0]==="p"&&ce[1]===p.value)||!1,f.updateContactsEvent(le)),F.value=!0}if(u.value=X,d.value=JSON.parse(X.content),d.value.followingCount=(ie==null?void 0:ie.tags.length)||0,g?(b.value="",E.value=!1,L.value=!1):m.value=!1,h.value=!1,y.value=!1,K(P,V.value),S.value=!0,Be(_),!V.value)try{const le=await Z(I,_);if(_!==_t.value)return;q=le.viewNotes,r.updateIds(le.allNotes.map(ce=>ce.id)),B.value=1}catch{return}if(V.value){const le=q[0];if(await Y(q[0],I),_!==_t.value)return;r.updateIds([le.id])}r.updateNotes(q),S.value=!1},K=(g,_)=>{_?ne.push({path:`/event/${g}`}):ne.push({path:`/user/${g}`}),s.updateCachedUrl(g)},Z=async(g,_=0)=>{let P=await n.querySync(g,{kinds:[1],authors:[p.value]});if(_&&_!==_t.value)throw new Error("Operation was canceled");P=P.filter(q=>!vw(q)),P=P.sort((q,X)=>X.created_at-q.created_at);const O=[...P],I=P.slice(0,ts);return await de(I,g),{viewNotes:I,allNotes:O}},Y=async(g,_)=>{const P=St.parse(g),O=P.reply||P.root;if(O){x.value=!1;const I=await Df(O.id,_,n);await ke([g],I,_)}else await de([g],_)},de=async(g,_)=>{await Jt(g,null,{},_,c,n,!0)},ke=async(g,_,P)=>{await Jt(g,_,{},P,c,n,!1)},Be=async(g=0)=>{const _=d.value.nip05,P=u.value.pubkey;if(!(!_||!P))try{const O=await se(_,P);if(g&&g!==_t.value)return;h.value=O}catch{console.log("Failed to check nip05")}},se=async(g,_)=>{const P=await lf.queryProfile(g);return _===(P==null?void 0:P.pubkey)},M=()=>{N(!0)},Q=async()=>{const g=new Set;d.value.followersCount=0;const _=n.subscribeMany(D.value,[{"#p":[p.value],kinds:[3]}],{onevent(P){g.has(P.pubkey)||(g.add(P.pubkey),d.value.followersCount=d.value.followersCount+1)},oneose(){_.close()}})},C=g=>{r.toggleRawData(g)},j=()=>{T.value=!T.value},we=g=>{H.value=g,setTimeout(()=>{H.value=""},1e4)},v=g=>{const{username:_,name:P,display_name:O}=g;return(_!=null&&_.length||P!=null&&P.length)&&O||""};return(g,_)=>(R(),A(_e,null,[m.value?(R(),A("div",gE,"Loading profile info...")):re("",!0),u.value.id?(R(),xe(nE,{author:d.value,event:u.value,key:u.value.id},{default:ut(()=>[w("div",yE,[te(i).showImages?(R(),A("div",vE,[w("img",{alt:"user's avatar",class:"user__avatar",src:d.value.picture},null,8,mE)])):re("",!0),w("div",wE,[w("div",bE,[w("div",_E,[w("span",EE,ae(te(Vf)(d.value,p.value)),1),F.value?(R(),xe(uE,{key:0,pubkeyToFollow:p.value,isFollowed:T.value,onToggleFollow:j,onHandleFollowError:we},null,8,["pubkeyToFollow","isFollowed"])):re("",!0)]),w("div",RE,ae(H.value),1),w("div",xE,ae(v(d.value)),1),h.value?(R(),A("div",SE,[w("a",{target:"_blank",href:U(d.value.nip05)},[_[0]||(_[0]=w("strong",null,"nip05",-1)),Ee(": "+ae(d.value.nip05),1)],8,kE)])):re("",!0),d.value.followingCount>=0?(R(),A("div",CE,[w("span",PE,[w("b",null,ae(d.value.followingCount),1),_[1]||(_[1]=Ee(" Following "))]),w("span",TE,[d.value.followersCount?(R(),A("b",AE,ae(d.value.followersCount),1)):(R(),A("span",IE,[ue(pE,{onClick:Q})])),_[2]||(_[2]=w("span",{class:"user__contacts-followers-word"}," Followers ",-1))])])):re("",!0)])])]),w("div",$E,ae(d.value.about||""),1)]),_:1},8,["author","event"])):re("",!0),S.value?(R(),A("div",LE,"Loading notes...")):re("",!0),te(r).notes.length>0&&!S.value?(R(),A("h3",BE,[V.value?(R(),A("span",NE,"Event info")):(R(),A("span",ME,"User notes"))])):re("",!0),(R(!0),A(_e,null,dt(te(r).notes,(P,O)=>(R(),xe(Zf,{key:P.id,hasReplyBtn:!0,showRootReplies:x.value,currentReadRelays:D.value,index:O,onToggleRawData:C,event:P},null,8,["showRootReplies","currentReadRelays","index","event"]))),128)),!S.value&&!m.value?(R(),xe(Yf,{key:4,pagesCount:G.value,currentPage:B.value,onShowPage:W},null,8,["pagesCount","currentPage"])):re("",!0),y.value||L.value?(R(),A("div",UE,[w("div",OE,[y.value?(R(),A("span",FE," Data was not found on selected relay. Please try to connect to another one or you can try to load info from the list of popular relays. ")):re("",!0),L.value?(R(),A("span",HE,"Please connect first or search in the list of popular relays.")):re("",!0)]),w("div",null,[w("button",{onClick:M,class:"fallback-search-btn"}," Search in the listed relays "),w("div",{class:me(["not-found__status",{warning:b.value.length}])},ae(b.value)+" "+ae(E.value?"Searching...":""),3),w("ul",null,[(R(!0),A(_e,null,dt(te(pl),P=>(R(),A("li",null,ae(P),1))),256))])])])):re("",!0)],64))}}),kl=ge(DE,[["__scopeId","data-v-76deeb06"]]),VE=be({__name:"Images",setup(e){const t=Zs(),n=()=>{t.updateShowImages(!t.showImages)};return(s,r)=>(R(),A(_e,null,[r[0]||(r[0]=w("h4",null,"Images:",-1)),ue(Xf,{showImages:te(t).showImages,onToggleImages:n},null,8,["showImages"])],64))}}),jE=ge(VE,[["__scopeId","data-v-e086d4a2"]]),WE={class:"error"},qE={class:"relays"},KE={class:"actions"},zE=["onClick"],GE={key:0},JE={key:1},ZE={key:2},YE={class:"add-relay"},QE={class:"error"},Wn="Updating relays error. Please reload the page and try again or write us about the issue.",XE=be({__name:"Relays",setup(e){const n=nn().pool,s=et(),r=it(),o=kn(),i=$(""),a=$(""),l=$(""),c=h=>{if(i.value="",!(r.nsec?r.nsec.trim():"").length){i.value="Please provide your private key.";return}let p,m;try{if(p=r.getPrivkeyBytes(),!p)throw new Error;if(m=r.getPubkey(),!m.length)throw new Error}catch{i.value="Invalid private key. Please check it and try again.";return}const b={kind:10002,pubkey:m,created_at:Math.floor(Date.now()/1e3),content:"",tags:h};return ot(b,p)},f=async(h,y)=>{i.value="";const p=h.target.checked;p?s.addWriteRelay(y):s.removeWriteRelay(y);const m=s.nip65Tags,b=c(m);if(!b){i.value=Wn;return}if(!(await es(s.allRelaysUrlsWithSelectedRelay,n,b)).some(k=>k.success)){i.value=Wn;return}o.setToRemountFeed(!0),p?s.addConnectedUserWriteRelay(y):s.removeConnectedUserWriteRelay(y)},u=async h=>{i.value="",s.removeUserRelay(h);const y=s.nip65Tags,p=c(y);if(!p){i.value=Wn;return}(await es(s.allRelaysUrlsWithSelectedRelay,n,p)).some(E=>E.success)||(i.value=Wn),o.setToRemountFeed(!0)},d=async()=>{let h="";i.value="",l.value="";try{h=Ht.normalizeURL(a.value)}catch{l.value="Invalid relay url.";return}s.addUserRelay(h),a.value="";const y=s.nip65Tags,p=c(y);if(!p){i.value=Wn;return}if(!(await es(s.allRelaysUrlsWithSelectedRelay,n,p)).some(E=>E.success)){i.value=Wn,s.removeUserRelay(h);return}o.setToRemountFeed(!0),s.addConnectedUserReadRelay(h)};return(h,y)=>(R(),A(_e,null,[y[5]||(y[5]=w("h4",null,"Your relays:",-1)),w("div",WE,ae(i.value),1),w("ul",qE,[(R(!0),A(_e,null,dt(te(s).userReadWriteRelays,(p,m)=>(R(),A("li",{class:"relay",key:m},[Ee(ae(p.url)+" ",1),w("div",KE,[ue(Qi,{onOnChange:b=>f(b,p.url),checked:p.type==="write",label:"publish to relay"},null,8,["onOnChange","checked"]),y[2]||(y[2]=w("span",{class:"actions__delimiter"}," | ",-1)),w("span",{onClick:()=>u(p.url),class:"actions__remove"},y[1]||(y[1]=[w("i",{class:"bi bi-trash trash-icon"},null,-1),w("span",{class:"actions__remove-label"},"remove",-1)]),8,zE)])]))),128))]),te(s).isConnectedToRelay&&te(r).isValidNsecPresented()&&!te(s).userReadWriteRelays.length?(R(),A("div",GE,[y[3]||(y[3]=Ee(" The list with your relays was not found on ")),w("b",null,ae(te(s).currentRelay.url),1)])):re("",!0),!te(s).isConnectedToRelay||!te(r).isValidNsecPresented()?(R(),A("div",JE," Please login to see and edit the list of your relays. ")):re("",!0),te(s).isConnectedToRelay&&te(r).isValidNsecPresented()?(R(),A("div",ZE,[y[4]||(y[4]=w("h4",null,"Add relay:",-1)),w("div",YE,[Mn(w("input",{"onUpdate:modelValue":y[0]||(y[0]=p=>a.value=p),class:"add-relay__input",type:"text",placeholder:"[wss://]relay.url"},null,512),[[Un,a.value]]),w("button",{onClick:d,class:"add-relay__btn"},"Add")]),w("div",QE,ae(l.value),1)])):re("",!0)],64))}}),e2=ge(XE,[["__scopeId","data-v-ddecec6f"]]),t2={class:"keys"},n2={class:"key-block"},s2={key:0,class:"key-block__code"},r2={key:1},o2={class:"key-block__btns"},i2={key:0,class:"bi bi-clipboard copy-icon"},a2={key:1,class:"bi bi-check-lg copy-icon"},l2={key:0,class:"bi bi-clipboard copy-icon"},c2={key:1,class:"bi bi-check-lg copy-icon"},u2={class:"key-block"},f2={key:0,class:"key-block__code"},d2={key:1},h2={class:"key-block__btns"},p2={key:0,class:"bi bi-clipboard copy-icon"},g2={key:1,class:"bi bi-check-lg copy-icon"},y2={key:0,class:"bi bi-clipboard copy-icon"},v2={key:1,class:"bi bi-check-lg copy-icon"},m2=be({__name:"Keys",setup(e){const t=it(),n=$(!1),s=$(!1),r=$(!1),o=$(!1),i=()=>{if(!t.isValidNsecPresented())return;const f=t.getPubkey();navigator.clipboard.writeText(Fe.npubEncode(f)),n.value=!0,setTimeout(()=>{n.value=!1},2e3)},a=()=>{t.isValidNsecPresented()&&(navigator.clipboard.writeText(t.getPubkey()),s.value=!0,setTimeout(()=>{s.value=!1},2e3))},l=()=>{t.isValidNsecPresented()&&(navigator.clipboard.writeText(t.getPrivkey()),r.value=!0,setTimeout(()=>{r.value=!1},2e3))},c=()=>{t.isValidNsecPresented()&&(navigator.clipboard.writeText(t.getPrivkeyHex()),o.value=!0,setTimeout(()=>{o.value=!1},2e3))};return(f,u)=>(R(),A(_e,null,[u[10]||(u[10]=w("h4",null,"Your Keys:",-1)),w("div",t2,[w("div",n2,[u[3]||(u[3]=w("div",null,"Public key:",-1)),u[4]||(u[4]=w("div",{class:"key-block__desc"},[w("small",null," Public key identifies your Nostr account. Feel free to share it with others. ")],-1)),w("div",null,[u[0]||(u[0]=Ee("  ")),te(t).isValidNsecPresented()?(R(),A("code",s2,ae(te(Fe).npubEncode(te(t).getPubkey())),1)):(R(),A("span",r2,"Please login to see your public key."))]),w("div",o2,[w("button",{class:"copy-btn",onClick:i},[n.value?(R(),A("i",a2)):(R(),A("i",i2)),u[1]||(u[1]=Ee(" Copy pubkey "))]),w("button",{class:"copy-btn",onClick:a},[s.value?(R(),A("i",c2)):(R(),A("i",l2)),u[2]||(u[2]=Ee(" Copy hex "))])])]),w("div",u2,[u[8]||(u[8]=w("div",null,"Private key:",-1)),u[9]||(u[9]=w("div",{class:"key-block__desc"},[w("small",null,[Ee(" Private key fully controls your Nostr account and used to cryptographically sign your messages. "),w("b",null,"Do not share your private key with anyone and keep it secure.")])],-1)),w("div",null,[u[5]||(u[5]=Ee("  ")),te(t).isValidNsecPresented()?(R(),A("code",f2," *************************************************************** ")):(R(),A("span",d2,"Please login to get your private key."))]),w("div",h2,[w("button",{class:"copy-btn",onClick:l},[r.value?(R(),A("i",g2)):(R(),A("i",p2)),u[6]||(u[6]=Ee(" Copy privkey "))]),w("button",{class:"copy-btn",onClick:c},[o.value?(R(),A("i",v2)):(R(),A("i",y2)),u[7]||(u[7]=Ee(" Copy hex "))])])])])],64))}}),w2=ge(m2,[["__scopeId","data-v-0d5a3ea5"]]),b2={key:0,class:"logout-block"},_2={key:0},E2={key:1},R2=be({__name:"Logout",emits:["logout"],setup(e,{emit:t}){const n=t,s=it(),r=et(),o=()=>{n("logout")};return(i,a)=>te(r).isConnectedToRelay?(R(),A("div",b2,[w("button",{class:"logout-btn",onClick:o},[te(s).isValidNsecPresented()?(R(),A("span",_2,a[0]||(a[0]=[Ee(" Log Out "),w("i",{class:"bi bi-door-closed"},null,-1)]))):(R(),A("span",E2,a[1]||(a[1]=[Ee("Disconnect "),w("i",{class:"bi bi-door-closed"},null,-1)])))])])):re("",!0)}}),x2=ge(R2,[["__scopeId","data-v-77bab9f0"]]),S2=be({__name:"Settings",emits:["clearAppState"],setup(e,{emit:t}){const n=t,s=async()=>{await n("clearAppState",!0)};return(r,o)=>(R(),A(_e,null,[ue(jE),ue(e2),ue(w2),ue(x2,{onLogout:s})],64))}});function k2(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),a=Number(n&o),l=s?4:0,c=s?0:4;e.setUint32(t+l,i,s),e.setUint32(t+c,a,s)}function C2(e,t,n){return e&t^~e&n}function P2(e,t,n){return e&t^e&n^t&n}class T2 extends x1{constructor(t,n,s,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=xo(this.buffer)}update(t){vl(this);const{view:n,buffer:s,blockLen:r}=this;t=zf(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(r-this.pos,o-i);if(a===r){const l=xo(t);for(;r<=o-i;i+=r)this.process(l,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){vl(this),_1(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let u=i;u<r;u++)n[u]=0;k2(s,r-8,BigInt(this.length*8),o),this.process(s,0);const a=xo(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,f=this.get();if(c>f.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,f[u],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:a}=this;return t.length=r,t.pos=a,t.finished=o,t.destroyed=i,r%n&&t.buffer.set(s),t}}const A2=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),un=new Uint32Array(64);class I2 extends T2{constructor(){super(64,32,8,!1),this.A=cn[0]|0,this.B=cn[1]|0,this.C=cn[2]|0,this.D=cn[3]|0,this.E=cn[4]|0,this.F=cn[5]|0,this.G=cn[6]|0,this.H=cn[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:a,H:l}=this;return[t,n,s,r,o,i,a,l]}set(t,n,s,r,o,i,a,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let u=0;u<16;u++,n+=4)un[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const d=un[u-15],h=un[u-2],y=$t(d,7)^$t(d,18)^d>>>3,p=$t(h,17)^$t(h,19)^h>>>10;un[u]=p+un[u-7]+y+un[u-16]|0}let{A:s,B:r,C:o,D:i,E:a,F:l,G:c,H:f}=this;for(let u=0;u<64;u++){const d=$t(a,6)^$t(a,11)^$t(a,25),h=f+d+C2(a,l,c)+A2[u]+un[u]|0,p=($t(s,2)^$t(s,13)^$t(s,22))+P2(s,r,o)|0;f=c,c=l,l=a,a=i+h|0,i=o,o=r,r=s,s=h+p|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,f=f+this.H|0,this.set(s,r,o,i,a,l,c,f)}roundClean(){un.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const rd=S1(()=>new I2),$2=async(e,t,n,s)=>{const r=n||new ni,o=await L2(e.messages,t,r,s);return e.title=o,e},L2=async(e,t,n,s)=>{const r=e[0].event,{pubkey:o,tags:i}=r,a=i.filter(h=>h[0]==="p").map(h=>h[1]),l=[o,...a],c=new Set(l);if(c.size>2)return`group of ${c.size} events`;let f={};if(c.size===1)f={kinds:[0],authors:[o]};else if(c.size===2){const h=l.filter(y=>y!==t)[0];f={kinds:[0],authors:[h]}}const u=await n.get(s,f),d=JSON.parse((u==null?void 0:u.content)||"{}");return d.display_name?d.display_name:d.name?d.name:d.username?d.username:Fe.npubEncode(o).slice(0,10)+"..."},B2=async(e,t,n)=>{let s={};s={kinds:[0],authors:[e]};const r=await t.get(n,s),o=JSON.parse((r==null?void 0:r.content)||"{}");return o.display_name?o.display_name:o.name?o.name:o.username?o.username:Fe.npubEncode(e).slice(0,10)+"..."},Cl=e=>{const n=e.tags.filter(s=>s[0]==="p").map(s=>s[1]).sort().join("");return Gr(rd(n))},N2=e=>{const t=e.sort().join("");return Gr(rd(t))},Pl=(e,t)=>{let n,s;try{n=Sl(e,t),s=Sl(n,t)}catch{return null}return n.pubkey!==s.pubkey?null:s},Tl=e=>({event:e,isPublished:!0}),Al=e=>e.tags.filter(n=>(n[0]==="r"||n[0]==="relay")&&n[1]&&n[1].length).map(n=>n[1]).length>2,od=bt("chat",()=>{const e=$(new Set);function t(n){e.value.add(n)}return{ownRumors:e,addOwnRumor:t}}),M2={class:"user-field"},U2={key:0,class:"notice"},O2={key:1,class:"error"},F2=be({__name:"ChatCreateRoomForm",props:{isLoadingProfile:{type:Boolean}},emits:["startChat"],setup(e,{emit:t}){const n=t,s=et(),r=$(""),o=$(""),i=()=>{const a=r.value;let l="";if(!s.isConnectedToReadWriteRelays){o.value="Please connect to a relay first.";return}if(!a.length){o.value="Provide the public key of the person to chat with.";return}if(mr(a))l=a;else try{let{data:c,type:f}=Fe.decode(a);if(f!=="npub"){o.value="Public key is invalid. Please check it and try again.";return}l=c.toString()}catch{o.value="Public key is invalid. Please check it and try again.";return}o.value="",n("startChat",l)};return(a,l)=>(R(),A(_e,null,[w("form",{onSubmit:On(i,["prevent"])},[l[2]||(l[2]=w("label",{for:"start-chat-pubkey"},[w("strong",null,"Profile's public key")],-1)),w("div",M2,[Mn(w("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>r.value=c),class:"find-user-input",id:"start-chat-pubkey",type:"text",placeholder:"npub or hex of pubkey"},null,512),[[Un,r.value,void 0,{trim:!0}]]),l[1]||(l[1]=w("button",{type:"submit",class:"start-chat-btn"},"Start chat",-1))])],32),a.isLoadingProfile?(R(),A("div",U2,"Loading profile info...")):re("",!0),o.value?(R(),A("div",O2,ae(o.value),1)):re("",!0)],64))}}),H2=ge(F2,[["__scopeId","data-v-98b3a16d"]]),D2={class:"message-date"},V2=be({__name:"ChatMessagesList",props:{messages:{},userPubkey:{}},setup(e){return(t,n)=>(R(!0),A(_e,null,dt(t.messages,s=>(R(),A("div",{class:me(["message-line",{own:s.event.pubkey===t.userPubkey}])},[w("div",{class:me(["message",{own:s.event.pubkey===t.userPubkey}])},[w("div",null,ae(s.event.content),1)],2),w("div",D2,ae(s.isPublished?te(Ji)(s.event.created_at):"sending..."),1)],2))),256))}}),j2=ge(V2,[["__scopeId","data-v-df3b8d11"]]),W2={class:"chats__text-field"},q2=be({__name:"ChatMessageForm",props:{roomTags:{},recipientsPubkeys:{},userPubkey:{}},emits:["preSendMessage"],setup(e,{emit:t}){const n=t,s=$(""),r=it(),o=e,i=()=>{const a=s.value;if(!a.length)return;const l=r.getPrivkeyBytes();if(!l)return;const c=o.roomTags;if(!c.length)return;const f=o.recipientsPubkeys;if(!f.length)return;const u={content:a,tags:c},d=[];let h=null;f.forEach(y=>{const p=rE(u,l),m=oE(p,l,y),b=iE(m,y);d.push(b),y===o.userPubkey&&(h=p)}),s.value="",n("preSendMessage",h,d)};return(a,l)=>(R(),A("form",{onSubmit:On(i,["prevent"])},[w("div",W2,[Mn(w("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>s.value=c),class:"chats__input",type:"text"},null,512),[[Un,s.value,void 0,{trim:!0}]]),l[1]||(l[1]=w("button",{type:"submit",class:"chats__send-btn"},"Send",-1))])],32))}}),K2=ge(q2,[["__scopeId","data-v-6e041f12"]]),z2={},G2={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chevron-left",viewBox:"0 0 16 16"};function J2(e,t){return R(),A("svg",G2,t[0]||(t[0]=[w("path",{"fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"},null,-1)]))}const Z2=ge(z2,[["render",J2]]),{normalizeURL:Y2}=Ht,Q2=bt("chatsRelaysCache",()=>{const e=$({}),t=$(!1);function n(i){i.forEach(a=>{const{pubkey:l,tags:c}=a;e.value.hasOwnProperty(l)||(e.value[l]={relays:new Set,cache_created:Date.now()}),c.forEach(f=>{if((f[0]==="r"||f[0]==="relay")&&f[1]&&f[1].length){const u=Y2(f[1]);e.value[l].relays.add(u)}})})}function s(i){const a=new Set;return i.forEach(l=>{o(l).forEach(f=>a.add(f))}),a}function r(i){return e.value.hasOwnProperty(i)}function o(i){return r(i)?e.value[i].relays:new Set}return{metas:e,hasMeta:r,getMetaRelays:o,addMetas:n,getRelaysByPubkeys:s,isLoadingRelays:t}}),X2={class:"chat-header"},eR={class:"chat-title"},tR={class:"chats__chat-footer"},nR=be({__name:"ChatsConversation",props:{chat:{},userPubkey:{},showChatsList:{type:Boolean}},emits:["setMessageStatusToPublished","handleDeselectChat"],setup(e,{emit:t}){const n=t,s=od(),r=Q2(),o=et(),a=nn().pool,l=$({}),c=$({}),f=e,u=$(null),d=he(()=>{var S,k,L;return(S=f==null?void 0:f.chat)!=null&&S.messages.length?(k=f.chat.messages[f.chat.messages.length-1])==null?void 0:k.event.tags:(L=f==null?void 0:f.chat)!=null&&L.initialRoomTags?f.chat.initialRoomTags:[]}),h=he(()=>d.value.length?[...new Set(d.value.map(S=>S[1]))]:[]),y=he(()=>h.value.filter(S=>S!==f.userPubkey));wi(async()=>{p();let S=[];y.value.forEach(H=>{r.hasMeta(H)||S.push(H)});const{chat:k}=f;if(!S.length||c.value[k.id])return;c.value[k.id]=!0;const L=o.connectedUserReadWriteUrlsWithSelectedRelay,T=await a.querySync(L,{kinds:[rt.DM_RELAYS],authors:S}),F=new Set;if(T.forEach(H=>{H.tags.some(x=>(x[0]==="r"||x[0]==="relay")&&x[1]&&x[1].length)&&F.add(H.pubkey)}),r.addMetas(T),S=S.filter(H=>!F.has(H)),S.length){const H=await a.querySync(L,{kinds:[rt.RELAY_LIST_META],authors:S});r.addMetas(H)}c.value[k.id]=!1,await ns(),setTimeout(()=>{var V;if(!((V=l.value[k.id])!=null&&V.length))return;const H=[...l.value[k.id]].reverse();l.value[k.id]=[],H.forEach(async x=>{await E(x.relays,x.wrapsBundle),n("setMessageStatusToPublished",k.id,x.rumorId)})},1)});const p=async()=>{await ns();const S=u.value;S&&(S.scrollTop=S.scrollHeight)},m=async(S,k)=>{const{chat:L}=f,T={event:S,isPublished:!1};s.addOwnRumor(S.id),L.messages.push(T),p();const F=b();if(c.value[L.id]){l.value[L.id]||(l.value[L.id]=[]),l.value[L.id].push({rumorId:S.id,relays:F,wrapsBundle:k});return}await E(F,k);const H=L.messages.findIndex(V=>V.event.id===S.id);L.messages[H].isPublished=!0},b=()=>{const S=o.userChatRelaysUrls,k=r.getRelaysByPubkeys(y.value);return[...new Set([...S,...k])]},E=async(S,k)=>{const L=[];return k.forEach(T=>{L.push(...a.publish(S,T))}),await Promise.allSettled(L)};return(S,k)=>(R(),A("div",{class:me(["conversation",{"conversation_mobile-hidden":S.showChatsList}])},[w("div",X2,[w("span",{onClick:k[0]||(k[0]=L=>n("handleDeselectChat")),class:"chats-link"},[ue(Z2),k[1]||(k[1]=w("span",null,"Chats",-1))]),w("span",eR,ae(S.chat?S.chat.title:"Select chat"),1)]),S.chat?(R(),A("div",{key:0,class:"chats__messages",ref_key:"messagesContainer",ref:u},[ue(j2,{messages:S.chat.messages,userPubkey:S.userPubkey},null,8,["messages","userPubkey"])],512)):re("",!0),w("div",tR,[ue(K2,{roomTags:d.value,recipientsPubkeys:h.value,userPubkey:S.userPubkey,onPreSendMessage:m},null,8,["roomTags","recipientsPubkeys","userPubkey"])])],2))}}),sR=ge(nR,[["__scopeId","data-v-ca9f122d"]]),rR={key:0,class:"no-chats"},oR=["onClick"],iR=be({__name:"ChatsList",props:{chats:{},currentChatId:{},showChatsList:{type:Boolean},handleSelectChat:{type:Function}},setup(e){return(t,n)=>(R(),A("div",{class:me(["chats__list",{"chats__list_mobile-hidden":!t.showChatsList}])},[t.chats.length?re("",!0):(R(),A("div",rR,"No chats yet...")),(R(!0),A(_e,null,dt(t.chats,s=>(R(),A("div",{key:s.id,class:me(["chats__list-item",{active:t.currentChatId===s.id}]),onClick:r=>t.handleSelectChat(s.id)},[w("strong",null,ae(s.title),1)],10,oR))),128))],2))}}),aR=ge(iR,[["__scopeId","data-v-b2c63550"]]),lR={class:"user-field-wrapper"},cR={key:0,class:"no-chats"},uR={key:1},fR={key:2,class:"chats"},dR=be({__name:"Chat",setup(e){const{normalizeURL:t}=Ht;let n;const s=et(),r=it(),o=od(),a=nn().pool,l=$(""),c=$(!1),f=$({}),u=$({}),d=$(""),h=$(!1),y=he(()=>Object.keys(f.value).length===0),p=he(()=>s.isConnectedToReadWriteRelays&&r.isNsecValidTemp),m=he(()=>Object.entries(f.value).map(([x,B])=>B).sort((x,B)=>B.created_at_last_message-x.created_at_last_message)),b=$(!0);Ve(()=>r.nsec,async()=>{r.isNsecValidTemp&&(d.value=r.getPubkey())},{immediate:!0}),Ve(()=>s.isConnectingToReadWriteRelays,x=>{x&&(h.value=!0)}),Ve(()=>s.isConnectedToReadWriteRelays,x=>{x&&r.isNsecValidTemp&&k()}),wt(()=>{p.value&&k()});const E=x=>{f.value[x.id]=x,setTimeout(()=>{if(u.value[x.id]){const B=[...u.value[x.id]];u.value[x.id]=[],B.forEach(G=>{f.value[x.id].messages.push(G)})}},1),h.value=!1},S=x=>{console.error("Chats error:",x)},k=async()=>{h.value=!0;let x=s.connectedUserReadWriteUrlsWithSelectedRelay;const B=r.getPubkey();f.value={},n==null||n.close();const G=await a.querySync(x,{kinds:[rt.DM_RELAYS],authors:[B]});if(G.length){const K=new Set;G.forEach(Z=>{Z.tags.forEach(Y=>{(Y[0]==="r"||Y[0]==="relay")&&Y[1]&&Y[1].length&&K.add(t(Y[1]))})}),K.size&&(x=[...K],s.setUserDMRelaysUrls(x))}const ne=await a.querySync(x,{kinds:[rt.GIFT_WRAP],"#p":[B]}),oe=r.getPrivkeyBytes();let U={},D=0;const W=new Set;ne.forEach(K=>{W.add(K.id);const Z=Pl(K,oe);if(!Z||Al(Z))return;const Y=Cl(Z),de=Tl(Z);U[Y]?U[Y].messages.push(de):U[Y]={messages:[de]},Z.created_at>D&&(D=Z.created_at)});const J=[];for(const K in U){const Z=U[K];Z.id=K,Z.messages=Z.messages.sort((de,ke)=>de.event.created_at-ke.event.created_at),Z.created_at_last_message=Z.messages[Z.messages.length-1].event.created_at;const Y=$2(Z,B,a,s.connectedUserReadWriteUrlsWithSelectedRelay);J.push(Y)}J.length?Of(J,E,S):h.value=!1;const N=ne.length?D-ed:null;L(x,N,W)},L=(x,B=null,G=null)=>{const ne=r.getPubkey(),oe=r.getPrivkeyBytes(),U={kinds:[rt.GIFT_WRAP],"#p":[ne]};B&&(U.since=B),n=a.subscribeMany(x,[U],{onevent(D){if(G&&G.has(D.id))return;const W=Pl(D,oe);if(!W||Al(W))return;const J=Cl(W),N=Tl(W);if(f.value[J]){if(o.ownRumors.has(N.event.id))return;f.value[J].messages.push(N)}else u.value[J]||(u.value[J]=[]),u.value[J].push(N)}})},T=x=>{l.value=x,b.value=!1},F=()=>{l.value="",b.value=!0},H=(x,B)=>{const G=f.value[x].messages.find(ne=>ne.event.id===B);G&&(G.isPublished=!0)},V=async x=>{const B=x===d.value?[x]:[d.value,x],G=N2(B);if(f.value[G])return T(G);c.value=!0;const ne=await B2(x,a,s.connectedUserReadWriteUrlsWithSelectedRelay);c.value=!1;const oe={id:G,messages:[],title:ne,initialRoomTags:B.map(U=>["p",U]),created_at_last_message:Yr()};E(oe),await ns(),T(G)};return(x,B)=>(R(),A(_e,null,[B[0]||(B[0]=w("div",{class:"chats-desc"},[w("p",null,[Ee(" Chats use the new Nostr "),w("a",{target:"_blank",href:"https://github.com/nostr-protocol/nips/blob/master/44.md"},"NIP-44"),Ee(" encryption standard. Make sure the person you are chatting with uses a Nostr client that supports this NIP. ")])],-1)),w("div",lR,[ue(H2,{onStartChat:V,isLoadingProfile:c.value},null,8,["isLoadingProfile"])]),B[1]||(B[1]=w("h3",{class:"chats-title"},"Chats",-1)),!p.value&&!h.value?(R(),A("div",cR," Please connect and login to see you chats. ")):re("",!0),h.value?(R(),A("div",uR,"Loading chats...")):re("",!0),p.value&&!h.value?(R(),A("div",fR,[ue(aR,{chats:m.value,currentChatId:l.value,handleSelectChat:T,showChatsList:b.value},null,8,["chats","currentChatId","showChatsList"]),y.value?re("",!0):(R(),xe(sR,{key:0,onSetMessageStatusToPublished:H,onHandleDeselectChat:F,chat:f.value[l.value],userPubkey:d.value,showChatsList:b.value},null,8,["chat","userPubkey","showChatsList"]))])):re("",!0)],64))}}),hR=ge(dR,[["__scopeId","data-v-2384e4de"]]),pR={class:"fields"},gR={class:"field"},yR={key:0,class:"field"},vR={class:"field-elements"},mR={class:"field"},wR={class:"field-elements"},bR={class:"remember-me"},_R={class:"field"},ER=["disabled"],RR={class:"error"},xR=be({__name:"Login",setup(e){const n=nn().pool,s=et(),r=it(),o=kn(),i=Zr(),a=ps(),l=xn(),c=$(s1),f=he(()=>c.value==="custom"),u=he(()=>r.isValidNsecPresented()),d=$(""),h=$(!1),y=r1.map(x=>({key:x,value:x})).concat({key:"custom",value:"Custom relay url"});let p="/feed",m=!1;wt(()=>{E()&&(p=history.state.back,m=!0)}),Ve(()=>r.nsec,()=>{if(!r.isValidNsecPresented()){localStorage.clear(),r.setRememberMe(!1);return}r.rememberMe&&localStorage.setItem("privkey",r.nsec)});const b=x=>{h.value=x},E=()=>history.state&&/^\/(user|event)\/[a-zA-Z0-9]+$/g.test(history.state.back),S=x=>{c.value=x},k=x=>{d.value=x},L=x=>{b(!1),k(x)},T=async()=>{let x=c.value;if(x==="custom"){const B=s.selectInputCustomRelayUrl;x=B.length?B:""}if(!x.length)return k("Please provide relay URL or choose one from the list.");if(x=Ht.normalizeURL(x),!x.length)return k("Invalid relay URL");if(r.isNotValidNsecPresented())return k("Private key is invalid. Please check it and try again.");if(h.value)return k("Your are already connecting to the relay. Please wait.");await F(x)},F=async x=>{b(!0);let B;try{B=await A_(x)}catch(G){return L(G.message)}if(s.updateCurrentRelay(B),r.isValidNsecPresented()){const G=r.getPubkey(),ne=await B_(G,[x],n);if(!ne)return L("Your profile was not found on the selected relay. Please check the private key or change the relay and try again.");i.updateMeta(ne),o.setSelectedFeedSource("follows");let oe=await El(G,[x],n);if(oe!=null&&oe.tags.length){const J=await V(oe,x);s.setReadWriteRelays(Uf(J))}s.setReadWriteRelaysStatus({connecting:!0,connected:!1});const U=s.userReadWriteRelays,{read:D,write:W}=await I_(n,U);s.setConnectedUserReadWriteRelays({read:D,write:W}),s.setReadWriteRelaysStatus({connecting:!1,connected:!0})}b(!1),m&&a.updateRoutingStatus(!0),o.setMountAfterLogin(!0),l.push({path:p})},H=()=>{r.setRememberMe(!r.rememberMe),r.rememberMe?localStorage.setItem("privkey",r.nsec):localStorage.clear()},V=async(x,B)=>{const G=x.pubkey,ne=x.tags.map(U=>Ht.normalizeURL(U[1])).filter(U=>U!==B),oe=await El(G,ne,n);return oe&&oe.tags.length&&oe.created_at>=x.created_at?oe:x};return(x,B)=>(R(),A("div",pR,[w("div",gR,[B[2]||(B[2]=w("label",{class:"select-relay-label"},[w("strong",null,"Select relay")],-1)),ue(Qf,{listItems:te(y),onHandleSelect:S},null,8,["listItems"])]),f.value?(R(),A("div",yR,[w("div",vR,[Mn(w("input",{"onUpdate:modelValue":B[0]||(B[0]=G=>te(s).selectInputCustomRelayUrl=G),class:"text-input",id:"relay_url",type:"text",placeholder:"[wss://]relay.example.com"},null,512),[[Un,te(s).selectInputCustomRelayUrl]])])])):re("",!0),w("div",mR,[B[3]||(B[3]=w("label",{class:"text-input-label",for:"priv_key"},[w("strong",null,"Login with private key (optional)")],-1)),w("div",wR,[Mn(w("input",{"onUpdate:modelValue":B[1]||(B[1]=G=>te(r).nsec=G),class:"text-input",id:"priv_key",type:"password",placeholder:"nsec..."},null,512),[[Un,te(r).nsec]])])]),w("div",bR,[u.value?(R(),xe(Qi,{key:0,onOnChange:H,checked:te(r).rememberMe,label:"Remember me"},null,8,["checked"])):re("",!0)]),w("div",_R,[w("button",{disabled:h.value,onClick:T,class:"button button-block"},ae(h.value?"Connecting...":"Connect"),9,ER)]),w("div",RR,ae(d.value),1)]))}}),SR=ge(xR,[["__scopeId","data-v-64a03974"]]),kR={class:"tabs"},CR=be({__name:"MainMenu",setup(e){const t=hs();return he(()=>t.cachedUrlNpub.length?`/user/${t.cachedUrlNpub}`:"/user"),(n,s)=>{const r=Ws("router-link");return R(),A("div",kR,[ue(r,{class:"tab-link",to:"/feed"},{default:ut(()=>s[0]||(s[0]=[w("span",{class:"tab-link-text"},[w("i",{class:"tab-icon bi bi-justify-right"}),Ee(" Feed ")],-1)])),_:1}),ue(r,{class:"tab-link",to:"/chat"},{default:ut(()=>s[1]||(s[1]=[w("span",{class:"tab-link-text"},[w("i",{class:"tab-icon bi bi-chat-dots"}),Ee(" Chat ")],-1)])),_:1}),ue(r,{class:"tab-link",to:"/help"},{default:ut(()=>s[2]||(s[2]=[w("span",{class:"tab-link-text"},[w("i",{class:"tab-icon bi bi-info-circle"}),Ee(" Help ")],-1)])),_:1}),ue(r,{class:"tab-link",to:"/settings"},{default:ut(()=>s[3]||(s[3]=[w("span",{class:"tab-link-text"},[w("i",{class:"tab-icon bi bi-gear"}),Ee(" Settings ")],-1)])),_:1})])}}}),PR=ge(CR,[["__scopeId","data-v-f127bd91"]]),TR={class:"search"},AR={key:0,class:"warning"},IR=be({__name:"MainSearchField",setup(e){const t=hs(),n=ps(),s=xn(),r=$(!1),o=$(0),i=$({}),a=()=>{clearTimeout(o.value);const u=t.npubInput;if(!u.length){t.setError("");return}let d="user";if(!mr(u))try{const{type:h}=si(u);h==="note"&&(d="event")}catch(h){u.length>62?t.setError(h.message):o.value=setTimeout(()=>{t.setError(h.message)},2e3);return}t.setError(""),c(u,d)},l=()=>{r.value=!0;const u=t.npubInput;if(!u.length){t.setError("");return}let d="user";if(mr(u))c(u,d);else try{const{type:h}=si(u);h==="note"&&(d="event"),c(u,d)}catch{}},c=(u,d)=>{n.updateSearchStatus(!0),n.updateRoutingStatus(!0),s.push({path:`/${d}/${u}`})},f=()=>{clearTimeout(o.value),t.updateNpubInput(""),t.setError(""),i.value.focus()};return(u,d)=>(R(),A("div",TR,[w("div",{class:me(["search-field",{active:r.value,"has-content":te(t).npubInput.length}])},[w("i",{onClick:d[0]||(d[0]=h=>i.value.focus()),class:"bi bi-search search-icon"}),Mn(w("input",{onFocus:l,onBlur:d[1]||(d[1]=h=>r.value=!1),class:me(["search-input",{active:r.value}]),type:"text",placeholder:"pubkey or note id...","onUpdate:modelValue":d[2]||(d[2]=h=>te(t).npubInput=h),onInput:a,ref_key:"input",ref:i},null,34),[[Un,te(t).npubInput,void 0,{trim:!0}]]),te(t).npubInput.length?(R(),A("i",{key:0,onClick:f,class:"bi bi-x-circle clear-icon"})):re("",!0)],2),te(t).error.length?(R(),A("div",AR,"* "+ae(te(t).error),1)):re("",!0)]))}}),$R=ge(IR,[["__scopeId","data-v-5fc8eecd"]]),LR={class:"header"},BR=["href"],NR={key:1,class:"connect-wrapper"},MR=be({__name:"Header",emits:["clearAppState"],setup(e,{emit:t}){const n=t,s=Zr(),r=hs(),o=ps(),i=it(),a=et(),l=xn(),c=he(()=>i.isValidNsecPresented()&&s.username.length?s.username:""),f=()=>{const d=i.getPubkey(),h=Fe.npubEncode(d);r.updateNpubInput(h),o.updateRoutingStatus(!0),l.push({path:Is(d)})},u=async()=>{await n("clearAppState")};return(d,h)=>(R(),A("div",LR,[w("div",{class:me(["menu",{loggedin:te(i).isValidNsecPresented()}])},[ue(PR),c.value.length?(R(),A("a",{key:0,class:"username-link",onClick:On(f,["prevent"]),href:te(Is)(te(i).getPubkey())}," @"+ae(c.value),9,BR)):(R(),A("span",NR,[te(a).isConnectedToRelay?(R(),A("a",{key:0,onClick:On(u,["prevent"]),class:"login-link",href:"/login"}," Login ")):(R(),A("button",{key:1,class:"connect-btn",onClick:u},"Connect"))]))],2),ue($R)]))}}),fn=ge(MR,[["__scopeId","data-v-cdfe2aa6"]]),UR=[{path:"/feed",name:"Feed",components:{default:Rl,Header:fn}},{path:"/message",name:"Message",components:{default:Rl,Header:fn}},{path:"/chat",name:"Chat",components:{default:hR,Header:fn}},{path:"/user",name:"Search",alias:["/event"],components:{default:kl,Header:fn}},{path:"/user/:id",name:"Search",alias:["/event/:id"],components:{default:kl,Header:fn}},{path:"/help",name:"Help",components:{default:xl,Header:fn}},{path:"/",components:{default:xl,Header:fn},beforeEnter:(e,t,n)=>{const s=e.query.user,r=e.query.event;s!=null&&s.length?n({path:`/user/${s}`}):r!=null&&r.length?n({path:`/event/${r}`}):n()}},{path:"/settings",name:"Settings",components:{default:S2,Header:fn}},{path:"/login",component:SR}],OR=Ug({history:hg(),routes:UR}),FR=be({__name:"App",setup(e){var i;const t=xn(),n=it(),s=!!((i=localStorage.getItem("privkey"))!=null&&i.length);n.setRememberMe(s);const r=s?localStorage.getItem("privkey"):"";n.updateNsec(r||"");const o=async(a=!1)=>{a&&(localStorage.clear(),n.clear()),await t.push("/login"),location.reload()};return(a,l)=>{const c=Ws("router-view");return R(),A(_e,null,[ue(c,{onClearAppState:o,name:"Header"}),a.$route.name==="Settings"?(R(),xe(c,{key:0,onClearAppState:o})):re("",!0),a.$route.name!=="Settings"?(R(),xe(c,{key:1})):re("",!0)],64)}}}),HR=Cp(FR),DR=Ap();HR.use(OR).use(DR).mount("#app");
